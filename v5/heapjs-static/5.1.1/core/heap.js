/*! For license information please see heap.js.LICENSE.txt */
!function(){var e={3504:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoreAPIDependencies=void 0;var n=function(){function e(){}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setAPIDependencies=function(e){this.coreAPIs=e},e}();t.CoreAPIDependencies=n},1225:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionQueue=void 0;var i=n(1295),a=function(){function e(){this.apiQueue=[],this.onReadyQueue=[],this.onReadyQueueHasBeenFlushed=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.enqueueHeapApi=function(e){i.logger.debug("enqueuing API function",e),this.apiQueue.push(e)},e.prototype.enqueueOnReady=function(e){i.logger.debug("enqueuing onReady function",e),this.onReadyQueue.push(e)},e.prototype.dequeueHeapApi=function(){return this.apiQueue.shift()},e.prototype.dequeueOnReady=function(){return this.onReadyQueue.shift()},e.prototype.executeHeapApiQueue=function(){for(var e;this.apiQueue.length>0;){var t=this.dequeueHeapApi();try{null===(e=null==t?void 0:t.fn)||void 0===e||e.call(t)}catch(e){i.logger.warn("FunctionQueue -- exception thrown when executing API callback, ignoring and continuing",{fn:t})}}},e.prototype.executeStopTrackingAndStopRecording=function(){var e=[];this.apiQueue=this.apiQueue.filter((function(t){return!["stopTracking","stopRecording"].includes(t.name)||(e.push(t),!1)})),e.forEach((function(e){try{e.fn()}catch(t){i.logger.warn("FunctionQueue -- exception thrown when executing stopTracking/stopRecording API callback, ignoring and continuing",{fn:e})}}))},e.prototype.executeOnReadyQueue=function(){var e,t=o([],r(this.onReadyQueue),!1);for(i.logger.debug("executeOnReadyQueue -- executing onReady function queue",{queue:t});this.onReadyQueue.length>0;){var n=this.dequeueOnReady();try{null===(e=null==n?void 0:n.fn)||void 0===e||e.call(n)}catch(e){i.logger.warn("FunctionQueue -- exception thrown when executing onReady callback, ignoring and continuing",{fn:n})}}this.onReadyQueueHasBeenFlushed=!0},e.prototype.getApiQueue=function(){return this.apiQueue},e.prototype.getOnReadyQueue=function(){return this.onReadyQueue},e.prototype.getOnReadyQueueHasBeenFlushed=function(){return this.onReadyQueueHasBeenFlushed},e}();t.FunctionQueue=a},5614:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.publicAPIs=t.pluginAPIs=void 0;var o=n(6381),i=n(1295),a=n(6533),s=n(5050),u=n(4924),c=n(9974),l=n(9318),f=n(9327),p=n(7229),d=n(8141),m=n(8285),g=n(6846),v=n(4737),y=n(311),h=n(1225),_=n(2720),T=n(5023),E=n(9191),S=n(4915),I=n(9496),b=n(145),w=n(6190),P=n(7429),A=n(4544),O=n(8323),k=n(9386),N=n(196),M=n(3392),C=n(7634),R=n(8207),D=n(7136),L=n(4503),U=n(8217);t.pluginAPIs={addAdapter:function(e,t){(0,A.isAdapterValid)(e)?!t||(0,d.isObject)(t)?(i.logger.info("Adding adapter to registry",{adapter:e,config:t}),I.AdapterRegistry.getInstance().registerAdapter(e,t)):i.logger.warn("addAdapter called with an invalid configuration",{config:t}):i.logger.warn("addAdapter called with an invalid adapter",{adapter:e})},markAdapterAsResolved:function(e){e&&(0,d.isString)(e)?I.AdapterRegistry.getInstance().markAdapterAsResolved(e):i.logger.warn("markAdapterAsResolved called with an invalid adapterName",{adapterName:e})},addTransformer:function(e,t){(0,A.isTransformerValid)(e)?!t||[S.PipelineEnum.GENERAL,S.PipelineEnum.METADATA].includes(t)?(i.logger.info("Adding transformer to registry",{transformer:e,pipelineName:t}),b.TransformerRegistry.getInstance().registerTransformer(e,t)):i.logger.warn("addTransformer called with an invalid pipeline, can only be general or metadata",{pipelineName:t}):i.logger.warn("addTransformer called with an invalid transformer",{transformer:e})},addTransformerFn:function(e,t,n,r){void 0===n&&(n=S.PipelineEnum.GENERAL),void 0===r&&(r=!1),e&&t&&(0,d.isString)(e)&&(0,d.isFunction)(t)?!n||[S.PipelineEnum.GENERAL,S.PipelineEnum.METADATA].includes(n)?(i.logger.info("Adding transformer function to registry",{name:e,transformerFn:t,pipelineName:n}),r?b.TransformerRegistry.getInstance().registerTransformerFnAsync(e,t,n):b.TransformerRegistry.getInstance().registerTransformerFn(e,t,n)):i.logger.warn("addTransformerFn called with an invalid pipeline, can only be general or metadata",{pipelineName:n}):i.logger.warn("Transformer function must have a valid name and a function",{name:e,transformerFn:t})},removeTransformer:function(e){e&&(0,d.isString)(e)?b.TransformerRegistry.getInstance().removeTransformer(e):i.logger.warn("removeTransformer called with an invalid transformer name",{transformerName:e})},resetTransformers:function(){b.TransformerRegistry.getInstance().resetTransformers()},addNetworkClient:function(e){}},t.publicAPIs=r(r({appid:"",loaded:!1,config:{}},t.pluginAPIs),{init:function(e,n,r){try{if(t.publicAPIs.loaded)return void i.logger.debug("heap.init was called multiple times. duplicate calls will have no effect");var o=i.logger.getLogLevelFromStorage(e);if(o?i.logger.setLogLevel(o):(null==n?void 0:n.logLevel)&&i.logger.setLogLevel(n.logLevel),i.logger.trace("Initializing heap"),!e||!(0,d.isString)(e))return void i.logger.error("heap.init was called with an invalid environment ID: ".concat(e));var a=T.ConfigStore.getInstance();a.setConfig(a.resolveConfig(n,r));var s=u.MetadataStore.getInstance();s.setEnvironmentId(e);var l=h.FunctionQueue.getInstance();if(l.executeStopTrackingAndStopRecording(),T.ConfigStore.getInstance().getShouldStopTracking())return void i.logger.info("Heap has been disabled for this client, preventing initialization");if((0,L.csOptOutExists)())return void i.logger.debug("Terminating heap initialization");t.publicAPIs.loaded=!0,t.publicAPIs.appid=e,t.publicAPIs.config=a.getConfig(),(0,y.initNetwork)(),(0,c.initTransformers)(),(0,P.migrateFromV4)(),(0,k.handleStateTransferForMetadata)(),(0,k.handleStateTransferForEventProperties)(),l.executeHeapApiQueue(),s.setMetadataStateFromCrossDomainContextIfPresent(),s.createNewUserIfNeeded(),s.createNewSessionIfNeeded(),s.createNewPageviewIfNeeded(),I.AdapterRegistry.getInstance().initializeAdapters({getSnapshotProperties:N.getSnapshotProperties,getSnapshotDefinitions:N.getSnapshotDefinitions,track:t.publicAPIs.track,logger:i.logger,getConfig:t.publicAPIs.getConfig,getSessionMetadata:w.getSessionMetadata,createNewSessionIfNeeded:w.createNewSessionIfNeeded,createNewPageview:w.createNewPageview,flushQueueOnUnload:w.flushQueueOnUnload,flushEventQueue:w.flushEventQueue,addTransformerFn:t.pluginAPIs.addTransformerFn,addPageviewProperties:w.addPageviewProperties,setReferrer:w.setReferrer,updateLastEventTime:w.updateLastEventTimeIfActiveSession,onReady:t.publicAPIs.onReady}),i.logger.debug("Heap initialization is complete"),I.AdapterRegistry.getInstance().shouldBlockEventProcessing()||l.getOnReadyQueueHasBeenFlushed()||l.executeOnReadyQueue(),(0,E.addQueueFlushOnPageUnloadHandler)()}catch(e){t.publicAPIs.loaded=!1,i.logger.error("Failed to initialize heap",e)}},startRecording:function(e,t){},stopRecording:function(){},stopTracking:function(e){i.logger.debug("heap.stopTracking was called"),t.publicAPIs.loaded=!1,T.ConfigStore.getInstance().setShouldStopTracking(!0),n.g.clearInterval(c.transformerIntervalId),e&&(i.logger.debug("heap.stopTracking -- clearing state"),u.MetadataStore.getInstance().clearMetadata(),v.EventPropertiesStore.getInstance().clearProperties(),C.default.deleteQueue(),R.default.deleteQueue(),D.DualWriteToV4.deleteV4Cookies())},track:function(e,n,r){if((0,m.isTrackValid)(e,n,r))if(t.publicAPIs.loaded){var u=(0,s.generateId)(),c=(0,d.isString)(r)?{name:r,version:"0.0.0",platform:"web"}:r;(0,o.enqueueOntoEventProcessingQueue)([{id:u,type:a.CoreEventEnum.CORE_TRACK,info:{event:e,properties:n,source:c,isAutotrack:(0,m.isAutotrackEvent)(e,c)},data:{id:u,time:(new Date).getTime()}}])}else(0,_.enqueueOntoHeapApiFunctionQueue)("track",(function(){t.publicAPIs.track(e,n,r)}));else i.logger.debug("heap.track was called with bad arguments.",{event:e,properties:n,sourceInfo:r})},trackPageview:function(e){if(t.publicAPIs.loaded){(0,c.processAllMessagesInEventProcessingQueue)();var n=(0,M.validateAndTransformPageviewProperties)(e);(0,w.createNewPageview)(n)}else(0,_.enqueueOntoHeapApiFunctionQueue)("trackPageview",(function(){t.publicAPIs.trackPageview(e)}))},identify:function(e){if((0,l.isIdentityValid)(e))if(t.publicAPIs.loaded){var n=u.MetadataStore.getInstance(),r=n.getIdentity(),o=(0,p.truncate)("".concat(e),f.MAX_ATTRIBUTE_LENGTH);r!==o?r?((0,c.processAllMessagesInEventProcessingQueue)(),i.logger.info("Clearing current identity ".concat(r," and creating a new user")),n.clearMetadata(),n.createNewUserIfNeeded({identity:o,heapDrives:!0})):(n.createNewSessionIfNeeded({heapDrives:!0}),(0,c.queueIdentityEvent)(o)):i.logger.info("heap.identify was called with the existing identity: ".concat(r))}else(0,_.enqueueOntoHeapApiFunctionQueue)("identify",(function(){t.publicAPIs.identify(e)}));else i.logger.info("heap.identify was called with a bad identity",{identity:e})},resetIdentity:function(){if(t.publicAPIs.loaded){var e=u.MetadataStore.getInstance(),n=e.getIdentity();n?((0,c.processAllMessagesInEventProcessingQueue)(),i.logger.info("Clearing current identity ".concat(n," and creating a new user")),e.clearMetadata(),e.createNewUserIfNeeded({heapDrives:!0})):i.logger.info("heap.resetIdentity called on an anonymous user - no action")}else(0,_.enqueueOntoHeapApiFunctionQueue)("resetIdentity",(function(){t.publicAPIs.resetIdentity()}))},addUserProperties:function(e){(0,g.isUserPropertiesValid)(e)?t.publicAPIs.loaded?(0,c.queueAddUserPropertiesEvent)(e):(0,_.enqueueOntoHeapApiFunctionQueue)("addUserProperties",(function(){t.publicAPIs.addUserProperties(e)})):i.logger.info("heap.addUserProperties was called with bad properties: ".concat(e))},addEventProperties:function(e){if((0,d.isObject)(e))if(t.publicAPIs.loaded){var n=(0,p.sanitizeProperties)(e);v.EventPropertiesStore.getInstance().addProperties(n)}else(0,_.enqueueOntoHeapApiFunctionQueue)("addEventProperties",(function(){t.publicAPIs.addEventProperties(e)}));else i.logger.info("heap.addEventProperties was called with bad properties: ".concat(e))},removeEventProperty:function(e){(0,d.isString)(e)?t.publicAPIs.loaded?v.EventPropertiesStore.getInstance().removeEventProperty(e):(0,_.enqueueOntoHeapApiFunctionQueue)("removeEventProperty",(function(){t.publicAPIs.removeEventProperty(e)})):i.logger.info("heap.removeEventProperty was called with a bad value: ".concat(e))},clearEventProperties:function(){t.publicAPIs.loaded?v.EventPropertiesStore.getInstance().clearProperties():(0,_.enqueueOntoHeapApiFunctionQueue)("clearEventProperties",(function(){t.publicAPIs.clearEventProperties()}))},addPageviewProperties:function(e){if((0,d.isObject)(e))if(t.publicAPIs.loaded){var n=u.MetadataStore.getInstance(),r=(0,p.sanitizeProperties)(e);r&&n.addCustomPageviewProperties(r)}else(0,_.enqueueOntoHeapApiFunctionQueue)("addPageviewProperties",(function(){t.publicAPIs.addPageviewProperties(e)}));else i.logger.info("heap.addPageviewProperties was called with bad properties: ".concat(e))},removePageviewProperty:function(e){(0,d.isString)(e)?t.publicAPIs.loaded?u.MetadataStore.getInstance().removeCustomPageviewProperty(e):(0,_.enqueueOntoHeapApiFunctionQueue)("removePageviewProperty",(function(){t.publicAPIs.removePageviewProperty(e)})):i.logger.info("heap.removePageviewProperty was called with a bad value: ".concat(e))},clearPageviewProperties:function(){t.publicAPIs.loaded?u.MetadataStore.getInstance().clearCustomPageviewProperties():(0,_.enqueueOntoHeapApiFunctionQueue)("clearPageviewProperties",(function(){t.publicAPIs.clearPageviewProperties()}))},getSessionId:function(e){var t=u.MetadataStore.getInstance();if(t.hasSessionExpired())return i.logger.debug("heap.getSessionId - session has expired"),e&&e(null),null;if(t.getHasSessionBeenQueued()){var r=t.getSessionId();return e&&e(r),r}if(i.logger.debug("heap.getSessionId - session has not been instantiated"),e){var o=n.g.setInterval((function(){if(i.logger.trace("heap.getSessionId - checking if session has been created"),t.getHasSessionBeenQueued()){n.g.clearInterval(o);var r=t.getSessionId();e(r)}}),200);n.g.setTimeout((function(){n.g.clearInterval(o)}),3e3)}return null},getUserId:function(e){var t=u.MetadataStore.getInstance();if(t.getHasUserBeenQueued()){var r=t.getUserId();return e&&e(r),r}if(i.logger.debug("heap.getUserId - user has not been instantiated"),e){var o=n.g.setInterval((function(){if(i.logger.trace("heap.getUserId - checking if user has been created"),t.getHasUserBeenQueued()){n.g.clearInterval(o);var r=t.getUserId();e(r)}}),200);n.g.setTimeout((function(){n.g.clearInterval(o)}),3e3)}return null},getIdentity:function(e){var t=u.MetadataStore.getInstance().getIdentity()||null;return e&&e(t),t},getConfig:function(){return T.ConfigStore.getInstance().getConfig()},setLogLevel:function(e){Object.values(a.LogLevel).includes(e)&&i.logger.setLogLevel(e,t.publicAPIs.appid)},onReady:function(e){!t.publicAPIs.loaded||I.AdapterRegistry.getInstance().shouldBlockEventProcessing()?(0,_.enqueueOntoOnReadyFunctionQueue)(e):(i.logger.debug("heap.onReady -- heap is already loaded, executing function",{callback:e}),e())},getReplayId:function(){return(0,O.getReplayInfoForSessionReplay)()},setPath:function(e,n){if(void 0===n&&(n=U.SetPathLifespan.UserSession),(0,d.isString)(e)&&Object.values(U.SetPathLifespan).includes(n))if(t.publicAPIs.loaded){var r=window.location.origin+e,o=(0,M.parseUrl)(r);if(o&&o.path)u.MetadataStore.getInstance().setMetadata({setPath:{path:o.path,query:null==o?void 0:o.query,hash:null==o?void 0:o.hash,lifespan:n}})}else(0,_.enqueueOntoHeapApiFunctionQueue)("setPath",(function(){t.publicAPIs.setPath(e,n)}));else i.logger.info("heap.setPath was called with a bad value:",{path:e,lifespan:n})}})},6190:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.setReferrer=t.addPageviewProperties=t.updateLastEventTimeIfActiveSession=t.flushQueueOnUnload=t.getSessionMetadata=t.createNewPageview=t.createNewSessionIfNeeded=t.flushEventQueue=void 0;var o=n(9974),i=n(5614),a=n(4924),s=n(9191),u=n(1295),c=n(9327),l=n(477),f=n(7229),p=n(8711),d=n(8323);t.flushEventQueue=function(){i.publicAPIs.loaded&&(0,o.processAllMessagesInEventProcessingQueue)()};t.createNewSessionIfNeeded=function(){a.MetadataStore.getInstance().createNewSessionIfNeeded()};t.createNewPageview=function(e){var t;void 0===e&&(e={});var n=a.MetadataStore.getInstance();n.clearPageviewMetadata(),(0,p.loadPlugins)(),n.createNewPageviewIfNeeded({pageviewInfo:e}),(0,d.trackCsPageview)(null===(t=null==e?void 0:e.url)||void 0===t?void 0:t.path)};t.getSessionMetadata=function(){var e=a.MetadataStore.getInstance();return r({envId:e.getEnvironmentId()},e.getMetadata())};t.flushQueueOnUnload=function(){i.publicAPIs.loaded&&(l.FlushState.getInstance().setShouldIgnoreBlockingTransformers(!0),(0,t.flushEventQueue)(),(0,s.flushNetworkQueue)(!0))};t.updateLastEventTimeIfActiveSession=function(e){if(i.publicAPIs.loaded){var t=a.MetadataStore.getInstance();t.getMetadata().lastEventTime+c.SESSION_EXPIRATION_IN_MS<(new Date).getTime()?u.logger.trace("updateLastEventTime -- session expired, ignoring"):t.updateLastEventTime(e)}};t.addPageviewProperties=function(e){var t=a.MetadataStore.getInstance(),n=(0,f.sanitizeProperties)(e);n&&t.addCustomPageviewProperties(n)};t.setReferrer=function(e){a.MetadataStore.getInstance().setMetadata({sessionProperties:{referrer:e}})}},9191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flushNetworkQueue=t.addQueueFlushOnPageUnloadHandler=t._hasUnloaded=void 0;var r=n(311),o=n(1295),i=n(9327),a=n(5614),s=n(6190),u=!1;t._hasUnloaded=function(){return u};t.addQueueFlushOnPageUnloadHandler=function(){var e=function(){a.publicAPIs.loaded&&!(0,t._hasUnloaded)()&&(o.logger.debug("Unload -- processing all messages in event processing queue"),(0,s.flushQueueOnUnload)())};document.addEventListener("beforeunload",e,!0),document.addEventListener("visibilitychange",e,!0),document.addEventListener("pagehide",e,!0)};t.flushNetworkQueue=function(e){var t=r.Network.getInstance();if(o.logger.trace("flushNetworkQueue -- number of buffered network events is ".concat(t.getBufferSize())),t.flushBufferOnUnload(),e&&(u=!0,t.getBufferSize())){var n=(new Date).getTime(),a=n;do{a=(new Date).getTime()}while(a<n+i.MAX_WAIT_TIME_FOR_BUFFER_FLUSH)}}},6846:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUserPropertiesValid=void 0;var r=n(8141);t.isUserPropertiesValid=function(e){return!(!(0,r.isObject)(e)||0===Object.keys(e).length)}},90:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachMobileSafariRedirectUnloadHandlers=void 0;var r=n(3504),o=n(1631),i=function(e){var t;if(e&&e.querySelectorAll){var n=(null===(t=r.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.flushQueueOnUnload)||function(){};e.querySelectorAll("a").forEach((function(e){e.addEventListener("click",n)})),e.querySelectorAll("form").forEach((function(e){e.addEventListener("submit",n)})),e.querySelectorAll("[onClick]").forEach((function(e){e.addEventListener("click",n)}))}};t.attachMobileSafariRedirectUnloadHandlers=function(){var e;if((0,o.isIOSWebkitBrowser)()){var t=(null===(e=r.CoreAPIDependencies.getInstance().coreAPIs)||void 0===e?void 0:e.flushQueueOnUnload)||function(){};addEventListener("blur",t,!0),addEventListener("pagehide",t,!0),i(document),addEventListener("DOMNodeInserted",(function(e){i(e.target)}),!1)}}},904:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GLOBALLY_BLOCKLISTED_ATTRIBUTES=t.HEAP_REDACT_ATTRIBUTES_ATTRIBUTE_NAME=t.ATTRIBUTES_TO_REDACT=t.CS_REDACT_TEXT_ATTRIBUTE_NAME=t.HEAP_REDACT_TEXT_ATTRIBUTE_NAME=t.ATTRIBUTES_TO_IGNORE=t.CS_ENCRYPT_ATTRIBUTE_NAME=t.HEAP_IGNORE_ATTRIBUTE_NAME=t.REDACTION_STRING=t.MAX_REQUEST_TIMEOUT_IN_MS=t.FRUSTRATION_TIME_INTERVAL_IN_MS=t.FRUSTRATION_CLICK_RADIUS=t.FRUSTRATION_CLICK_THRESHOLD=t.MAX_TARGET_TEXT_LENGTH=t.MAX_STRINGIFIED_NODE_LENGTH=t.MAX_SINGLE_REQUEST_VALUE_LENGTH=t.MAX_ATTRIBUTE_LENGTH=t.REDACTED_VALUE=void 0,t.REDACTED_VALUE="heap_redacted",t.MAX_ATTRIBUTE_LENGTH=255,t.MAX_SINGLE_REQUEST_VALUE_LENGTH=1024,t.MAX_STRINGIFIED_NODE_LENGTH=2*t.MAX_SINGLE_REQUEST_VALUE_LENGTH,t.MAX_TARGET_TEXT_LENGTH=64,t.FRUSTRATION_CLICK_THRESHOLD=5,t.FRUSTRATION_CLICK_RADIUS=100,t.FRUSTRATION_TIME_INTERVAL_IN_MS=3e3,t.MAX_REQUEST_TIMEOUT_IN_MS=300,t.REDACTION_STRING="****",t.HEAP_IGNORE_ATTRIBUTE_NAME="heap-ignore",t.CS_ENCRYPT_ATTRIBUTE_NAME="data-cs-encrypt",t.ATTRIBUTES_TO_IGNORE=[t.HEAP_IGNORE_ATTRIBUTE_NAME,t.CS_ENCRYPT_ATTRIBUTE_NAME],t.HEAP_REDACT_TEXT_ATTRIBUTE_NAME="data-heap-redact-text",t.CS_REDACT_TEXT_ATTRIBUTE_NAME="data-cs-mask",t.ATTRIBUTES_TO_REDACT=[t.HEAP_REDACT_TEXT_ATTRIBUTE_NAME,t.CS_REDACT_TEXT_ATTRIBUTE_NAME],t.HEAP_REDACT_ATTRIBUTES_ATTRIBUTE_NAME="data-heap-redact-attributes",t.GLOBALLY_BLOCKLISTED_ATTRIBUTES=["class","data-com.agilebits.onepassword.initial-value","data-com.onepassword.iv","data-ember-action","data-initial-value","data-previous-value","data-react-checksum","data-reactid","id","maxlength","onclick","onsubmit","style"]},4545:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClickedSubmitEventElements=void 0;var n=function(){function e(){this.clickedSubmitEventElements=[]}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.addEvent=function(e){this.clickedSubmitEventElements.push(e)},e.prototype.getEvents=function(){return this.clickedSubmitEventElements},e.prototype.clearEvents=function(){this.clickedSubmitEventElements=[]},e.prototype.findLast=function(e){for(var t=this.clickedSubmitEventElements.length-1;t>=0;t--){var n=this.clickedSubmitEventElements[t];if(e(n))return n}},e}();t.ClickedSubmitEventElements=n},5089:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionEventHistory=void 0;var n=function(){function e(){this.eventHistory=[],this.clickEventHistory=[]}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetEventHistory=function(){e.instance=new e},e.isClickEvent=function(e){return e instanceof MouseEvent},e.prototype.addClickEvent=function(t){e.isClickEvent(t)&&(this.clickEventHistory.length>e.MAX_CLICK_HISTORY_SIZE&&this.clickEventHistory.shift(),this.clickEventHistory.push({coordinates:{X:t.clientX,Y:t.clientY},time:t.timeStamp}))},e.prototype.addEvent=function(t){this.eventHistory.length>e.MAX_HISTORY_SIZE&&this.eventHistory.shift(),this.eventHistory.push(t),this.addClickEvent(t)},e.prototype.hasMatchingEvent=function(e){return this.eventHistory.includes(e)},e.MAX_HISTORY_SIZE=20,e.MAX_CLICK_HISTORY_SIZE=5,e}();t.InteractionEventHistory=n},8008:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addChangeHandler=void 0;var r=n(1719),o=n(8530),i="change";t.addChangeHandler=function(){(0,o.isInteractionEventCaptureDisabled)(i)||window.addEventListener(i,r.queueEvent,!0)}},4338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClickHandler=t.clickHandler=void 0;var r=n(1719),o=n(8316),i=n(2860),a=n(3504),s=n(3180),u=n(4545),c=n(108),l=n(8530),f=n(2872),p="click";t.clickHandler=function(e){var t,n=null===(t=a.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.logger;if(null==n||n.trace("Autocapture -- click event",{event:e}),"click"===e.type){var l=u.ClickedSubmitEventElements.getInstance();if((0,r.queueEvent)(e),(0,o.isLeftClick)(e)){var p=(0,c.getTargetFromComposedPath)(e),d=(0,i.findParentElement)(p,o.isFormSubmitButton),m=null!==d,g="__impl4cf1e782hg__"in e&&void 0!==e.__impl4cf1e782hg__;m?(l.addEvent([e,d]),null==n||n.trace("Autocapture -- clicked event is form submit click",{event:e,clickedSubmitEventElements:l.getEvents()})):!g&&(0,o.isPlainClick)(e)&&(0,s.afterFullyPropagated)(e,(function(){null==n||n.trace("Autocapture -- event fully propagated");var t=(0,o.findNearestAnchorElement)(p);try{(0,f.decorateLinkForCrossDomainTracking)(t)}catch(e){null==n||n.trace("Autocapture CDT -- Failed to decorate link for CDT, continuing",{error:e})}if((0,o.shouldInterceptHref)(t)){var r=(0,o.getStringFromMaybeSVGAnimatedString)(t.href),i=t.target||(document.getElementsByTagName("base")[0]||{}).target;null==n||n.trace("Autocapture -- should intercept href",{target:i}),i&&"_self"!==(0,o.getStringFromMaybeSVGAnimatedString)(i).toLowerCase()?i.match(/^_(parent|top)$/i)&&(0,s.flushNowBeforeLeaving)(e,(function(){window.open(r,i)})):(0,s.flushNowBeforeLeaving)(e,(function(){document.location.href=r}))}}))}}};t.addClickHandler=function(){(0,l.isInteractionEventCaptureDisabled)(p)||window.addEventListener(p,t.clickHandler,!0)}},4480:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCustomEventHandlers=t.getCustomEvents=void 0;var r=n(3504),o=n(1719);t.getCustomEvents=function(){var e,t=null===(e=r.CoreAPIDependencies.getInstance().coreAPIs)||void 0===e?void 0:e.getConfig();return((null==t?void 0:t.customEvents)||[]).filter((function(e){return e&&!["click","change","submit"].includes(e)}))};t.addCustomEventHandlers=function(){(0,t.getCustomEvents)().forEach((function(e){window.addEventListener(e,o.queueCustomEvent,!0)}))}},7226:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.addPageviewHandlers=t.isPageviewAutocaptureDisabled=void 0;var o=n(3504),i=n(8141),a=n(7375),s=n(642);t.isPageviewAutocaptureDisabled=function(){var e;return null===(e=o.CoreAPIDependencies.getInstance().coreAPIs)||void 0===e?void 0:e.getConfig().disablePageviewAutocapture};var u=function(){return window.location.pathname+window.location.hash+window.location.search},c=u(),l=function(){var e,t,i=o.CoreAPIDependencies.getInstance(),l=null===(e=i.coreAPIs)||void 0===e?void 0:e.logger,f=u();if(c!==f){null==l||l.trace("recordPageview -- current path differs from last path",{lastPageviewPath:c,currentPageviewPath:f}),null===(t=i.coreAPIs)||void 0===t||t.flushEventQueue();var p=c;c=f;var d=p&&(0,a.getPathFromURL)(p),m=r({url:(0,s.getUrlInfo)(!1)},d&&{previous_page:d});n.g.setTimeout((function(){var e;null===(e=i.coreAPIs)||void 0===e||e.createNewPageview(m)}),0)}};t.addPageviewHandlers=function(){(0,t.isPageviewAutocaptureDisabled)()||(!function(){if(history.heappushstate=history.heapreplacestate=l,window.history.pushState){var e=function(e,t,n){var r=e[t];e[t]=function(){var t=r.apply(e,arguments);return(0,i.isFunction)(e[n])&&e[n](),t}};e(window.history,"pushState","heappushstate"),e(window.history,"replaceState","heapreplacestate")}}(),window.addEventListener("popstate",l,!0),window.addEventListener("hashchange",l,!0))}},3324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSessionReplayHandler=void 0;var r=n(3504),o=n(338),i=function(){var e;if(window.auryc&&!window._uxa){var t=(new Date).getTime();null===(e=r.CoreAPIDependencies.getInstance().coreAPIs)||void 0===e||e.updateLastEventTime(t)}};t.addSessionReplayHandler=function(){["mousemove","mouseup","mousedown","keydown","keypress","keyup","mouseenter","scroll","resize","dblclick","touchstart","touchmove","touchend","touchcancel","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave"].forEach((function(e){var t;try{window.addEventListener(e,(0,o.throttle)(i,3e4),!0)}catch(n){null===(t=r.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t||t.logger.warn("Autocapture -- Adding session replay event listener failed for ".concat(e))}}))}},121:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.addShadowDomHandlers=void 0;var a=n(3504),s=n(1719),u=n(2991),c=n(108),l=n(4338),f=n(4480),p=n(8530),d=function e(t){var n,o,i,a,s=[];if(t.shadowRoot){s.push(t.shadowRoot);try{for(var u=r(t.shadowRoot.children),c=u.next();!c.done;c=u.next()){var l=c.value;s=s.concat(e(l))}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}try{for(var f=r(t.children),p=f.next();!p.done;p=f.next()){l=p.value;s=s.concat(e(l))}}catch(e){i={error:e}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return s},m=function(e){var t,n;try{if(!e)return!0;for(var r=e;r;){if("BODY"===r.tagName||"HTML"===r.tagName)return!1;if((0,c.isNodeAShadowRoot)(r.parentNode)){if("open"!==r.parentNode.mode)return!0;r=r.parentNode.host}else r=r.parentElement}return!0}catch(e){return null===(n=null===(t=a.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.logger)||void 0===n||n.error("Failed to determine closed context, defaulting to no capture"),!0}},g=function(e){var t,n;void 0===e&&(e=[]);var r=(0,p.isInteractionEventCaptureDisabled)("change"),o=(0,p.isInteractionEventCaptureDisabled)("submit"),i=(0,p.isInteractionEventCaptureDisabled)("click"),c=d(document.body).filter((function(t){return!e.includes(t)}));null===(n=null===(t=a.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.logger)||void 0===n||n.trace("attaching event listeners on shadow roots",{openShadowRoots:c});var m=(0,f.getCustomEvents)();return c.forEach((function(e){var t,n;try{r||e.addEventListener("change",s.queueEvent,!0),o||e.addEventListener("submit",u.submitHandler,!0),i||e.addEventListener("click",l.clickHandler,!0),m.forEach((function(t){e.addEventListener(t,s.queueCustomEvent,!0)}))}catch(e){null===(n=null===(t=a.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.logger)||void 0===n||n.trace("Shadow DOM error attaching event listeners",{e:e})}})),c},v=function(){var e,t=(0,p.isInteractionEventCaptureDisabled)("change"),n=(0,p.isInteractionEventCaptureDisabled)("submit"),r=(0,p.isInteractionEventCaptureDisabled)("click"),c=(0,f.getCustomEvents)(),d=function(){var e=HTMLElement.prototype.attachShadow;HTMLElement.prototype.attachShadow=function(){for(var o,i,f=this,p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];var g=e.apply(this,p);if(this.shadowRoot&&"open"===this.shadowRoot.mode){var v=function(e){var t,n;m(e.target)?null===(n=null===(t=a.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.logger)||void 0===n||n.trace("Shadow DOM is in an closed context, nooping custom ".concat(e.type," event listener")):(0,s.queueCustomEvent)(e)};try{t||this.shadowRoot.addEventListener("change",(function(e){var t,n;m(e.target)?null===(n=null===(t=a.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.logger)||void 0===n||n.trace("Shadow DOM is in an closed context, nooping change event listener"):(0,s.queueEvent)(e)}),!0),n||this.shadowRoot.addEventListener("submit",(function(e){var t,n;m(e.target)?null===(n=null===(t=a.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.logger)||void 0===n||n.trace("Shadow DOM is in an closed context, nooping submit event listener"):(0,u.submitHandler)(e)}),!0),r||this.shadowRoot.addEventListener("click",(function(e){var t,n;m(e.target)?null===(n=null===(t=a.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.logger)||void 0===n||n.trace("Shadow DOM is in an closed context, nooping click event listener"):(0,l.clickHandler)(e)}),!0),c.forEach((function(e){f.shadowRoot.addEventListener(e,v,!0)}))}catch(e){null===(i=null===(o=a.CoreAPIDependencies.getInstance().coreAPIs)||void 0===o?void 0:o.logger)||void 0===i||i.trace("Shadow DOM error attaching event listeners",{e:e})}}return g}};if(null===(e=a.CoreAPIDependencies.getInstance().coreAPIs)||void 0===e?void 0:e.getConfig().salesforceAura){var v=[],y=!1,h=function(){var e=g(v);v=i(i([],o(v),!1),o(e),!1)},_=window.setInterval((function(){var e,t;HTMLElement.prototype.attachShadow.toString().includes("[native code]")||(null===(t=null===(e=a.CoreAPIDependencies.getInstance().coreAPIs)||void 0===e?void 0:e.logger)||void 0===t||t.trace("SFAura -- attachShadow overwritten for SFAura, overriding with heap handlers"),window.clearInterval(T),window.clearInterval(_),h(),d(),y=!0)}),200),T=window.setInterval(h,400);window.setTimeout((function(){var e,t,n,r;window.clearInterval(T),window.clearInterval(_),y?null===(t=null===(e=a.CoreAPIDependencies.getInstance().coreAPIs)||void 0===e?void 0:e.logger)||void 0===t||t.trace("SFAura -- 7 seconds passed but handler has been attached, nooping"):(null===(r=null===(n=a.CoreAPIDependencies.getInstance().coreAPIs)||void 0===n?void 0:n.logger)||void 0===r||r.trace("SFAura -- 7 seconds passed, clearing interval and attaching heap handler"),h(),d())}),7e3)}else g(),d()};t.addShadowDomHandlers=function(){v()}},2991:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSubmitHandler=t.submitHandler=void 0;var r=n(3504),o=n(1719),i=n(4545),a=n(1040),s=n(2860),u=n(3180),c=n(8316),l=n(5243),f=n(1631),p=n(8702),d=n(8530),m="submit";t.submitHandler=function(e){var t,d=null===(t=r.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.logger,m=e||window.event;if(null==d||d.trace("Autocapture -- submit event",{event:m}),(0,o.queueEvent)(m),!(0,f.getIEVersion)()){var g,v,y=m.target,h=i.ClickedSubmitEventElements.getInstance(),_=h.findLast((function(e){var t=e[1];return(0,s.parentForm)(t)===y}));h.clearEvents(),_&&(g=_[0],v=_[1]),(0,u.afterFullyPropagated)(m,(function(){var e=(0,p.pickFormSubmitAttributes)(v),t=(v||{}).tagName;"_blank"!==(null==y?void 0:y.target)&&(0,u.flushNowBeforeLeaving)(m,(function(){try{var r={};try{var o=(Array.from(y.querySelectorAll("input"))||[]).filter((function(e){if(!e.inputmask)return!1;var t=e.inputmask._valueSet&&e.inputmask._valueGet&&e.inputmask.unmaskedvalue,n=e.inputmask.userOptions&&e.inputmask.userOptions.removeMaskOnSubmit||e.inputmask.opts&&e.inputmask.opts.removeMaskOnSubmit;return t&&n})),i=o.map((function(e){return e.inputmask._valueGet()}));o.forEach((function(e){e.inputmask._valueSet(e.inputmask.unmaskedvalue())})),n.g.setTimeout((function(){o.forEach((function(e,t){e.inputmask._valueSet(i[t])}))}),0)}catch(e){null==d||d.error("Autocapture -- Error extracting values from form submission",{event:e})}var u=void 0,f=void 0,m=void 0;if(v){var h=e.type,_=(0,a.isString)(h)?h.toLowerCase():h;if("input"===t.toLowerCase()&&"image"===_){var T=e.name,E=(0,c.relativeCoordinates)(g);(f=document.createElement("input")).type="hidden",f.name=T?T+".x":"x",f.value=E[0].toString(),(m=document.createElement("input")).type="hidden",m.name=T?T+".y":"y",m.value=E[1].toString(),y.appendChild(f),y.appendChild(m)}else{(u=document.createElement("input")).type="hidden","name"in e&&(u.name=e.name);var S=e.value;null!=S&&""!==S&&(u.value=e.value),y.appendChild(u)}["action","enctype","method","noValidate","target"].forEach((function(t){var n="form"+(0,l.capitalizeFirstLetter)(t);n in e&&(r[t]=y[t],y[t]=e[n])}))}if("dialog"===y.method)try{var I=(0,s.findParentElement)(y,(function(e){return"dialog"===e.tagName.toLowerCase()})),b=g.target,w=g.target&&b.value;I&&I.close&&w&&I.close(w)}catch(e){null==d||d.warn("Failed to close dialog for a form submission with method=dialog")}var P=document.createElement("form");document.body.appendChild(P),P.submit.apply(y),document.body.removeChild(P),(0,p.extend)(y,r),u&&y.removeChild(u),f&&m&&(y.removeChild(f),y.removeChild(m))}catch(e){null==d||d.error("Autocapture -- Error preventing form submission",{event:e})}}))}))}};t.addSubmitHandler=function(){(0,d.isInteractionEventCaptureDisabled)(m)||window.addEventListener(m,t.submitHandler,!0)}},4923:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInteractionEventProperties=void 0;var r=n(6229),o=n(904),i=n(3825),a=n(297),s=n(108),u=n(1722),c=n(3504),l=function(e){return{click:i.BuiltinKind.BUILTIN_KIND_CLICK,change:i.BuiltinKind.BUILTIN_KIND_CHANGE,submit:i.BuiltinKind.BUILTIN_KIND_SUBMIT}[e]},f=function(e){var t={};return(0,u.isRageClick)(e)&&(t.rage_click=!0),t};t.getInteractionEventProperties=function(e){var t,n,i=(0,s.getTargetFromComposedPath)(e),u="mouseup"===e.type?"click":e.type,p=(0,r.getHierarchyForElement)({targetElement:i,type:u,maxAttributeLength:o.MAX_ATTRIBUTE_LENGTH,maxHierarchyLength:o.MAX_SINGLE_REQUEST_VALUE_LENGTH}),d=p.hierarchyString,m=p.topFirstNodes,g=null===(t=c.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.getSnapshotDefinitions(u,d),v=null===(n=c.CoreAPIDependencies.getInstance().coreAPIs)||void 0===n?void 0:n.getSnapshotProperties(g,e),y=(0,a.truncateNodes)(m.reverse(),o.MAX_STRINGIFIED_NODE_LENGTH);return{kind:l(u),hierarchy:d,nodes:y,source_properties:f(e),snapshotProperties:v}}},1719:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queueCustomEvent=t.queueEvent=t.heapTrack=t.shouldIgnoreEvent=void 0;var r=n(2860),o=n(4923),i=n(3504),a=n(5089),s=n(904),u=n(8217);t.shouldIgnoreEvent=function(e){var t,n=null===(t=i.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.logger,o=e.target;if("mousedown"===e.type||"mousemove"===e.type)return!0;if(!o)return null==n||n.trace("Autocapture -- event missing a target, ignoring",{event:e}),!0;if(!o.tagName)return null==n||n.trace("Autocapture -- event target is missing a tagName, ignoring",{event:e}),!0;if(3===o.nodeType)return null==n||n.trace("Autocapture -- event target is a text node, ignoring",{event:e}),!0;return(0,u.csShouldDrive)()&&(0,u.isElementEncryptedInCs)(o)?(null==n||n.trace("Autocapture -- event target is encrypted, ignoring",{event:e}),!0):!!(0,r.findParentElement)(o,(function(e){return s.ATTRIBUTES_TO_IGNORE.some((function(t){return e.hasAttribute(t)}))}))&&(null==n||n.trace("Autocapture -- event is under an ignored attribute element, ignoring",{event:e}),!0)};t.heapTrack=function(e){var t;return null===(t=i.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.track("heap_autotrack",e,{name:"autotrack"})};t.queueEvent=function(e,n){var r,s,u,c;void 0===n&&(n=!1);var l=null===(r=i.CoreAPIDependencies.getInstance().coreAPIs)||void 0===r?void 0:r.logger;if(!(0,t.shouldIgnoreEvent)(e)){var f=a.InteractionEventHistory.getInstance();if(f.hasMatchingEvent(e))null===(s=null==l?void 0:l.trace)||void 0===s||s.call(l,"".concat(e.type," event has already been seen, ignoring"),{event:e,clickEventHistory:f.eventHistory});else{f.addEvent(e);var p=(0,o.getInteractionEventProperties)(e);if(n)return null===(u=i.CoreAPIDependencies.getInstance().coreAPIs)||void 0===u?void 0:u.track(e.type,p);p.hierarchy||p.nodes&&0!==p.nodes.length?(null===(c=i.CoreAPIDependencies.getInstance().coreAPIs)||void 0===c||c.logger.trace("Autocapture -- queuing event",{event:e,props:p}),(0,t.heapTrack)(p)):null==l||l.debug("Autocapture -- discarding event, missing hierarchy",{event:e,props:p})}}};t.queueCustomEvent=function(e){(0,t.queueEvent)(e,!0)}},8225:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.filterRedactedAttributesFromHierarchy=t.getCsSensitiveAttributes=t.getHeapRedactedAttributes=t._getRawAttributes=t.getValidAttributes=t.shouldCaptureAttributes=void 0;var a=n(1040),s=n(904);t.shouldCaptureAttributes=function(e){return(0,a.isHTMLElement)(e)||(0,a.isSVGElement)(e)};t.getValidAttributes=function(e,n){return(0,a.isSVGElement)(e)?((0,t._getRawAttributes)(e)||[]).filter((function(e){return e.name.length<n&&(e.name.includes("data-")||"aria-label"===e.name)})):((0,t._getRawAttributes)(e)||[]).filter((function(t){return t.name.length<n&&!("INPUT"===e.tagName&&"value"===t.name)}))};t._getRawAttributes=function(e){for(var t=[],n=0;n<e.attributes.length;n++){var r=e.attributes[n],o=r.name,i=r.value;(0,a.isFormInputElement)(e)&&i===e.value&&"value"!==o&&(i=s.REDACTED_VALUE),t.push({name:o,value:i})}return t};t.getHeapRedactedAttributes=function(e){var t=e.getAttribute(s.HEAP_REDACT_ATTRIBUTES_ATTRIBUTE_NAME);return t?t.split(","):[]};t.getCsSensitiveAttributes=function(e){var t;return((null===(t=window.UXAnalytics)||void 0===t?void 0:t.Sensitive.getSensitiveAttributes(e))||[]).map((function(e){return e.name}))};t.filterRedactedAttributesFromHierarchy=function(e){var t=i([],o(s.GLOBALLY_BLOCKLISTED_ATTRIBUTES),!1);return e.map((function(e){var n=r({},e);return t.push.apply(t,i([],o(e.heapRedactedAttributes),!1)),n.attributes=e.attributes.filter((function(e){return-1===t.indexOf(e.name)})),n}))}},6229:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.getValue=t.getClassName=t._convertDecomposedHierarchyToHeapInputSyntax=t._getClassNamesForElement=t._getIdForElement=t._getTopFirstDFSDecomposedHierarchy=t._enhanceDecomposedHierarchy=t.removeBodyNode=t.getHierarchyForElement=void 0;var a=n(1040),s=n(7906),u=n(8225),c=n(3030),l=n(904),f=n(6011),p=n(297),d=n(3504),m=n(108),g=n(8217);t.getHierarchyForElement=function(e){var n=e.targetElement,r=e.type,o=e.maxAttributeLength,i=e.maxHierarchyLength,a=(0,t._getTopFirstDFSDecomposedHierarchy)({targetElement:n,maxAttributeLength:o}),s=JSON.parse(JSON.stringify(a)),c=(0,u.filterRedactedAttributesFromHierarchy)(a),l=(0,t._convertDecomposedHierarchyToHeapInputSyntax)({topFirstDecomposedHierarchy:c,maxHierarchyLength:i}),f=(0,t._enhanceDecomposedHierarchy)(s.reverse(),n,r);return{hierarchyString:l,topFirstNodes:(0,u.filterRedactedAttributesFromHierarchy)(f.reverse())}};t.removeBodyNode=function(e){var t;return e.length>1?(null===(t=d.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t||t.logger.trace("Autocapture -- removing BODY node"),e.filter((function(e){return"body"!==e.tagName.toLowerCase()}))):e};t._enhanceDecomposedHierarchy=function(e,n,r){var o=(0,t.removeBodyNode)(e);if(0===o.length)return o;var i=(0,f.getHref)(o);o[0].href=(0,p.truncate)(i,l.MAX_SINGLE_REQUEST_VALUE_LENGTH);var a=(0,c.shouldCaptureTargetText)(n,r);return o[0].targetText=a?(0,c.getSensitiveDataSafeTargetText)(n,l.MAX_TARGET_TEXT_LENGTH):"",o};t._getTopFirstDFSDecomposedHierarchy=function(e){for(var n,i=e.maxAttributeLength,a=e.targetElement,c=[];a&&"HTML"!==a.tagName;){var l=(0,u.shouldCaptureAttributes)(a)?(0,u.getValidAttributes)(a,i):[],f=(0,t._getIdForElement)(a),p=(0,t._getClassNamesForElement)(a),d=(0,u.getHeapRedactedAttributes)(a);if((0,g.csShouldDrive)()){var v=null!==(n=(0,u.getCsSensitiveAttributes)(a))&&void 0!==n?n:[];d=o(o([],r(d),!1),r(v),!1)}var y={tagName:a.tagName.toLowerCase(),id:(0,s._escapeCSS)(f),classes:p.map(s._escapeCSS),attributes:(0,s._getSanitizedAttributes)(l,i),heapRedactedAttributes:d};c.push(y),a=(0,m.isNodeAShadowRoot)(a.parentNode)?a.parentNode.host:a.parentElement}return c.reverse()};t._getIdForElement=function(e){return(0,t.getValue)(e,"id")||null};t._getClassNamesForElement=function(e){return(0,t.getClassName)(e)?(0,t.getClassName)(e).split(/\s+/):[]};t._convertDecomposedHierarchyToHeapInputSyntax=function(e){var n,r,o,a=e.topFirstDecomposedHierarchy,s=e.maxHierarchyLength,u=(0,t.removeBodyNode)(a),c="";try{for(var l=i(u.reverse()),f=l.next();!f.done;f=l.next()){var p=f.value,m="";m="@".concat(p.tagName,";"),m+=p.id?"#".concat(p.id,";"):"",m+=p.classes.length>0?".".concat(p.classes.sort().join(";."),";"):"";var g=p.attributes.map((function(e){return"[".concat(e.name,"=").concat(e.value,"]")})).sort();if(m+=g.length>0?"".concat(g.join(";"),";"):"",(m+="|").length+c.length>s){null===(o=d.CoreAPIDependencies.getInstance().coreAPIs)||void 0===o||o.logger.debug("Autocapture -- truncating hierarchy string as it exceeds ".concat(s));break}c=m+c}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return c};t.getClassName=function(e){return(((0,a.isSVGElement)(e)?e.className?e.className.baseVal:e.getAttribute("class"):e.className)||"").trim()};t.getValue=function(e,t){return"form"===e.tagName.toLowerCase()?e.getAttribute(t)||"":e[t]}},2860:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parentForm=t.elementText=t.findParentElement=t.textInNearestElementMatching=t.nearestElementMatching=t.querySelectorAllIncludingShadow=t.elementValue=t.extractIndexFromSelector=t.removeIndexFromSelector=t.selectorFromElement=t.siblingsMatchingSameSelectorAsElement=t.siblingsMatchingSameSelector=t.skipToFirstSibling=void 0;var r=n(108),o=n(9327),i=n(1040),a=/(.+):nth-of-type\((\d+)\)$/,s=/^\w+(\.[-_\w][-_\w\d]+)*(#[-_\w][-_\w\d]+)?$/;t.skipToFirstSibling=function(e){if(!e)return null;for(var t=e,n=0;t&&n<o.SELECTOR_SNAPSHOT_SIBLING_TRAVERSAL_LIMIT;)(0,i.isHTMLElement)(t)&&(e=t),t=t.previousElementSibling||t.previousSibling,n+=1;return e};t.siblingsMatchingSameSelector=function(e,n){var r=[];e=(0,t.skipToFirstSibling)(e);for(var a=0,u=!s.test(n);e&&a<o.SELECTOR_SNAPSHOT_SIBLING_TRAVERSAL_LIMIT;)(0,i.isHTMLElement)(e)&&e.matches&&e.matches(n)&&(u||(0,t.selectorFromElement)(e)===n)&&r.push(e),e=e.nextElementSibling||e.nextSibling,a+=1;return r};t.siblingsMatchingSameSelectorAsElement=function(e){var n=(0,t.selectorFromElement)(e);return n?(0,t.siblingsMatchingSameSelector)(e,n):null};t.selectorFromElement=function(e){if(!e||!e.tagName)return null;var t=[e.tagName.toLowerCase()];if(e.classList.length>0)for(var n=Array.from(e.classList),r=0;r<n.length;++r){var o=n[r];t.push("."+o)}return e.type&&"select"!==e.tagName.toLowerCase()&&t.push('[type="'+e.type+'"]'),e.name&&t.push('[name="'+e.name+'"]'),""!==e.id&&"radio"!==e.type&&"checkbox"!==e.type&&t.push("#"+e.id),t.join("")};t.removeIndexFromSelector=function(e){return a.test(e)?e.replace(a,"$1"):e};t.extractIndexFromSelector=function(e){if(a.test(e)){var t=e.replace(a,"$2");return parseInt(t,10)}return 1};t.elementValue=function(e){if(!e||!e.tagName)return null;var n=e.tagName.toLowerCase();if("input"===n){var r=e;switch(r.type){case"checkbox":case"radio":return r.checked;default:return r.value}}else if("select"===n){var o=e;return o.options[o.selectedIndex].text}return(0,t.elementText)(e)};t.querySelectorAllIncludingShadow=function(e){var t=[],n=function n(r,i){i>=o.SELECTOR_SNAPSHOT_ANCESTOR_TRAVERSAL_LIMIT||(r.querySelectorAll(e).forEach((function(e){return t.push(e)})),r.querySelectorAll("*").forEach((function(e){e.shadowRoot&&n(e.shadowRoot,i+1)})))};return document.querySelectorAll(e).forEach((function(e){return t.push(e)})),document.querySelectorAll("*").forEach((function(e){e.shadowRoot&&n(e.shadowRoot,1)})),t};t.nearestElementMatching=function(e,n){for(var i,a,s=n?n.target:document,u=(0,t.removeIndexFromSelector)(e),c=(0,t.extractIndexFromSelector)(e),l=0;l<o.SELECTOR_SNAPSHOT_ANCESTOR_TRAVERSAL_LIMIT;){if(a=[],null!==(i=s instanceof HTMLElement&&s.shadowRoot?s.shadowRoot.querySelectorAll(u):s instanceof Document?(0,t.querySelectorAllIncludingShadow)(u):s.querySelectorAll(u))&&i.length>0&&(a=(0,t.siblingsMatchingSameSelector)(i[0],u)),1===a.length)return a[0];if(a.length>=c)return a[c-1];if(null===(s=(0,r.isNodeAShadowRoot)(s.parentNode)?s.parentNode.host:s.parentElement))return null;l+=1}return null};t.textInNearestElementMatching=function(e,n){var r=(0,t.nearestElementMatching)(e,n);return(0,t.elementValue)(r)};t.findParentElement=function(e,n){return e&&"BODY"!==e.tagName&&"HTML"!==e.tagName?n(e)?e:(0,r.isNodeAShadowRoot)(e.parentNode)?(0,t.findParentElement)(e.parentNode.host,n):null===e.parentElement?null:(0,t.findParentElement)(e.parentElement,n):null};t.elementText=function(e){return e.innerText||e.textContent||""};t.parentForm=function(e){return e&&e.form||u(e)};var u=function(e){for(;e&&"tagName"in e&&(void 0===e.tagName||"form"!==e.tagName.toLowerCase());)e=(0,r.isNodeAShadowRoot)(e.parentNode)?e.parentNode.host:e.parentNode;return e}},6011:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._findAttributeIndexWithName=t.getHref=void 0;var r=n(904);t.getHref=function(e){for(var n=-1,o=-1,i=0;i<e.length;i++){var a=e[i],s=(0,t._findAttributeIndexWithName)(a.attributes,"href")>-1;if(-1===n&&s&&(n=i),(o=a.heapRedactedAttributes.indexOf("href")>-1?i:-1)>-1)break}return function(){if(-1!==n){if(o>=n)return r.REDACTION_STRING;var i=e[n].attributes;return i[(0,t._findAttributeIndexWithName)(i,"href")].value}}()};t._findAttributeIndexWithName=function(e,t){return e.findIndex((function(e){return e.name===t}))}},3030:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getTrimmedRedactedText=t.truncateFinalString=t._sortStringsByLength=t._isHeapRedactTextPresent=t._getHeapIgnoredOrRedactedDescendants=t.getSensitiveDataSafeTargetText=t.shouldCaptureTargetText=void 0;var r=n(1040),o=n(2860),i=n(904),a=n(297),s=n(5243),u=n(3504),c=n(8217),l=n(9611);t.shouldCaptureTargetText=function(e,t){var n,i,a=e,s=null===(n=u.CoreAPIDependencies.getInstance().coreAPIs)||void 0===n?void 0:n.getConfig();return!(null===(i=null==s?void 0:s.privacy)||void 0===i?void 0:i.disableTextCapture)&&"change"!==t&&!a.isContentEditable&&"textarea"!==a.tagName.toLowerCase()&&(0,r.isString)((0,o.elementText)(a))};t.getSensitiveDataSafeTargetText=function(e,n){if((0,t._isHeapRedactTextPresent)(e)||(0,c.csShouldDrive)()&&(0,c.isElementSensitiveInCs)(e))return i.REDACTION_STRING;var r=(0,o.elementText)(e),a=(0,t._getHeapIgnoredOrRedactedDescendants)(e),s=f(a);return(0,t._getTrimmedRedactedText)(r,s,n)};t._getHeapIgnoredOrRedactedDescendants=function(e){var t=i.ATTRIBUTES_TO_IGNORE.map((function(e){return"[".concat(e,"]")})),n=Array.prototype.slice.call(e.querySelectorAll(t.join(","))),r=i.ATTRIBUTES_TO_REDACT.map((function(e){return"[".concat(e,"]")})),o=Array.prototype.slice.call(e.querySelectorAll(r.join(",")));return n.concat(o)};var f=function(e){return e.map(o.elementText)};t._isHeapRedactTextPresent=function(e){return!!(0,o.findParentElement)(e,(function(e){return i.ATTRIBUTES_TO_REDACT.some((function(t){return e.hasAttribute(t)}))}))};t._sortStringsByLength=function(e){return e.sort((function(e,t){return e.length>=t.length?-1:1}))};t.truncateFinalString=function(e,t){return(0,r.isString)(e)?e=(0,a.truncate)(e.trim(),t):e};t._getTrimmedRedactedText=function(e,n,r){var o=n.map((function(e){return e.trim()})),a=(0,t._sortStringsByLength)(o),u=e;if(a.forEach((function(e){e&&(u=(0,s.replaceAllOccurrences)({originalText:u,substringToReplace:e,replacementText:i.REDACTION_STRING}))})),(0,c.csShouldDrive)()){var f=new l.PIIAnonymization,p=f.anonymizePII(u);u=f.anonymizeCreditCard(p)}return u=(0,t.truncateFinalString)(u,r)}},473:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initAutocapture=void 0;var r=n(8008),o=n(4338),i=n(2991),a=n(3504),s=n(90),u=n(7226),c=n(121),l=n(3324),f=n(4480),p=function(e){a.CoreAPIDependencies.getInstance().setAPIDependencies(e),(0,r.addChangeHandler)(),(0,o.addClickHandler)(),(0,i.addSubmitHandler)(),(0,s.attachMobileSafariRedirectUnloadHandlers)(),(0,u.addPageviewHandlers)(),(0,f.addCustomEventHandlers)(),(0,c.addShadowDomHandlers)(),(0,l.addSessionReplayHandler)()};t.initAutocapture=function(){window.heap.addAdapter({name:"autocapture",fn:p},{isBlocking:!1})}},3825:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuiltinKind=void 0,function(e){e.BUILTIN_KIND_CLICK="BUILTIN_KIND_CLICK",e.BUILTIN_KIND_CHANGE="BUILTIN_KIND_CHANGE",e.BUILTIN_KIND_SUBMIT="BUILTIN_KIND_SUBMIT"}(t.BuiltinKind||(t.BuiltinKind={}))},1631:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIOSWebkitBrowser=t.getIEVersion=t.isSafari=t.getUserAgent=t.getAppVersion=void 0;t.getAppVersion=function(){return navigator.appVersion};t.getUserAgent=function(){return navigator.userAgent};t.isSafari=function(){return(0,t.getAppVersion)().indexOf("Safari")>-1};t.getIEVersion=function(){var e=(0,t.getAppVersion)(),n=null;return e&&(e.indexOf("MSIE 6.")>-1?n=6:e.indexOf("MSIE 7.")>-1?n=7:e.indexOf("MSIE 8.")>-1?n=8:e.indexOf("MSIE 9.")>-1&&(n=9)),n};t.isIOSWebkitBrowser=function(){var e=(0,t.getUserAgent)(),n=e.match(/iPad/i)||e.match(/iPhone/i),r=e.match(/WebKit/i);return n&&r&&!e.match(/CriOS/i)}},8316:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findNearestAnchorElement=t.relativeCoordinates=t.shouldInterceptHref=t.containsTurboFrameAttribute=t.hasAttribute=t.getStringFromMaybeSVGAnimatedString=t.isPlainClick=t.isFormSubmitButton=t.isLeftClick=void 0;var r=n(1040),o=n(1631),i=n(2860);t.isLeftClick=function(e){var t=1&e.button?1:0;return 1===(e.which||void 0===e.button?e.which:t)};t.isFormSubmitButton=function(e){var t=e.tagName.toLowerCase(),n=(0,r.isString)(e.type)?e.type.toLowerCase():e.type;return null!==(0,i.parentForm)(e)&&("input"===t&&["submit","image"].includes(n)||"button"===t&&!["reset","button"].includes(n))};t.isPlainClick=function(e){return!(e.metaKey||e.shiftKey||e.ctrlKey||e.altKey)};t.getStringFromMaybeSVGAnimatedString=function(e){return a(e)?e.animVal:e};var a=function(e){return"string"==typeof e.animVal};t.hasAttribute=function(e,t){return e.hasAttribute?e.hasAttribute(t):function(e,t){var n=e.getAttributeNode(t);return!(!n||!n.specified&&!n.nodeValue)}(e,t)};t.containsTurboFrameAttribute=function(e){return(0,t.hasAttribute)(e,"data-turbo-frame")||(0,t.hasAttribute)(e,"data-heap-turbo")};t.shouldInterceptHref=function(e){if(!e||!e.href)return!1;if((0,t.containsTurboFrameAttribute)(e))return!1;var n=(0,t.getStringFromMaybeSVGAnimatedString)(e.href),r=(0,t.hasAttribute)(e,"download"),i=new RegExp("^\\s*("+window.location.href.split(window.location.hash||"#")[0].replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+")?#").test(n),a=/^\s*javascript:/.test(n),s=/^\s*(mailto|tel):/.test(n)&&(0,o.isSafari)(),u="ar"===e.rel&&/\.usdz/i.test(n)&&(0,o.isSafari)();return!(e.isContentEditable||r||i||a||s||u)};t.relativeCoordinates=function(e){var t=e,n=t.target||t.srcElement;if(0===t.screenX&&0===t.screenY||!n)return[0,0];var r=n instanceof Element&&n.getBoundingClientRect();if(!r)return[0,0];var o=Math.floor(t.clientX-r.left),i=Math.floor(t.clientY-r.top),a=!(void 0===t.offsetX&&void 0===t.offsetY||0===t.offsetX&&0===t.offsetY);return[a?t.offsetX:o,a?t.offsetY:i]};t.findNearestAnchorElement=function(e){for(;e&&(void 0===e.tagName||"a"!==e.tagName.toLowerCase()||!e.href);)e=e.parentNode;return e}},2872:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decorateLinkForCrossDomainTracking=void 0;var r=n(3504);t.decorateLinkForCrossDomainTracking=function(e){var t,n,o,i,a=null===(t=r.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.logger,s=(null===(n=r.CoreAPIDependencies.getInstance().coreAPIs)||void 0===n?void 0:n.getConfig().supportedDomains)||[];if(e&&e.href){var u=new URL(document.location.href),c=new URL(e.href);if(u.hostname!==c.hostname)if(s.some((function(e){return c.hostname.includes(e)}))){null===(o=r.CoreAPIDependencies.getInstance().coreAPIs)||void 0===o||o.createNewSessionIfNeeded();var l=null===(i=r.CoreAPIDependencies.getInstance().coreAPIs)||void 0===i?void 0:i.getSessionMetadata();if(l){var f=l.envId,p=l.userId,d=l.sessionId,m=l.identity,g=l.sessionProperties.time,v="".concat(f,";").concat(p,";").concat(d,";").concat(null!=g?g:"",";").concat(null!=m?m:""),y=new URL(e.href);y.searchParams.set("_hp5_cdc",v),e.href=y.toString()}else null==a||a.error("decorateLink -- Unable to receive metadata from core API dependencies on decorator")}else null==a||a.trace("decorateLink -- Redirecting to unsupported domain, no need to decorate");else null==a||a.trace("decorateLink -- Redirecting to the same domain, no need to decorate")}}},8530:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInteractionEventCaptureDisabled=void 0;var r=n(3504);t.isInteractionEventCaptureDisabled=function(e){var t,n,o=((null===(t=r.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.getConfig().disableInteractionEvents)||[]).includes(e);return o&&(null===(n=r.CoreAPIDependencies.getInstance().coreAPIs)||void 0===n||n.logger.info("Autocapture -- ".concat(e," capture has been disabled"))),o}},3018:function(e,t){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.getInputElementValue=t.getDefaultInputValue=t.getSelectElementValue=t.getTextAreaValue=t.getRadioInputValue=t.getIndividualRadioInputValue=t.getCheckboxInputValue=t.getValidatedInputValue=t.getDocument=void 0;t.getDocument=function(){return document};t.getValidatedInputValue=function(e){return e.validity.valid?e.value:null};t.getCheckboxInputValue=function(e){var r,o,i="input[type=checkbox][name=".concat(e.name,"]"),a=(0,t.getDocument)().querySelectorAll(i),s=Array.from(a);if(s.length>1){var u=[];try{for(var c=n(s),l=c.next();!l.done;l=c.next()){var f=l.value;f instanceof HTMLInputElement&&f.checked&&u.push(f.value)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}return u.join(",")}return e.checked?"true":"false"};t.getIndividualRadioInputValue=function(e){if(""!==e.id){var n=(0,t.getDocument)().querySelector("label#".concat(e.id)),r=null==n?void 0:n.textContent;if(r)return r}return e.value};t.getRadioInputValue=function(e){for(var n=(0,t.getDocument)().querySelectorAll("input[type=radio][name=".concat(e.name,"]")),r=0;r<n.length;r++){var o=n[r];if(o.checked)return(0,t.getIndividualRadioInputValue)(o)}return e.checked?"true":"false"};t.getTextAreaValue=function(e){var t=e.value;return t.length>64?t.slice(0,64):t};t.getSelectElementValue=function(e){var t=e.options[e.selectedIndex];return t.value?new RegExp(/^[^\w]/).test(t.value)&&t.value===t.innerHTML?null:t.value:null};t.getDefaultInputValue=function(e){return e.value};t.getInputElementValue=function(e){switch(e.tagName.toLowerCase()){case"input":var n=e;switch(n.type){case"date":case"email":return(0,t.getValidatedInputValue)(n);case"password":return"****";case"checkbox":return(0,t.getCheckboxInputValue)(n);case"radio":return(0,t.getRadioInputValue)(n);default:return(0,t.getDefaultInputValue)(n)}case"textarea":var r=e;return(0,t.getTextAreaValue)(r);case"select":var o=e;return(0,t.getSelectElementValue)(o);default:return"N/A"}}},1722:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRageClick=void 0;var r=n(5089),o=n(904),i=function(){var e=r.InteractionEventHistory.getInstance().clickEventHistory,t=e[e.length-1],n=e[0];return!(t.time-n.time>o.FRUSTRATION_TIME_INTERVAL_IN_MS)},a=function(){for(var e=r.InteractionEventHistory.getInstance().clickEventHistory,t=0,n=0;n<e.length-1;n++)for(var i=n+1;i<=e.length-1;i++){var a=Math.round(Math.sqrt(Math.pow(e[n].coordinates.X-e[i].coordinates.X,2)+Math.pow(e[n].coordinates.Y-e[i].coordinates.Y,2)));if(a>t&&(t=a),a>o.FRUSTRATION_CLICK_RADIUS)return!1}return!0};t.isRageClick=function(e){var t=r.InteractionEventHistory.getInstance().clickEventHistory;return!!(r.InteractionEventHistory.isClickEvent(e)&&t.length>=o.FRUSTRATION_CLICK_THRESHOLD)&&(i()&&a())}},8702:function(e,t,n){"use strict";var r=n(2952);Object.defineProperty(t,"__esModule",{value:!0}),t.pickFormSubmitAttributes=t.extend=void 0;var o=n(8316);t.extend=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var o=0;o<t.length;o++){var i=t[o];if(i&&"object"===r(i))for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};t.pickFormSubmitAttributes=function(e){return e?["formAction","formEnctype","formMethod","formNoValidate","formTarget","name","type","value"].reduce((function(t,n){return(0,o.hasAttribute)(e,n)&&(t[n]=e[n]),t}),{}):{}}},3180:function(e,t,n){"use strict";var r=this;Object.defineProperty(t,"__esModule",{value:!0}),t.flushNowBeforeLeaving=t.preventDefault=t.once=t.afterFullyPropagated=void 0;var o=n(3504),i=n(904);t.afterFullyPropagated=function(e,t){window.addEventListener(e.type,(function n(r){window.removeEventListener(r.type,n),r!==e||r.defaultPrevented||t(r)}))};t.once=function(e){var t=!1;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(!t)return t=!0,e.apply(r,n)}};t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};t.flushNowBeforeLeaving=function(e,r){var a,s;null===(a=o.CoreAPIDependencies.getInstance().coreAPIs)||void 0===a||a.logger.debug("Autocapture -- flushing queue before leaving page",{event:e});var u=(0,t.once)(r);(0,t.preventDefault)(e),n.g.setTimeout(u,i.MAX_REQUEST_TIMEOUT_IN_MS),null===(s=o.CoreAPIDependencies.getInstance().coreAPIs)||void 0===s||s.flushQueueOnUnload()}},7906:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getSanitizedAttributes=t._escapeCSS=void 0;t._escapeCSS=function(e){return e?e.replace(/[[\];|\n]/g,""):e};t._getSanitizedAttributes=function(e,n){return e.map((function(e){return{name:(0,t._escapeCSS)(e.name),value:e.value&&e.value.length<=n?(0,t._escapeCSS)(e.value):""}}))}},108:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeAShadowRoot=t.getTargetFromComposedPath=void 0;t.getTargetFromComposedPath=function(e){var t=e.target;"composed"in e&&"function"==typeof e.composedPath&&(t=e.composedPath()[0]);return t};t.isNodeAShadowRoot=function(e){try{return!(!e||"function"!=typeof e.toString)&&"[object ShadowRoot]"===e.toString()}catch(e){return!1}}},5243:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.capitalizeFirstLetter=t.replaceAllOccurrences=t._escapeRegExp=void 0;t._escapeRegExp=function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")};t.replaceAllOccurrences=function(e){return e.originalText.replace(new RegExp((0,t._escapeRegExp)(e.substringToReplace),"g"),e.replacementText)};t.capitalizeFirstLetter=function(e){return 0===e.length?e:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}},338:function(e,t){"use strict";var n=this;Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0;t.throttle=function(e,t){var r=!1;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r||(e.apply(n,o),r=!0,window.setTimeout((function(){r=!1}),t))}}},297:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.truncateNodes=t.truncate=void 0;var o=n(1040);t.truncate=function(e,t){var n,i;if(!(0,o.isString)(e)||!(0,o.isNumber)(t))return e;var a="",s=0;try{for(var u=r(e),c=u.next();!c.done;c=u.next()){var l=c.value,f=l.codePointAt(0),p=f&&f>65535?2:1;if(!(s+p<=t))break;a+=l,s+=p}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return a};t.truncateNodes=function(e,t){if(JSON.stringify(e).length<=t)return e;for(var n=[],r="",o=0;o<e.length;o++){var i=e[o],a=JSON.stringify(i);if(r.length+a.length>t)break;n.push(i),r+=a}return n}},1040:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFormInputElement=t.isSVGElement=t.isHTMLElement=t.isNumber=t.isString=void 0;t.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)};t.isNumber=function(e){return"[object Number]"===Object.prototype.toString.call(e)};t.isHTMLElement=function(e){return!(0,t.isSVGElement)(e)};t.isSVGElement=function(e){return 1===e.nodeType&&"http://www.w3.org/2000/svg"===e.namespaceURI};t.isFormInputElement=function(e){return!!e.value}},5023:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigStore=void 0;var o,i=n(1295),a=n(6533),s=n(8141),u=n(7229);!function(e){e.PRIVACY="privacy",e.INGEST_SERVER="ingestServer",e.METADATA_STORAGE="metadataStorage",e.EVENT_PROPERTIES_STORAGE="eventPropertiesStorage",e.CUSTOM_EVENTS="customEvents",e.DISABLE_INTERACTION_EVENTS="disableInteractionEvents",e.CLASSIC_SDK_COMPATIBILITY="classicSDKCompatibility",e.SUPPORTED_DOMAINS="supportedDomains",e.SALESFORCE_AURA="salesforceAura",e.DISABLE_SESSION_REPLAY="disableSessionReplay",e.CLEAR_EVENT_PROPERTIES_ON_NEW_USER="clearEventPropertiesOnNewUser",e.DISABLE_PAGEVIEW_AUTOCAPTURE="disablePageviewAutocapture",e.SDK="sdk"}(o||(o={}));var c=function(){function e(){this.shouldStopTracking=!1,this.safestSettings={privacy:{enableSecureCookies:!0,disableTextCapture:!0}},this.config={}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setShouldStopTracking=function(e){this.shouldStopTracking=e},e.prototype.getShouldStopTracking=function(){return this.shouldStopTracking},e.prototype._getEnableSecureCookiesFromClientSideConfig=function(e){return(0,s.isBoolean)(null==e?void 0:e.enableSecureCookies)?null==e?void 0:e.enableSecureCookies:(0,s.isBoolean)(null==e?void 0:e.secureCookie)?null==e?void 0:e.secureCookie:void 0},e.prototype.normalizeClientSideConfigToHeapConfig=function(e){if(!e)return{};var t={disableTextCapture:e.disableTextCapture,enableSecureCookies:this._getEnableSecureCookiesFromClientSideConfig(e)},n=e.ingestServer||e.trackingServer,r=e.metadataStorage,o=e.eventPropertiesStorage,i=e.customEvents,a=e.disableInteractionEvents,s=e.classicSDKCompatibility,c=e.supportedDomains,l=e.salesforceAura,f=e.disableSessionReplay,p=e.clearEventPropertiesOnNewUser,d=e.disablePageviewAutocapture,m=e.sdk;return(0,u.removeUndefinedValues)({ingestServer:n,privacy:(0,u.removeUndefinedValues)(t),metadataStorage:r,eventPropertiesStorage:o,customEvents:i,disableInteractionEvents:a,classicSDKCompatibility:s,supportedDomains:c,salesforceAura:l,disableSessionReplay:f,clearEventPropertiesOnNewUser:p,disablePageviewAutocapture:d,sdk:m})},e.prototype._resolveToClientConfigIfAvailable=function(e,t){return e||t},e.prototype._resolvePrivacyConfig=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=r({},t),o=this.safestSettings.privacy;return Object.keys(e).forEach((function(r){var a,s=e[r];r in o&&r in t&&t[r]!==s?(a=o[r],i.logger.debug("ConfigStore -- Disagreement between client & server-side configs: Using value ".concat(a," for ").concat(r," as safest value"))):a=s,n[r]=a})),n},e.prototype._resolveStorageConfig=function(e){return!e||!(0,s.isString)(e)||e.toLowerCase()!==a.StorageTypes.LOCAL_STORAGE&&e.toLowerCase()!==a.StorageTypes.COOKIES?a.StorageTypes.COOKIES:e.toLowerCase()},e.prototype._resolveBoolean=function(e){return!!(0,s.isBoolean)(e)&&e},e.prototype.resolveConfig=function(e,t){var n,a=((n={})[o.PRIVACY]=this._resolvePrivacyConfig.bind(this),n[o.INGEST_SERVER]=this._resolveToClientConfigIfAvailable.bind(this),n[o.METADATA_STORAGE]=this._resolveStorageConfig.bind(this),n[o.EVENT_PROPERTIES_STORAGE]=this._resolveStorageConfig.bind(this),n[o.CUSTOM_EVENTS]=this._resolveToClientConfigIfAvailable.bind(this),n[o.DISABLE_INTERACTION_EVENTS]=this._resolveToClientConfigIfAvailable.bind(this),n[o.CLASSIC_SDK_COMPATIBILITY]=this._resolveBoolean.bind(this),n[o.SUPPORTED_DOMAINS]=this._resolveToClientConfigIfAvailable.bind(this),n[o.SALESFORCE_AURA]=this._resolveToClientConfigIfAvailable.bind(this),n[o.DISABLE_SESSION_REPLAY]=this._resolveBoolean.bind(this),n[o.CLEAR_EVENT_PROPERTIES_ON_NEW_USER]=this._resolveBoolean.bind(this),n[o.DISABLE_PAGEVIEW_AUTOCAPTURE]=this._resolveBoolean.bind(this),n[o.SDK]=this._resolveToClientConfigIfAvailable.bind(this),n),s=this.normalizeClientSideConfigToHeapConfig(e),u=r({},t);return Object.keys(a).forEach((function(e){var n=a[e](null==s?void 0:s[e],null==t?void 0:t[e]);u[e]=n})),i.logger.trace("resolved config",{clientSideConfig:e,normalizedClientSideConfig:s,serverSideConfig:t,resolvedConfig:u}),u},e.prototype.setConfig=function(e){this.config=e},e.prototype.getConfig=function(){return this.config},e.prototype.getEnableSecureCookies=function(){var e;return!!(null===(e=this.config.privacy)||void 0===e?void 0:e.enableSecureCookies)},e.prototype.getIntegrations=function(){return this.config.integrations||[]},e.prototype.getIngestServer=function(){return this.getConfig().ingestServer||"https://c.us.heap-api.com"},e.prototype.getSdkVersion=function(){var e,t=null!==(e=this.getConfig().sdk)&&void 0!==e?e:{},n=t.version,r=t.isExperimentalVersion;return void 0===n?"Unknown version (v5)":r?"".concat(n," (v5 experiment)"):n},e.prototype.getLibraryDomain=function(){var e,t;return null!==(t=null===(e=this.getConfig().sdk)||void 0===e?void 0:e.domain)&&void 0!==t?t:"Unknown"},e.prototype.getMetadataStorageType=function(){return this.config.metadataStorage||a.StorageTypes.COOKIES},e.prototype.getEventPropertiesStorageType=function(){return this.config.eventPropertiesStorage||a.StorageTypes.COOKIES},e.prototype.isSessionReplayDisabled=function(){return this.config.disableSessionReplay},e.prototype.getClearEventPropertiesOnNewUser=function(){return this.config.clearEventPropertiesOnNewUser},e.prototype.getDisablePageviewAutocapture=function(){return this.config.disablePageviewAutocapture},e.prototype.getCsHeapTagStatus=function(){var e;return null===(e=this.config.csSettings)||void 0===e?void 0:e.heapTagStatus},e}();t.ConfigStore=c},477:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlushState=void 0;var n=function(){function e(){this.shouldIgnoreBlockingTransformers=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setShouldIgnoreBlockingTransformers=function(e){this.shouldIgnoreBlockingTransformers=e},e.prototype.getShouldIgnoreBlockingTransformers=function(){return this.shouldIgnoreBlockingTransformers},e}();t.FlushState=n},3124:function(e,t,n){"use strict";var r=n(2952),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Queue=t.QueueEnum=void 0;var a=n(1295),s=n(4924);!function(e){e.EVENT_PROCESSING_QUEUE="_hp5_epq"}(t.QueueEnum||(t.QueueEnum={}));var u=function(){function e(){this._replacerFunc=function(){var e=new WeakSet;return function(t,n){if("object"===r(n)&&null!==n){if(e.has(n))return;e.add(n)}return n}}}return e.prototype._getQueueIdentifier=function(){return"".concat(this.queueName,".").concat(s.MetadataStore.getInstance().getEnvironmentId())},e.prototype._getQueuedMessages=function(){var e,t;return JSON.parse(null!==(t=null===(e=this.storage)||void 0===e?void 0:e.getItem(this._getQueueIdentifier()))&&void 0!==t?t:"[]")},e.prototype._getMessageIds=function(e){return e.map((function(e){return e.id}))},e.prototype._syncPersistentStorage=function(e){this.storage&&this.storage.setItem(this._getQueueIdentifier(),JSON.stringify(e,this._replacerFunc()))},e.prototype.enqueueMessages=function(e){var t=this._getQueuedMessages(),n=this._getMessageIds(t),r=e.filter((function(e){var t=e.id;return!n.includes(t)}));t=i(i([],o(t),!1),o(r),!1),this._syncPersistentStorage(t)},e.prototype.dequeueMessages=function(e){var t=this._getQueuedMessages(),n=this._getMessageIds(e);this.bufferedIds=this.bufferedIds.filter((function(e){return!n.includes(e)})),t=t.filter((function(e){var t=e.id;return!n.includes(t)})),this._syncPersistentStorage(t)},e.prototype.clearStorage=function(){var e;null===(e=this.storage)||void 0===e||e.removeItem(this._getQueueIdentifier())},e.prototype.clearBuffer=function(){this.bufferedIds=[]},e.prototype.getMessagesToProcess=function(e){var t=this;void 0===e&&(e=20);var n=this._getQueuedMessages().filter((function(e){var n=e.id;return!t.bufferedIds.includes(n)})).slice(0,e);return this.bufferedIds=i(i([],o(this.bufferedIds),!1),o(this._getMessageIds(n)),!1),n.length&&a.logger.trace("".concat(this.queueName," - getting messages for processing"),n),n},e}();t.Queue=u},2647:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EventProcessingQueue=void 0;var i=n(3124),a=n(9443),s=n(4924),u=n(1295),c=n(9496),l=n(5023),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.queueName=i.QueueEnum.EVENT_PROCESSING_QUEUE,t.bufferedIds=[],t.storage=a.MemoryStorage.getInstance(),t}return o(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype._isQueueBlocked=function(){var e=s.MetadataStore.getInstance(),t=c.AdapterRegistry.getInstance();try{e.getEnvironmentId()}catch(e){return!0}return l.ConfigStore.getInstance().getShouldStopTracking()?(u.logger.debug("EventProcessingQueue - blocked, shouldStopTracking is true"),!0):e.hasQueuedMetadataEvents()?!!t.shouldBlockEventProcessing()&&(u.logger.debug("EventProcessingQueue - blocked, waiting for adapter initialization to complete"),!0):(u.logger.debug("EventProcessingQueue - blocked, waiting for metadata events to be queued"),!0)},t.prototype.getMessagesToProcess=function(t){return void 0===t&&(t=20),this._isQueueBlocked()?(u.logger.debug("".concat(this.queueName," - blocked, waiting for unblock before processing")),[]):e.prototype.getMessagesToProcess.call(this,t)},t.prototype.getAndClearAllMessages=function(){var t=e.prototype.getMessagesToProcess.call(this,Number.MAX_SAFE_INTEGER);return this.clearStorage(),this.clearBuffer(),t},t}(i.Queue);t.EventProcessingQueue=f},4737:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.EventPropertiesStore=void 0;var o=n(4362),i=n(1295),a=n(6533),s=n(9327),u=n(4924),c=n(5023),l=n(1146),f=n(7136),p=function(){function e(e){this._dualWriteToV4=new f.DualWriteToV4,this.storageType=e,this._storage=this._getStorageType()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype._isStorageBlocked=function(){return c.ConfigStore.getInstance().getShouldStopTracking()},e.prototype._getStorageType=function(){var e=c.ConfigStore.getInstance().getConfig(),t=this.storageType||e.eventPropertiesStorage;return(null==t?void 0:t.toLowerCase())===a.StorageTypes.LOCAL_STORAGE?new o.LocalStorage:new l.CookiesStorage},e.prototype._getStorageKey=function(){var e=u.MetadataStore.getInstance();return"".concat("_hp5_event_props",".").concat(e.getEnvironmentId())},e.prototype.clearProperties=function(e){void 0===e&&(e=!0),this._storage.removeItem(this._getStorageKey()),i.logger.debug("Cleared event properties in persistent storage"),e&&this._dualWriteToV4.shouldWriteToV4()&&this._dualWriteToV4.updateEventProperties({})},e.prototype.addProperties=function(e){if(!this._isStorageBlocked()){var t=this.getProperties(),n=r(r({},t),e);this._storage.setItem(this._getStorageKey(),JSON.stringify(n),{expires:s.USER_EXPIRATION_IN_MS}),i.logger.debug("Updated event property values in persistent storage",{before:t,after:n}),this._dualWriteToV4.shouldWriteToV4()&&this._dualWriteToV4.updateEventProperties(n)}},e.prototype.getProperties=function(){return JSON.parse(this._storage.getItem(this._getStorageKey())||"{}")},e.prototype.removeEventProperty=function(e){var t=r({},this.getProperties());delete t[e],i.logger.debug("Removed event property ".concat(e," from persistent storage"),{before:this.getProperties(),after:t}),this._storage.setItem(this._getStorageKey(),JSON.stringify(t),{expires:s.USER_EXPIRATION_IN_MS}),this._dualWriteToV4.shouldWriteToV4()&&this._dualWriteToV4.updateEventProperties(t)},e}();t.EventPropertiesStore=p},3258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataMessageQueue=void 0;var r=n(9496),o=n(9974),i=n(1295),a=function(){function e(){this.queue=[]}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.flushTemporaryMetadataQueue=function(){this.queue.length&&(i.logger.debug("MetadataMessageQueue -- flushing the temporary metadata queue",{queue:this.queue}),this.queue.forEach((function(e){var t=e.type,n=e.id,r=e.overrideProps;(0,o.queueMetadataEvent)(t,n,r)})),this.queue=[])},e.prototype.queueMetadataEvent=function(e,t,a){var s=this;r.AdapterRegistry.getInstance().shouldBlockEventProcessing()?(i.logger.trace("MetadataMessageQueue -- blocking metadata event until adapters are resolved",{type:e}),this.queue.push({type:e,id:t,overrideProps:a}),n.g.setTimeout((function(){i.logger.trace("MetadataMessageQueue -- 5 seconds has passed, flushing regardless of adapter state"),s.flushTemporaryMetadataQueue()}),r.MAX_BLOCK_DURATION)):(0,o.queueMetadataEvent)(e,t,a)},e}();t.MetadataMessageQueue=a},6381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearBufferedMessagesFromEventProcessingQueueOnExpiredSession=t.enqueueOntoNetworkingQueue=t.flushAllMessagesFromEventProcessingQueue=t.getMessagesForProcessingFromEventQueue=t.enqueueOntoEventProcessingQueue=void 0;var r=n(2647),o=n(1295),i=n(3124),a=n(311);t.enqueueOntoEventProcessingQueue=function(e){e&&e.length&&(o.logger.debug("".concat(i.QueueEnum.EVENT_PROCESSING_QUEUE," - enqueueing messages from adapters to EPQ"),e),r.EventProcessingQueue.getInstance().enqueueMessages(e))};t.getMessagesForProcessingFromEventQueue=function(e){return void 0===e&&(e=20),r.EventProcessingQueue.getInstance().getMessagesToProcess(e)};t.flushAllMessagesFromEventProcessingQueue=function(){return r.EventProcessingQueue.getInstance().getAndClearAllMessages()};t.enqueueOntoNetworkingQueue=function(e,t){if(e&&e.length){o.logger.debug("Queue - enqueueing messages for networking and dequeueing from event processing after transformation",e);var n=a.Network.getInstance();r.EventProcessingQueue.getInstance().dequeueMessages(e),n.addMessages(e),t&&t(e)}};t.clearBufferedMessagesFromEventProcessingQueueOnExpiredSession=function(){r.EventProcessingQueue.getInstance().clearBuffer()}},4924:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataStore=void 0;var i=n(1295),a=n(5050),s=n(9327),u=n(6533),c=n(6381),l=n(1146),f=n(9443),p=n(3258),d=n(5023),m=n(4362),g=n(7136),v=n(8323),y=n(5140),h=n(4737),_=n(7229),T=n(8141),E=n(8217),S=n(9974),I=["pageviewId","pageviewProperties"],b=["userId","sessionId","identity","lastEventTime","sessionProperties","setPath"],w=function(){function e(e,t){this.envId="",this._sessionExpirationTime=s.SESSION_EXPIRATION_IN_MS,this._ephemeralStorage=f.MemoryStorage.getInstance(),this._metadataMessageQueue=p.MetadataMessageQueue.getInstance(),this.hasUserBeenQueued=!1,this.hasSessionBeenQueued=!1,this.hasPageviewBeenQueued=!1,this.hasCheckedCrossDomainContext=!1,e&&(this.envId=e),t&&(this.storageType=t),this._persistentStorage=this._getStorageType()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype._isStorageBlocked=function(){return d.ConfigStore.getInstance().getShouldStopTracking()},e.prototype._getStorageType=function(){var e=d.ConfigStore.getInstance().getMetadataStorageType(),t=this.storageType||e;return(null==t?void 0:t.toLowerCase())===u.StorageTypes.LOCAL_STORAGE?new m.LocalStorage:new l.CookiesStorage},e.prototype._getStorageKey=function(){return"".concat("_hp5_meta",".").concat(this.getEnvironmentId())},e.prototype._extractPersistentMetadata=function(e){var t={};return Object.entries(e).forEach((function(e){var n=o(e,2),r=n[0],i=n[1];b.includes(r)&&i&&(t[r]=i)})),t},e.prototype._extractEphemeralMetadata=function(e){var t={};return Object.entries(e).forEach((function(e){var n=o(e,2),r=n[0],i=n[1];I.includes(r)&&i&&(t[r]=i)})),t},e.prototype.hasQueuedMetadataEvents=function(){return this.hasPageviewBeenQueued&&this.hasSessionBeenQueued&&this.hasUserBeenQueued},e.prototype.setMetadata=function(e){var t,n,o,a,c,l,f,p,m,v,y,h,T,E,S,I,b,w,P,A,O,k;if(!this._isStorageBlocked()){var N=this.getMetadata(),M=this._extractEphemeralMetadata(N),C=this._extractPersistentMetadata(N),R=this._extractEphemeralMetadata(e),D=this._extractPersistentMetadata(e),L=r(r({},C),D),U=r(r({},M),R),B=JSON.stringify(L);if(d.ConfigStore.getInstance().getMetadataStorageType()===u.StorageTypes.COOKIES&&function(e){try{return(new TextEncoder).encode(e).length}catch(e){return 0}}(B)>s.MAX_COOKIE_SIZE_BYTES){i.logger.debug("MetadataStore -- persistent values larger than cookie size, setting ids first then attempting truncation");var F=r(r({},L),{sessionProperties:{id:null===(t=L.sessionProperties)||void 0===t?void 0:t.id,time:null===(n=L.sessionProperties)||void 0===n?void 0:n.time,initial_pageview_info:{id:null===(a=null===(o=L.sessionProperties)||void 0===o?void 0:o.initial_pageview_info)||void 0===a?void 0:a.id,time:null===(l=null===(c=L.sessionProperties)||void 0===c?void 0:c.initial_pageview_info)||void 0===l?void 0:l.time}}});this._persistentStorage.setItem(this._getStorageKey(),JSON.stringify(F),{expires:s.USER_EXPIRATION_IN_MS});var x=r(r({},L),{sessionProperties:r(r({},L.sessionProperties),{referrer:(0,_.truncate)(null!==(p=null===(f=L.sessionProperties)||void 0===f?void 0:f.referrer)&&void 0!==p?p:"",s.MAX_VALUE_LENGTH),search_keyword:(0,_.truncate)(null!==(v=null===(m=L.sessionProperties)||void 0===m?void 0:m.search_keyword)&&void 0!==v?v:"",s.MAX_VALUE_LENGTH),utm:(0,_.sanitizeProperties)(null!==(h=null===(y=L.sessionProperties)||void 0===y?void 0:y.utm)&&void 0!==h?h:{}),initial_pageview_info:r(r({},null===(T=L.sessionProperties)||void 0===T?void 0:T.initial_pageview_info),{title:(0,_.truncate)(null!==(I=null===(S=null===(E=L.sessionProperties)||void 0===E?void 0:E.initial_pageview_info)||void 0===S?void 0:S.title)&&void 0!==I?I:"",s.MAX_VALUE_LENGTH),url:(0,_.sanitizeProperties)(null!==(P=null===(w=null===(b=L.sessionProperties)||void 0===b?void 0:b.initial_pageview_info)||void 0===w?void 0:w.url)&&void 0!==P?P:{}),previous_page:(0,_.truncate)(null!==(k=null===(O=null===(A=L.sessionProperties)||void 0===A?void 0:A.initial_pageview_info)||void 0===O?void 0:O.previous_page)&&void 0!==k?k:"",s.MAX_VALUE_LENGTH)})})});this._persistentStorage.setItem(this._getStorageKey(),JSON.stringify(x),{expires:s.USER_EXPIRATION_IN_MS}),i.logger.trace("Updated metadata values in persistent storage",{before:C,after:x})}else i.logger.trace("MetadataStore - persistent metadata size is acceptable - proceeding with default behavior"),this._persistentStorage.setItem(this._getStorageKey(),JSON.stringify(L),{expires:s.USER_EXPIRATION_IN_MS}),i.logger.trace("Updated metadata values in persistent storage",{before:C,after:L});this._ephemeralStorage.setItem(this._getStorageKey(),JSON.stringify(U),{expires:s.USER_EXPIRATION_IN_MS}),i.logger.trace("Updated metadata values in ephemeral storage",{before:M,after:U});var j=new g.DualWriteToV4;j.shouldWriteToV4()&&j.updateMetadata(L)}},e.prototype.getMetadata=function(){var e=this._getStorageKey(),t=JSON.parse(this._persistentStorage.getItem(e)||"{}"),n=JSON.parse(this._ephemeralStorage.getItem(e)||"{}");return r(r({},t),n)},e.prototype.deleteMetadata=function(){var e=this._getStorageKey();this._persistentStorage.removeItem(e)},e.prototype.clearPageviewMetadata=function(){var e=this._getStorageKey();this._ephemeralStorage.removeItem(e),this.setHasPageviewBeenQueued(!1)},e.prototype.clearMetadata=function(){var e=this._getStorageKey();this._persistentStorage.removeItem(e),this._ephemeralStorage.removeItem(e),this.setHasSessionBeenQueued(!1),this.setHasUserBeenQueued(!1),i.logger.debug("Cleared metadata values in persistent storage")},e.prototype.updateLastEventTime=function(e){if(e){i.logger.debug("Updating lastEventTime to ".concat(e)),this.setMetadata({lastEventTime:e});var t=new g.DualWriteToV4;t.shouldWriteToV4()&&t.updateSessionPropsExpiration(e),(0,v.extendCSSession)()}else i.logger.warn("Invalid lastEventTime passed to metadata store")},e.prototype.getSessionId=function(){var e;return null===(e=this.getMetadata())||void 0===e?void 0:e.sessionId},e.prototype.getUserId=function(){var e;return null===(e=this.getMetadata())||void 0===e?void 0:e.userId},e.prototype.getIdentity=function(){var e;return null===(e=this.getMetadata())||void 0===e?void 0:e.identity},e.prototype.setIdentity=function(e){this.setMetadata({identity:e})},e.prototype.setEnvironmentId=function(e){this.envId="".concat(e)},e.prototype.getEnvironmentId=function(){if(!this.envId)throw i.logger.error("Environment ID is missing"),new Error("heap environment id is missing");return this.envId},e.prototype.getHasUserBeenQueued=function(){return this.hasUserBeenQueued},e.prototype.getHasSessionBeenQueued=function(){return this.hasSessionBeenQueued},e.prototype.setHasUserBeenQueued=function(e){this.hasUserBeenQueued=e},e.prototype.setHasSessionBeenQueued=function(e){this.hasSessionBeenQueued=e},e.prototype.setHasPageviewBeenQueued=function(e){this.hasPageviewBeenQueued=e},e.prototype.setMetadataStateFromCrossDomainContextIfPresent=function(){if(!this._isStorageBlocked()&&!this.hasCheckedCrossDomainContext){this.hasCheckedCrossDomainContext=!0;var e=(0,y.getCrossDomainMetadataFromQueryParams)(),t=e.envId,n=e.userId,r=e.sessionId,o=e.identity,a=e.sessionStartTime;if(this.getEnvironmentId()===t&&n&&r)return i.logger.debug("MetadataStore -- cross domain userid found, overriding current user"),this.setMetadata({userId:n,sessionId:r,identity:o,sessionProperties:{id:r,time:parseInt(a,10)},lastEventTime:(new Date).getTime()}),this.hasUserBeenQueued=!0,this.hasSessionBeenQueued=!0,void(0,v.identifyAurycSessionWithUserId)(n)}},e.prototype.getPageviewProperties=function(){var e;return null===(e=this.getMetadata())||void 0===e?void 0:e.pageviewProperties},e.prototype.getCustomPageviewProperties=function(){var e;return null===(e=this.getMetadata())||void 0===e?void 0:e.pageviewProperties.properties},e.prototype.addCustomPageviewProperties=function(e){var t=this.getPageviewProperties(),n=r(r({},null==t?void 0:t.properties),e);this.setMetadata({pageviewProperties:r(r({},t),{properties:n})})},e.prototype.removeCustomPageviewProperty=function(e){var t=r({},this.getCustomPageviewProperties());delete t[e],i.logger.debug("Removed custom pageview property ".concat(e," from storage"),{before:this.getCustomPageviewProperties(),after:t});var n=this.getPageviewProperties();this.setMetadata({pageviewProperties:r(r({},n),{properties:t})})},e.prototype.clearCustomPageviewProperties=function(){var e=this.getPageviewProperties();i.logger.trace("MetadataStore -- clearing custom pageview properties"),this.setMetadata({pageviewProperties:r(r({},e),{properties:{}})})},e.prototype.clearEventPropertiesIfNeeded=function(){var e=d.ConfigStore.getInstance().getClearEventPropertiesOnNewUser(),t=h.EventPropertiesStore.getInstance();e&&(i.logger.debug("Clearing event properties"),t.clearProperties())},e.prototype.createNewUserIfNeeded=function(e){var t,n=this.getMetadata().userId;if(!n||(null==e?void 0:e.newUserId)&&n!==e.newUserId||!(0,T.isStringANumber)(n)){this.clearEventPropertiesIfNeeded(),this.hasUserBeenQueued=!1,this.hasSessionBeenQueued=!1,this.hasPageviewBeenQueued=!1;var r=null!==(t=null==e?void 0:e.newUserId)&&void 0!==t?t:(0,a.generateId)();(null==e?void 0:e.identity)&&(0,S.queueIdentityEvent)(e.identity,r),this._metadataMessageQueue.queueMetadataEvent(u.MetadataEventEnum.METADATA_USER,r),(0,c.clearBufferedMessagesFromEventProcessingQueueOnExpiredSession)(),(0,v.createAndIdentifyNewAurycSession)(r),(0,v.createNewCSUser)(null==e?void 0:e.heapDrives)}else this.hasUserBeenQueued=!0,(0,v.identifyAurycSessionWithUserId)(n)},e.prototype.createNewSessionIfNeeded=function(e){if(this.hasUserBeenQueued){var t=this.getMetadata(),n=t.sessionId,r=t.sessionProperties,o=this.hasSessionExpired();n&&!o&&(0,T.isStringANumber)(n)&&n===(null==r?void 0:r.id)?this.hasSessionBeenQueued=!0:(this.hasSessionBeenQueued=!1,this._metadataMessageQueue.queueMetadataEvent(u.MetadataEventEnum.METADATA_SESSION,(0,a.generateId)()),(0,c.clearBufferedMessagesFromEventProcessingQueueOnExpiredSession)(),(0,v.startNewCSSession)(null==e?void 0:e.heapDrives))}},e.prototype.createNewPageviewIfNeeded=function(e){if(this.hasUserBeenQueued&&this.hasSessionBeenQueued){var t=this.getMetadata().pageviewId;t&&(0,T.isStringANumber)(t)?this.hasPageviewBeenQueued=!0:(this.hasPageviewBeenQueued=!1,this._metadataMessageQueue.queueMetadataEvent(u.MetadataEventEnum.METADATA_PAGEVIEW,(0,a.generateId)(),e))}},e.prototype.hasSessionExpired=function(){var e=this.getMetadata().lastEventTime;return!e||e+this._sessionExpirationTime<(new Date).getTime()},e.prototype.deleteSetPathIfExpired=function(){var e;(null===(e=this.getMetadata().setPath)||void 0===e?void 0:e.lifespan)===E.SetPathLifespan.OnNextPageviewOnly&&this.setMetadata({setPath:{path:void 0,query:void 0,hash:void 0,lifespan:void 0}})},e}();t.MetadataStore=w},5140:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.getCrossDomainMetadataFromQueryParams=void 0;var o=n(1295);t.getCrossDomainMetadataFromQueryParams=function(){try{var e=new URL(window.location.href).searchParams.get("_hp5_cdc");if(!e)return{};var t=r(e.split(";"),5);return{envId:t[0],userId:t[1],sessionId:t[2],sessionStartTime:t[3],identity:t[4]}}catch(e){return o.logger.error("getCrossDomainMetadata -- failed to parse metadata from URL, defaulting to normal logic"),{}}}},1146:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.CookiesStorage=void 0;var o=n(5050),i=n(5023),a=n(8497),s=function(){var e=this;this._findHighestLevelDomain=function(){for(var t="",n=window.location.hostname||"localhost",r="hld"+(0,o.generateId)(),i="_hp2_".concat(r),a=n.split("."),s=a.length-1;s>=0;s--)e.getItem(i)!==r&&(t=a.slice(s,a.length).join("."),e.setItem(i,r,{expires:15e4,domain:t}));e.setItem(i,r,{expires:-1,domain:t});var u=!t.match(/[a-zA-Z]/),c=t.indexOf(".")<0;return(u||c)&&(t=null),t},this.setItem=function(t,n,o){var s;void 0===o&&(o={});var u,c="".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n)),l=!1;o&&o.domain||(u=e._findHighestLevelDomain());var f="https:"===document.location.protocol&&i.ConfigStore.getInstance().getEnableSecureCookies(),p=(0,a.getOptimalSameSiteCookieValue)(f);p&&(o=r(r({},o),((s={}).SameSite=p,s))),o&&Object.keys(o).map((function(e){var t=o[e];if("expires"===e){var n=new Date,r=n.getTime()+ +o.expires;n.setTime(r),t=n.toUTCString()}t&&(c+="; ".concat(e,"=").concat(t)),"path"===e&&(l=!0),"domain"===e&&(u=t)})),l||(c+="; path=/"),u&&(c+="; domain=.".concat(u)),f&&(c+="; secure"),document.cookie=c},this.getAllCookiesMatching=function(e,t){for(var n=new RegExp("(^|;)[ ]*"+e+"=([^;]*)","g"),r=[],o=n.exec(t);o;)r.push(decodeURIComponent(o[2])),o=n.exec(t);return r},this.getItem=function(t){var n=e.getAllCookiesMatching(t,document.cookie),r=n[0];if(n.length>1&&window.heap.loaded){e.setItem(t,"delete",{expires:-1});var o=e.getAllCookiesMatching(t,document.cookie),i=n.filter((function(e){return!o.includes(e)}));i.length>0&&(r=i[0]),r&&e.setItem(t,r)}return null!=r?r:null},this.hasExpired=function(e){return new Date>=e},this.removeItem=function(t){e.setItem(t,"",{expires:"-60000"})}};t.CookiesStorage=s},4362:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorage=void 0;var n=function(){var e=this;this.setItem=function(e,t,n){var r={value:t};if(null==n?void 0:n.expires){var o=new Date;r.expires=o.getTime()+ +(null==n?void 0:n.expires)}localStorage.setItem(e,JSON.stringify(r))},this.getItem=function(t){var n=localStorage.getItem(t);if(!n)return null;var r=JSON.parse(n);return r.expires&&e.hasExpired(r.expires)?(e.removeItem(t),null):r.value},this.hasExpired=function(e){return(new Date).getTime()>=e},this.removeItem=function(e){localStorage.removeItem(e)}};t.LocalStorage=n},9443:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryStorage=void 0;var n=function(){function e(){var e=this;this.storage={},this.setItem=function(t,n,r){e.storage[t]=n},this.getItem=function(t){return e.storage[t]},this.removeItem=function(t){delete e.storage[t]}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e}();t.MemoryStorage=n},2284:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStorage=void 0;var n=function(){this.setItem=function(e,t,n){sessionStorage.setItem(e,t)},this.getItem=function(e){return sessionStorage.getItem(e)},this.removeItem=function(e){sessionStorage.removeItem(e)}};t.SessionStorage=n},8497:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.getOptimalSameSiteCookieValue=t.isSameSiteNoneIncompatible=t.getUserAgent=t.SameSiteValue=void 0,function(e){e.None="None",e.Lax="Lax"}(n=t.SameSiteValue||(t.SameSiteValue={}));t.getUserAgent=function(){return navigator.userAgent};var r=function(){return e=12,!!(n=(0,t.getUserAgent)().match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//))&&parseInt(n[0],10)===e||function(e,n){var r=(0,t.getUserAgent)().match(/\(Macintosh;.*Mac OS X (\d+)_(\d+)[_\d]*.*\) AppleWebKit\//);if(!r)return!1;var o=parseInt(r[0],10),i=parseInt(r[1],10);return o===e&&i===n}(10,14)&&(/Version\/.* Safari/.test((0,t.getUserAgent)())&&!i()||o());var e,n},o=function(){return/^Mozilla\/[.\d]+ \(Macintosh;.*Mac OS X [_\d]+\) AppleWebKit\/[.\d]+ \(KHTML, like Gecko\)$/.test((0,t.getUserAgent)())},i=function(){return/Chrom(e|ium)/.test((0,t.getUserAgent)())},a=function(e){var n=(0,t.getUserAgent)().match(/Chrom[^ /]+\/(\d+)[.\d]* /),r=0;return n&&(r=parseInt(n[0],10)),r>=e},s=function(){return/UCBrowser\//.test((0,t.getUserAgent)())?!function(e,n,r){var o=(0,t.getUserAgent)().match(/UCBrowser\/(\d+)\.(\d+)\.(\d+)[.\d]* /);if(!o)return!1;if(0===o.length)return!1;var i=parseInt(o[0],10),a=parseInt(o[1],10),s=parseInt(o[2],10);return i!==e?i>e:a!==n?a>n:s>=r}(12,13,2):i()&&a(51)&&!a(67)};t.isSameSiteNoneIncompatible=function(){return r()||s()};t.getOptimalSameSiteCookieValue=function(e){return(0,t.isSameSiteNoneIncompatible)()?null:e?n.None:n.Lax}},9386:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.handleStateTransferForEventProperties=t.handleStateTransferForMetadata=void 0;var o=n(6533),i=n(4924),a=n(5023),s=n(4737);t.handleStateTransferForMetadata=function(){var e=i.MetadataStore.getInstance(),t=e.getEnvironmentId(),n=a.ConfigStore.getInstance().getMetadataStorageType()===o.StorageTypes.COOKIES?o.StorageTypes.LOCAL_STORAGE:o.StorageTypes.COOKIES,r=new i.MetadataStore(t,n),s=e.getMetadata(),u=r.getMetadata(),c=s.lastEventTime,l=u.lastEventTime;c&&l?l>c&&e.setMetadata(u):l&&e.setMetadata(u),r.deleteMetadata()};t.handleStateTransferForEventProperties=function(){var e=s.EventPropertiesStore.getInstance(),t=a.ConfigStore.getInstance().getEventPropertiesStorageType()===o.StorageTypes.COOKIES?o.StorageTypes.LOCAL_STORAGE:o.StorageTypes.COOKIES,n=new s.EventPropertiesStore(t),i=e.getProperties(),u=n.getProperties(),c=r(r({},u),i);e.addProperties(c),n.clearProperties(!1)}},9318:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.isIdentityValid=void 0;var o=n(8141),i=["undefined","anonymous","true","false","not_authenticated","NaN","NA","Na","unique_identifier","0","",'""',"[object Object]","{{ customer.email }}","{{ email }}",/^email$/i,/^none$/i,/^unknown$/i,/^guest$/i,/^null$/i];t.isIdentityValid=function(e){return!(!e||!(0,o.isString)(e)&&!(0,o.isNumber)(e)||(0,o.isNumber)(e)&&!isFinite(e)||function(e){var t,n;try{for(var o=r(i),a=o.next();!a.done;a=o.next()){var s=a.value;if("string"==typeof s&&e===s)return!0;if(s instanceof RegExp&&s.test(e))return!0}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}("".concat(e)))}},1689:function(e,t,n){"use strict";t.M=void 0;var r=n(5614),o=n(1225),i=n(473),a=["onReady","identify","addUserProperties"];t.M=function(){var e=window.heapReadyCb;if(e){var t=e.find((function(e){return"init"===e.name}));if(t&&e.splice(e.indexOf(t),1),e.length>0){var n=o.FunctionQueue.getInstance();e.forEach((function(e){a.includes(e.name)?n.enqueueOnReady(e):n.enqueueHeapApi(e)})),window.heapReadyCb=[]}t&&t.fn()}},window.heap.appid||(window.heap=r.publicAPIs,(0,i.initAutocapture)(),(0,t.M)())},1295:function(e,t,n){"use strict";var r=n(2952);Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.HeapLogger=t.LOGGER_ITEM_KEY=void 0;var o=n(2284);t.LOGGER_ITEM_KEY="_hp5_logger";var i=function(){function e(e){var n=this;this.persistentStorage=new o.SessionStorage,this.getLogLevelFromStorage=function(e){return n.persistentStorage.getItem("".concat(t.LOGGER_ITEM_KEY,".").concat(e))},this.setLogLevel=function(e,r){n.logLevel=e,r&&n.persistentStorage.setItem("".concat(t.LOGGER_ITEM_KEY,".").concat(r),e)},this.logLevel=null!=e?e:"none"}return e.getInstance=function(){return e.instance||(e.instance=new e("none")),e.instance},e.prototype.log=function(e,t,n){if("none"!==this.logLevel){var o=Array.isArray(t)||"object"===r(t)&&null!==t?t:{context:t};console.log(e,t?o:"")}},e.prototype.error=function(e,t){["trace","debug","info","warn","error"].includes(this.logLevel)&&this.log(e,t,"error")},e.prototype.warn=function(e,t){["trace","debug","info","warn"].includes(this.logLevel)&&this.log(e,t,"debug")},e.prototype.info=function(e,t){["trace","debug","info"].includes(this.logLevel)&&this.log(e,t,"debug")},e.prototype.debug=function(e,t){["trace","debug"].includes(this.logLevel)&&this.log(e,t,"debug")},e.prototype.trace=function(e,t){"trace"===this.logLevel&&this.log(e,t,"trace")},e}();t.HeapLogger=i,t.logger=i.getInstance()},7136:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.DualWriteToV4=void 0;var o=n(1146),i=n(6929),a=n(9327),s=n(1295),u=n(7429),c=n(5023),l=function(){function e(){var e=this;this._storage=new o.CookiesStorage,this._idCookie=(0,u.getV4CookieName)(i.V4_ID_COOKIE_NAME),this._sessionPropertiesCookie=(0,u.getV4CookieName)(i.V4_SESSION_COOKIE_NAME),this._eventPropertiesCookie=(0,u.getV4CookieName)(i.V4_EVENT_PROPS_COOKIE_NAME),this.shouldWriteToV4=function(){var t;return null!==(t=c.ConfigStore.getInstance().getConfig().classicSDKCompatibility&&e.classicCookiesExist())&&void 0!==t&&t},this.classicCookiesExist=function(){return e._storage.getItem(e._idCookie)||e._storage.getItem(e._sessionPropertiesCookie)||e._storage.getItem(e._eventPropertiesCookie)},this.updateIdCookie=function(t){e._storage.setItem(e._idCookie,JSON.stringify(t),{expires:a.USER_EXPIRATION_IN_MS}),s.logger.trace("Updated v4 cookie id ".concat(e._idCookie),t)},this.updateSessionPropertiesCookie=function(t){var n,r,o,i,u,c,l,f,p,d,m,g,v;if(t){var y={ts:t.time,r:t.referrer,us:null===(n=t.utm)||void 0===n?void 0:n.source,um:null===(r=t.utm)||void 0===r?void 0:r.medium,ut:null===(o=t.utm)||void 0===o?void 0:o.term,uc:null===(i=t.utm)||void 0===i?void 0:i.content,ua:null===(u=t.utm)||void 0===u?void 0:u.campaign,d:null===(l=null===(c=t.initial_pageview_info)||void 0===c?void 0:c.url)||void 0===l?void 0:l.domain,h:null===(p=null===(f=t.initial_pageview_info)||void 0===f?void 0:f.url)||void 0===p?void 0:p.path,q:null===(m=null===(d=t.initial_pageview_info)||void 0===d?void 0:d.url)||void 0===m?void 0:m.query,g:null===(v=null===(g=t.initial_pageview_info)||void 0===g?void 0:g.url)||void 0===v?void 0:v.hash},h=e._removeEmptyValues(y);e._storage.setItem(e._sessionPropertiesCookie,JSON.stringify(h),{expires:a.SESSION_EXPIRATION_IN_MS}),s.logger.trace("Updated v4 session properties ".concat(e._sessionPropertiesCookie),h)}else e._storage.removeItem(e._sessionPropertiesCookie)},this.updateMetadata=function(t){var n={userId:t.userId,sessionId:t.sessionId,identity:t.identity},r=t.sessionProperties;e.updateIdCookie(n),e.updateSessionPropertiesCookie(r)},this.updateEventProperties=function(t){e._storage.setItem(e._eventPropertiesCookie,JSON.stringify(t),{expires:a.USER_EXPIRATION_IN_MS}),s.logger.trace("Updated v4 event properties ".concat(e._eventPropertiesCookie),t)},this.updateSessionPropsExpiration=function(t){var n=e._storage.getItem(e._sessionPropertiesCookie);n&&(e._storage.setItem(e._sessionPropertiesCookie,n,{expires:t}),s.logger.trace("Updated v4 session properties ".concat(e._sessionPropertiesCookie," expiration"),t))},this.removeClassicCookiesIfNeeded=function(){e.shouldWriteToV4()||(e._storage.removeItem(e._idCookie),e._storage.removeItem(e._sessionPropertiesCookie),e._storage.removeItem(e._eventPropertiesCookie))}}return e.deleteV4Cookies=function(){var e=(0,u.getV4CookieName)(i.V4_ID_COOKIE_NAME),t=(0,u.getV4CookieName)(i.V4_SESSION_COOKIE_NAME),n=(0,u.getV4CookieName)(i.V4_EVENT_PROPS_COOKIE_NAME),r=new o.CookiesStorage;r.removeItem(e),r.removeItem(t),r.removeItem(n)},e.prototype._removeEmptyValues=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=r(e,2);t[0];return""!==t[1]})))},e}();t.DualWriteToV4=l},7429:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.migrateFromV4=t.getV4CookieName=void 0;var o=n(4924),i=n(1146),a=n(1295),s=n(6929),u=n(7136);t.getV4CookieName=function(e){var t=o.MetadataStore.getInstance().getEnvironmentId();return"".concat(s.V4_CONFIG_COOKIE_NAME_PREFIX).concat(e,".").concat(t)};var c=function(e){var n=new i.CookiesStorage,r=(0,t.getV4CookieName)(e);return n.getItem(r)},l=function(){var e=c(s.V4_ID_COOKIE_NAME);if(e){var t=null,n=JSON.parse(e),i=n.userId,u=n.identity,l=n.sessionId,f={userId:i,identity:u};l!==o.MetadataStore.getInstance().getSessionId()&&(t=function(e){var t,n,r,o,i,a,u,l,f,p,d=c(s.V4_SESSION_COOKIE_NAME);if(!d)return null;var m=JSON.parse(d);return{sessionId:e,sessionProperties:{id:e,time:m.ts,referrer:null!==(t=m.r)&&void 0!==t?t:"",utm:{source:null!==(n=m.us)&&void 0!==n?n:"",medium:null!==(r=m.um)&&void 0!==r?r:"",term:null!==(o=m.ut)&&void 0!==o?o:"",content:null!==(i=m.uc)&&void 0!==i?i:"",campaign:null!==(a=m.ua)&&void 0!==a?a:""},initial_pageview_info:{time:m.ts,id:"",url:{domain:null!==(u=m.d)&&void 0!==u?u:"",path:null!==(l=m.h)&&void 0!==l?l:"",query:null!==(f=m.q)&&void 0!==f?f:"",hash:null!==(p=m.g)&&void 0!==p?p:""}}},lastEventTime:e?(new Date).getTime():void 0}}(l));var p,d=r(r({},f),t);a.logger.trace("Migration -- updating metadata",{metadata:d}),p=d,o.MetadataStore.getInstance().setMetadata(p)}};t.migrateFromV4=function(){l(),function(){var e=c(s.V4_EVENT_PROPS_COOKIE_NAME);if(e){var t=JSON.parse(e);a.logger.trace("Migration -- updating event properties",{properties:t}),window.heap.clearEventProperties(),window.heap.addEventProperties(t)}}(),(new u.DualWriteToV4).removeClassicCookiesIfNeeded()}},6929:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V4_SESSION_COOKIE_NAME=t.V4_ID_COOKIE_NAME=t.V4_EVENT_PROPS_COOKIE_NAME=t.V4_CONFIG_COOKIE_NAME_PREFIX=void 0,t.V4_CONFIG_COOKIE_NAME_PREFIX="_hp2_",t.V4_EVENT_PROPS_COOKIE_NAME="props",t.V4_ID_COOKIE_NAME="id",t.V4_SESSION_COOKIE_NAME="ses_props"},4397:function(e,t,n){"use strict";var r,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1297),s=n(1295),u=((r={})[a.MessageType.Identify]="/api/capture/v2/identify",r[a.MessageType.Track]="/api/capture/v2/track",r[a.MessageType.AUP]="/api/capture/v2/add_user_properties",r),c=function(){function e(e){var t=this;this.sendEvent=function(e,n){return t.sendRequest(e,t.fullUrlPath(u[a.MessageType.Track]),n)},this.sendAUP=function(e,n){return t.sendRequest(e,t.fullUrlPath(u[a.MessageType.AUP]),n)},this.sendIdentify=function(e,n){return t.sendRequest(e,t.fullUrlPath(u[a.MessageType.Identify]),n)},this.sendRequest=function(e,n,r){return o(t,void 0,void 0,(function(){var t,o,a;return i(this,(function(i){switch(i.label){case 0:s.logger.trace("CollectorNetworkClient -- Attempting send to ".concat(n)),i.label=1;case 1:return i.trys.push([1,3,,4]),r?(fetch(n,{method:"POST",headers:{"Content-Type":"application/octet-stream"},body:e}),s.logger.trace("CollectorNetworkClient -- Fired off a request before unload",{payload:e}),[2,{ok:!1,statusCode:null}]):[4,fetch(n,{method:"POST",headers:{"Content-Type":"application/octet-stream"},body:e})];case 2:return t=i.sent(),o=t.ok,400===t.status&&(s.logger.warn("CollectorNetworkClient -- Bad request to ".concat(n),{payload:e}),o=!0),a={ok:o,statusCode:t.status},s.logger.trace("CollectorNetworkClient -- Response for send to ".concat(n),a),[2,a];case 3:return i.sent(),[2,{ok:!1,statusCode:null}];case 4:return[2]}}))}))},this.apiUrl=e}return e.prototype.fullUrlPath=function(e){return"".concat(this.apiUrl).concat(e)},e}();t.default=c},7634:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4362),a=n(1297),s=n(1295),u=n(6404),c=n(5944),l=n(7009),f=n(4924),p=n(7873),d=n(6271),m=function(){function e(e,t,n){void 0===e&&(e=2e6),void 0===t&&(t=5e7),void 0===n&&(n=new i.LocalStorage),this.maxLocalStorageBufferSize=e,this.maxOverflowBufferSize=t,this.storage=n;var r=f.MetadataStore.getInstance().getEnvironmentId();this.bufferKey="_hp5_network_buffer.".concat(r),this.overflowBuffer=[],this.storage.getItem(this.bufferKey)||this.storage.setItem(this.bufferKey,JSON.stringify([]))}return e.deleteQueue=function(){var e=f.MetadataStore.getInstance();(new i.LocalStorage).removeItem("_hp5_network_buffer.".concat(e.getEnvironmentId()))},e.prototype.addMessages=function(e){s.logger.trace("MessageBatcherBuffer -- Adding events to buffer",e),this.appendBuffer(e)},e.prototype.peakBuffer=function(e){return this.getFullBuffer().slice(0,e)},e.prototype.commitPop=function(e){var t=this.getPrimaryBuffer().primaryBuffer,n=Math.min(this.overflowBuffer.length,e);this.overflowBuffer.splice(0,n);var r=e-n;t.splice(0,r),this.storage.setItem(this.bufferKey,JSON.stringify(t))},e.prototype.getBufferSize=function(){var e=this.getPrimaryBuffer().primaryBuffer;return this.overflowBuffer.length+e.length},e.prototype.getFullBuffer=function(){var e,t=JSON.parse(null!==(e=this.storage.getItem(this.bufferKey))&&void 0!==e?e:"[]"),n=[],r=t.map((function(e){try{if((0,p.isMessageStale)(e.timestamp,d.MAX_MESSAGE_AGE_IN_SECONDS))throw new Error("Message is older than 7 days, discarding");switch(e.type){case a.MessageType.Track:return{type:a.MessageType.Track,payload:u.Message.fromJson(e.payload),kind:e.kind,timestamp:e.timestamp};case a.MessageType.AUP:return{type:a.MessageType.AUP,payload:c.UserProperties.fromJson(e.payload),timestamp:e.timestamp};case a.MessageType.Identify:return{type:a.MessageType.Identify,payload:l.UserIdentification.fromJson(e.payload),timestamp:e.timestamp};default:throw new Error("Unsupported message type")}}catch(t){return s.logger.trace("MessageBatcherBuffer -- invalid message for network flush, removing from buffer",{message:e,error:t.message}),n.push(e),null}})).filter((function(e){return null!==e})),o=t.filter((function(e){return!n.includes(e)}));if(o.length!==t.length){s.logger.trace("MessageBatcherBuffer -- failed to parse messages, removing from primary buffer");var i=JSON.stringify(o);this.storage.setItem(this.bufferKey,i)}return r.concat(this.overflowBuffer)},e.prototype.getPrimaryBuffer=function(){var e,t,n=(null!==(e=this.storage.getItem(this.bufferKey))&&void 0!==e?e:"").length;return{primaryBuffer:JSON.parse(null!==(t=this.storage.getItem(this.bufferKey))&&void 0!==t?t:"[]"),primaryBufferSizeInBytes:n}},e.prototype.appendOverflowBuffer=function(e,t){var n;t+JSON.stringify(this.overflowBuffer).length>this.maxOverflowBufferSize?s.logger.warn("MessageBatcherBuffer -- overflow buffer is too large, dropping messages",e):(n=this.overflowBuffer).push.apply(n,o([],r(e),!1))},e.prototype.appendBuffer=function(e){var t=this.getPrimaryBuffer(),n=t.primaryBuffer,i=t.primaryBufferSizeInBytes,a=JSON.stringify(e);if(i+a.length>this.maxLocalStorageBufferSize)s.logger.trace("MessageBatcherBuffer -- using overflow buffer",e),this.appendOverflowBuffer(e,a.length);else{n.push.apply(n,o([],r(e),!1));var u=JSON.stringify(n);s.logger.trace("Saving primary buffer",u);try{this.storage.setItem(this.bufferKey,u)}catch(t){s.logger.trace("Failed to save to primary buffer, using overflow buffer",{e:t}),this.appendOverflowBuffer(e,a.length)}}},e}();t.default=m},6420:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(7634),u=n(1297),c=n(5615),l=n(6533),f=n(1295),p=n(8207),d=n(6271),m=n(7873),g=n(5023),v=function(){function e(t){var n=t.client,r=t.flushInterval,o=void 0===r?3e3:r,i=t.maxBufferSize,a=void 0===i?10:i,u=t.initialRetryDelay,c=void 0===u?2e3:u,l=t.maxRetryDelay,g=void 0===l?5e3:l,v=t.maxRetries,y=void 0===v?3:v,h=t.maxLifetimeOfRequestsInSeconds,_=void 0===h?d.MAX_MESSAGE_AGE_IN_SECONDS:h,T=t.maxBatchSize,E=void 0===T?10:T,S=this;this.backlogFailedRequests=function(e){var t=e.originalBufferedMessages.filter((function(e){return!(0,m.isMessageStale)(e.timestamp,S.maxLifetimeOfRequestsInSeconds)}));S.retryBuffer.addMessages(t)},f.logger.trace("Creating network."),e.instance=this,this.client=n,this.batchBuffer=new s.default,this.retryBuffer=new p.default,this.flushInterval=o,this.maxBufferSize=a,this.flushTimeout=null,this.maxRetryDelay=g,this.initialRetryDelay=c,this.maxRetries=y,this.maxLifetimeOfRequestsInSeconds=_,this.maxBatchSize=E,this.sendStatus={isSending:!1,numMessagesSending:null},this.flushRetryBuffer(),this.flushBufferOnInterval(),f.logger.trace("Initialized network")}return e.getInstance=function(t){if(!t&&!e.instance)throw new Error("Network instance not initialized");return e.instance?e.instance:new e(t)},e.groupByMessageType=function(e){var t;return e.reduce((function(e,t){var n=t.type;return e[n]||(e[n]=[]),e[n].push(t),e}),((t={})[u.MessageType.Track]=[],t[u.MessageType.AUP]=[],t[u.MessageType.Identify]=[],t))},e.prototype.getBufferSize=function(){return this.batchBuffer.getBufferSize()},e.prototype.addMessages=function(e){var t=e.map(u.schematizeMessage).filter((function(e){return null!==e}));f.logger.trace("MessageBatcherBuffer -- schematized messages",{before:e,after:t}),this.batchBuffer.addMessages(t);var n=e.some((function(e){return e.type===l.MetadataEventEnum.METADATA_SESSION||e.type===l.MetadataEventEnum.METADATA_USER||e.type===l.MetadataEventEnum.METADATA_PAGEVIEW}));(this.batchBuffer.getBufferSize()>=this.maxBufferSize&&!this.sendStatus.isSending||n)&&this.flushBuffer()},e.prototype.flushBuffer=function(){return r(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),0===this.batchBuffer.getBufferSize()||this.sendStatus.isSending?(this.flushBufferOnInterval(),[2]):(this.sendStatus={isSending:!0,numMessagesSending:null},this.flushTimeout&&window.clearTimeout(this.flushTimeout),this.sendStatus.numMessagesSending=this.batchBuffer.getBufferSize(),e=this.batchBuffer.peakBuffer(this.sendStatus.numMessagesSending),f.logger.trace("Network -- flushing buffer",e),t=this.formRequests(e),[4,this.retryAllRequestsUntilSuccess(t)]);case 1:return r.sent(),this.batchBuffer.commitPop(this.sendStatus.numMessagesSending),this.sendStatus={isSending:!1,numMessagesSending:null},[3,4];case 2:return n=r.sent(),f.logger.error("Network -- error flushing buffer",{exception:n}),[3,4];case 3:return this.flushBufferOnInterval(),[7];case 4:return[2]}}))}))},e.prototype.flushRetryBuffer=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,i=this;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),0===(e=this.retryBuffer.getBufferSize())?[2]:(t=this.retryBuffer.peakBuffer(e),f.logger.debug("Network -- flushing retry buffer on initial page load",t),n=this.formRequests(t),[4,Promise.all(n.map((function(e){return i.sendSingleRequestWithBackoff(e,i.initialRetryDelay,Number.MAX_VALUE)})))]);case 1:return o.sent(),f.logger.trace("Network -- successfully flushed "),this.retryBuffer.commitPop(e),[3,3];case 2:return r=o.sent(),f.logger.error("Network -- error flushing retry buffer, discarding messages",{exception:r}),[3,3];case 3:return[2]}}))}))},e.prototype.flushBufferOnUnload=function(){try{var e=this.batchBuffer.getBufferSize();if(0===e)return void f.logger.trace("Network -- no messages to flush on unload");var t=this.batchBuffer.peakBuffer(e);this.formRequests(t).map((function(e){return(0,e.sendFunction)(e.payload,!0)})),f.logger.debug("Network -- attempted to send requests on unload")}catch(e){f.logger.warn("Network -- error flushing buffer on unload",{exception:e})}},e.prototype.retryAllRequestsUntilSuccess=function(e){return r(this,void 0,void 0,(function(){var t=this;return o(this,(function(n){switch(n.label){case 0:return[4,Promise.all(e.map((function(e){return t.sendSingleRequestWithBackoff(e,t.initialRetryDelay,0)})))];case 1:return n.sent(),[2]}}))}))},e.prototype.sendSingleRequestWithBackoff=function(e,t,n){return r(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,4]),[4,this.sendSingleRequest(e)];case 1:return o.sent(),[3,4];case 2:return r=o.sent(),n>=this.maxRetries?(this.backlogFailedRequests(e),[2]):[4,new Promise((function(e){return window.setTimeout(e,t)}))];case 3:return o.sent(),i=Math.min(Math.pow(t,2),this.maxRetryDelay),f.logger.error("Network -- Retrying request",{exception:r}),[2,this.sendSingleRequestWithBackoff(e,i,n+1)];case 4:return[2]}}))}))},e.prototype.sendSingleRequest=function(e){var t=e.payload,n=e.sendFunction;return r(this,void 0,void 0,(function(){var e,r,i;return o(this,(function(o){switch(o.label){case 0:return[4,n(t)];case 1:if(e=o.sent(),r=e.ok,i=e.statusCode,!r)throw new Error("Request failed with status code ".concat(i));return[2]}}))}))},e.prototype.formRequests=function(t){var n,r=this,o=e.groupByMessageType(t);f.logger.debug("Network -- Messages being sent to server",t);var s=(0,c.chunkEvents)(o[u.MessageType.Track],this.maxBatchSize),l=((n={})[u.MessageType.Track]=s.map((function(e){return{payload:(0,c.encodeEvents)(e),sendFunction:r.client.sendEvent,originalBufferedMessages:e}})),n[u.MessageType.AUP]=o[u.MessageType.AUP].map((function(e){return{payload:(0,c.encodeAUP)(e),sendFunction:r.client.sendAUP,originalBufferedMessages:[e]}})),n[u.MessageType.Identify]=o[u.MessageType.Identify].map((function(e){return{payload:(0,c.encodeIdentify)(e),sendFunction:r.client.sendIdentify,originalBufferedMessages:[e]}})),n),p=a(a(a([],i(l[u.MessageType.AUP]),!1),i(l[u.MessageType.Track]),!1),i(l[u.MessageType.Identify]),!1);return f.logger.trace("Network -- Formed requests",p),p},e.prototype.flushBufferOnInterval=function(){var e=this;this.flushTimeout&&window.clearTimeout(this.flushTimeout),g.ConfigStore.getInstance().getShouldStopTracking()||(this.flushTimeout=n.g.setTimeout((function(){return r(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.flushBuffer()];case 1:return e.sent(),[2]}}))}))}),this.flushInterval))},e}();t.default=v},8207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4362),o=n(1297),i=n(1295),a=n(4924),s=n(6404),u=n(5944),c=n(7009),l=function(){function e(e,t){void 0===e&&(e=2e6),void 0===t&&(t=new r.LocalStorage),this.maxLocalStorageBufferSize=e,this.storage=t;var n=a.MetadataStore.getInstance().getEnvironmentId();this.bufferKey="_hp5_retry_buffer.".concat(n),this.storage.getItem(this.bufferKey)||this.storage.setItem(this.bufferKey,JSON.stringify([]))}return e.deleteQueue=function(){var e=a.MetadataStore.getInstance();(new r.LocalStorage).removeItem("_hp5_retry_buffer.".concat(e.getEnvironmentId()))},e.prototype.addMessages=function(e){i.logger.debug("RetryMessageBuffer -- Adding events to buffer after failed retries",e),this.appendBuffer(e)},e.prototype.commitPop=function(e){var t=this.getPrimaryBuffer().primaryBuffer,n=t.splice(0,e);i.logger.trace("RetryMessageBuffer -- removing messages from the buffer",{removedMessages:n}),this.storage.setItem(this.bufferKey,JSON.stringify(t))},e.prototype.peakBuffer=function(e){var t=this.getPrimaryBuffer().primaryBuffer,n=t.splice(0,e),r=[],a=n.map((function(e){try{switch(e.type){case o.MessageType.Track:return{type:o.MessageType.Track,payload:s.Message.fromJson(e.payload),kind:e.kind,timestamp:e.timestamp};case o.MessageType.AUP:return{type:o.MessageType.AUP,payload:u.UserProperties.fromJson(e.payload),timestamp:e.timestamp};case o.MessageType.Identify:return{type:o.MessageType.Identify,payload:c.UserIdentification.fromJson(e.payload),timestamp:e.timestamp};default:throw new Error("Unsupported message type")}}catch(t){return i.logger.trace("RetryMessageBatcher -- Failed to parse the following message for network flush, dropping the message",{message:e,error:t.message}),r.push(e),null}})).filter((function(e){return null!==e})),l=t.filter((function(e){return!r.includes(e)}));if(l.length!==t.length){i.logger.trace("RetryMessageBatcher -- failed to parse messages, removing from primary buffer");var f=JSON.stringify(l);this.storage.setItem(this.bufferKey,f)}return a},e.prototype.getBufferSize=function(){return this.getPrimaryBuffer().primaryBuffer.length},e.prototype.getPrimaryBuffer=function(){var e,t,n=(null!==(e=this.storage.getItem(this.bufferKey))&&void 0!==e?e:"").length;return{primaryBuffer:JSON.parse(null!==(t=this.storage.getItem(this.bufferKey))&&void 0!==t?t:"[]"),primaryBufferSizeInBytes:n}},e.prototype.appendBuffer=function(e){var t=this,n=this.getPrimaryBuffer(),r=n.primaryBuffer,o=n.primaryBufferSizeInBytes;e.forEach((function(e){var n=JSON.stringify(e),a=o+n.length;a>t.maxLocalStorageBufferSize?i.logger.trace("RetryMessageBuffer -- capped out on failed messages, no longer adding"):(r.push(e),o=a)}));var a=JSON.stringify(r);i.logger.trace("RetryMessageBuffer -- Saving primary buffer",a);try{this.storage.setItem(this.bufferKey,a)}catch(e){i.logger.trace("RetryMessageBuffer -- Failed to save to primary buffer",{e:e})}},e}();t.default=l},6271:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_MESSAGE_AGE_IN_SECONDS=void 0,t.MAX_MESSAGE_AGE_IN_SECONDS=604800},5615:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeAUP=t.encodeIdentify=t.encodeEvents=t.chunkEvents=void 0;var r=n(5944),o=n(6404),i=n(7009);t.chunkEvents=function(e,t){return e.reduce((function(e,n,r){var o=Math.floor(r/t);return e[o]||(e[o]=[]),e[o].push(n),e}),[])};t.encodeEvents=function(e){var t=e.map((function(e){return new o.Message(e.payload)}));return new o.MessageBatch({events:t}).toBinary()};t.encodeIdentify=function(e){var t=e.payload;return new i.UserIdentification(t).toBinary()};t.encodeAUP=function(e){var t=e.payload;return new r.UserProperties(t).toBinary()}},311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initNetwork=t.Network=void 0;var r=n(6420);t.Network=r.default;var o=n(4397),i=n(1295),a=n(5023);t.initNetwork=function(){i.logger.trace("initNetwork");var e,t=a.ConfigStore.getInstance().getIngestServer(),n=new o.default((e=t).startsWith("http://")||e.startsWith("https://")?e:"https://".concat(e));return new r.default({client:n})}},1297:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.schematizeMessage=t.EventKindEnum=t.MessageType=void 0;var i,a,s=n(8707),u=n(5944),c=n(7009),l=n(6404),f=n(7940),p=n(4924),d=n(6533),m=n(1295);!function(e){e[e.Track=0]="Track",e[e.Identify=1]="Identify",e[e.AUP=2]="AUP"}(i=t.MessageType||(t.MessageType={})),function(e){e[e.Event=0]="Event",e[e.Meta=1]="Meta"}(a=t.EventKindEnum||(t.EventKindEnum={}));t.schematizeMessage=function(e){try{switch(e.type){case d.CoreEventEnum.CORE_TRACK:return A(e);case d.MetadataEventEnum.METADATA_SESSION:case d.MetadataEventEnum.METADATA_PAGEVIEW:return b(e);case d.MetadataEventEnum.METADATA_USER:case d.CoreEventEnum.CORE_ADD_USER_PROPERTIES:return S(e);case d.CoreEventEnum.CORE_IDENTIFY_v3:return I(e);default:return m.logger.error("Found invalid message type"),null}}catch(t){return m.logger.error("Failed to verify message",e),null}};var g=function(e){if(void 0!==e){var t=Math.floor(e/1e3),n=1e6*(e-1e3*t);return new s.Timestamp({seconds:s.protoInt64.parse(t),nanos:n})}},v=function(e){if(null!=e)return Object.entries(e).reduce((function(e,t){var n=o(t,2),r=n[0],i=n[1];return e[r]=new f.Value({string:null==i?void 0:i.toString()}),e}),{})},y=function(e){return new f.LibraryInfo({name:null==e?void 0:e.name,version:null==e?void 0:e.version,platform:null==e?void 0:e.platform,properties:v(null==e?void 0:e.properties)})},h=function(e){var t,n,r;return new f.DeviceInfo({userAgent:null==e?void 0:e.user_agent,uach:new f.UserAgentClientHintsInfo({browserVersion:null===(t=null==e?void 0:e.uach)||void 0===t?void 0:t.browser_version,platformVersion:null===(n=null==e?void 0:e.uach)||void 0===n?void 0:n.platform_version,model:null===(r=null==e?void 0:e.uach)||void 0===r?void 0:r.model})})},_=function(e){return new f.PageviewInfo(r(r({},e),{id:null==e?void 0:e.id,url:(t=null==e?void 0:e.url,t?new f.PageviewInfo_Url(t):void 0),previousPage:null==e?void 0:e.previous_page,time:g(null==e?void 0:e.time),properties:v(null==e?void 0:e.properties),sourceProperties:v(null==e?void 0:e.source_properties)}));var t},T=function(e){return new f.SessionInfo(r(r({},e),{utm:new f.Utm(r({},null==e?void 0:e.utm)),time:g(null==e?void 0:e.time),initialPageviewInfo:_(null==e?void 0:e.initial_pageview_info)}))},E=function(e){return new l.CSProperties({csPid:null==e?void 0:e.cs_pid,csPvid:null==e?void 0:e.cs_pvid,csSn:null==e?void 0:e.cs_sn,csTs:null==e?void 0:e.cs_ts,csUu:null==e?void 0:e.cs_uu})},S=function(e){var t=e.type,n=e.data;return{payload:new u.UserProperties(r({envId:n.env_id,userId:n.user_id,initialDevice:h(n.device)},t===d.MetadataEventEnum.METADATA_USER?{library:y(n.base_library),initialApplication:new f.ApplicationInfo(n.application),initialSessionInfo:T(n.user.initial_session_info),sessionReplay:n.session_replay}:{library:y(n.library),properties:v(n.properties)})),type:i.AUP,timestamp:+new Date}},I=function(e){var t=e.data;return{payload:new c.UserIdentification({envId:t.env_id,userId:t.user_id,identity:t.identity,library:y(t.library),time:g(t.time)}),type:i.Identify,timestamp:+new Date}},b=function(e){var t=e.data,n={id:t.id,envId:p.MetadataStore.getInstance().getEnvironmentId(),userId:t.user_id,identity:t.identity,time:g(t.time),baseLibrary:y(t.base_library),sessionInfo:T(t.session_info),application:new f.ApplicationInfo(r({},t.application)),device:h(t.device),sessionReplay:t.session_replay,csProperties:E(t.cs_properties)};switch(e.type){case d.MetadataEventEnum.METADATA_PAGEVIEW:n.pageviewInfo=_(t.pageview_info),n.kind={case:"pageview",value:new s.Empty},n.properties=v(t.properties);break;case d.MetadataEventEnum.METADATA_SESSION:n.kind={case:"session",value:new s.Empty}}return{payload:new l.Message(n),type:i.Track,kind:a.Meta,timestamp:+new Date}},w={BUILTIN_KIND_UNSPECIFIED:l.Interaction_BuiltinKind.UNSPECIFIED,BUILTIN_KIND_CLICK:l.Interaction_BuiltinKind.CLICK,BUILTIN_KIND_TOUCH:l.Interaction_BuiltinKind.TOUCH,BUILTIN_KIND_CHANGE:l.Interaction_BuiltinKind.CHANGE,BUILTIN_KIND_SUBMIT:l.Interaction_BuiltinKind.SUBMIT},P=function(e){return"interaction"in e?function(e){return new l.Event({kind:{case:"interaction",value:new l.Interaction({kind:{case:"builtin",value:w[e.interaction.kind]},hierarchy:e.interaction.hierarchy,nodes:(t=e.interaction.nodes,t.map((function(e){var t=function(e){return e.reduce((function(e,t){var n=t.name,r=t.value;return e[n]=r,e}),{})}(e.attributes);return{nodeName:e.tagName||"",nodeHtmlClass:e.classes?e.classes.join(" "):"",nodeId:e.id||"",nodeText:e.targetText||"",href:e.href||"",attributes:v(t)}}))),sourceProperties:v(e.interaction.source_properties)})}});var t}(e):function(e){return new l.Event({kind:{case:"custom",value:new l.Event_Custom({name:e.custom.name,properties:v(e.custom.properties),sourceProperties:v(e.custom.source_properties)})}})}(e)},A=function(e){var t=e.data;return{payload:new l.Message(r(r(r(r({id:t.id,envId:p.MetadataStore.getInstance().getEnvironmentId(),userId:t.user_id,identity:t.identity,time:g(t.time),baseLibrary:y(t.base_library)},t.source_library&&{sourceLibrary:y(t.source_library)}),{application:r({},t.application),device:h(t.device),sessionInfo:T(t.session_info),pageviewInfo:_(t.pageview_info),sessionReplayInfo:t.session_replay_info,sessionReplay:t.session_replay,properties:v(t.properties)}),t.event&&{kind:{case:"event",value:P(t.event)}}),{csProperties:E(t.cs_properties)})),type:i.Track,kind:a.Event,timestamp:+new Date}}},7873:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMessageStale=void 0;t.isMessageStale=function(e,t){return e<+new Date-1e3*t}},3392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUrl=t.validateAndTransformPageviewProperties=void 0;var r=n(8141),o=n(1295),i=n(3432),a=n(7229),s=n(9327);t.validateAndTransformPageviewProperties=function(e){if(e){var n,i,u,c,l;e.url&&(0,r.isString)(e.url)&&(n=(0,t.parseUrl)(e.url)),e.properties&&(i=(0,a.sanitizeProperties)(e.properties)),e.source_properties&&(u=(0,a.sanitizeProperties)(e.source_properties)),e.previous_page&&(0,r.isString)(e.previous_page)&&(c=e.previous_page),e.title&&(l=(0,a.truncate)(e.title,s.MAX_ATTRIBUTE_LENGTH));var f={title:l,url:n,source_properties:u,properties:i,previous_page:c},p=(0,a.removeUndefinedValues)(f);return o.logger.info("Validating pageview properties -- ",{before:e,after:p}),p}};t.parseUrl=function(e){try{var t=new URL(e);return{domain:t.hostname,path:t.pathname,query:(0,i.handleUrlRedaction)(t.search),hash:(0,i.handleUrlRedaction)(t.hash)}}catch(t){return void o.logger.warn("Error parsing URL ".concat(e,":"),t)}}},9496:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AdapterRegistry=t.MAX_BLOCK_DURATION=void 0;var o=n(1295),i=n(5023),a=n(3258),s=n(4785),u=n(1225),c=n(5614);t.MAX_BLOCK_DURATION=5e3;var l=function(){function e(){this.startProcessingTime=Number.MAX_SAFE_INTEGER,this.adapters=[],this.hasProcessingBeenCalled=!1,this.adapterResolvedState={}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.registerAdapter=function(e,n){var o;void 0===n&&(n={isBlocking:!1}),this.hasProcessingBeenCalled||this.adapters.find((function(t){return t.name===e.name}))||(this.adapters.push({name:e.name,adapterFn:e.fn,config:r(r({},n),{blockDurationInMs:n.blockDurationInMs&&n.blockDurationInMs<t.MAX_BLOCK_DURATION?n.blockDurationInMs:t.MAX_BLOCK_DURATION,rerunOnNewPageview:null!==(o=n.rerunOnNewPageview)&&void 0!==o&&o})}),this.adapterResolvedState[e.name]=!n.isBlocking)},e.prototype.markAdapterAsResolved=function(e){this.adapterResolvedState[e]?o.logger.trace("AdapterRegistry -- adapter has already been resolved, skipping: ".concat(e)):o.logger.trace("AdapterRegistry -- adapter has been resolved: ".concat(e)),this.adapterResolvedState[e]=!0,this.shouldBlockEventProcessing()||(a.MetadataMessageQueue.getInstance().flushTemporaryMetadataQueue(),c.publicAPIs.loaded&&!u.FunctionQueue.getInstance().onReadyQueueHasBeenFlushed&&u.FunctionQueue.getInstance().executeOnReadyQueue())},e.prototype._registerIntegrationAdapters=function(){var e=this,t=i.ConfigStore.getInstance(),n=t.getIntegrations(),r=t.isSessionReplayDisabled();n.forEach((function(t){var n=t.name,i=t.fn,a=t.config;r&&s.SESSION_REPLAY_ADAPTERS.includes(n)?o.logger.debug("AdapterRegistry -- Session replay is disabled, skipping adapter: ",{name:n}):e.registerAdapter({name:n,fn:i},a)}))},e.prototype._registerDefaultClientsideAdapters=function(){var e=this;s.DEFAULT_ADAPTERS.forEach((function(t){var n=t.adapter,r=t.config;e.registerAdapter(n,r)}))},e.prototype.initializeAdapters=function(e){var t=this;this.dependencies=r(r({},e),{markAdapterAsResolved:this.markAdapterAsResolved.bind(this)}),this.hasProcessingBeenCalled?o.logger.trace("AdapterRegistry - initializeAdapters has already been called, skipping"):(o.logger.trace("AdapterRegistry -- begin adapter initialization"),this._registerIntegrationAdapters(),this._registerDefaultClientsideAdapters(),this.hasProcessingBeenCalled=!0,this.startProcessingTime=Date.now(),this.adapters.forEach((function(e){var r=e.name,i=e.adapterFn,a=e.config;o.logger.trace("AdapterRegistry -- Processing adapter: ",{name:r,adapterFn:i,config:a}),i(t.dependencies),n.g.setTimeout((function(){t.markAdapterAsResolved(r)}),a.blockDurationInMs)})))},e.prototype.shouldBlockEventProcessing=function(){return!!this.adapters.length&&(!(this.startProcessingTime+t.MAX_BLOCK_DURATION<Date.now())&&(!this.hasProcessingBeenCalled||Object.values(this.adapterResolvedState).some((function(e){return!e}))))},e.prototype.getAdaptersToRerunOnNewPageview=function(){return this.adapters.filter((function(e){return e.config.rerunOnNewPageview}))},e}();t.AdapterRegistry=l},9874:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomTransformer=void 0;var s=n(2674),u=n(5003),c=n(1295),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.transformAsync=function(e){return i(this,void 0,void 0,(function(){var t,n,r;return a(this,(function(o){switch(o.label){case 0:t=JSON.parse(JSON.stringify(e)),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.transformFnAsync(t)];case 2:return n=o.sent(),c.logger.debug("CustomTransformer ".concat(this.name," -- transformed messages with async call"),{before:e,after:n}),[2,n];case 3:return r=o.sent(),c.logger.warn("CustomTransformer ".concat(this.name," -- failed to transform message asynchronously, defaulting to original messages"),{error:r}),[2,e];case 4:return[2]}}))}))},t.prototype.transform=function(e){var t=JSON.parse(JSON.stringify(e));try{var n=this.transformFn(t);return c.logger.debug("CustomTransformer ".concat(this.name," -- transformed messages"),{before:e,after:n}),n}catch(t){return c.logger.warn("CustomTransformer ".concat(this.name," -- failed to transform message, defaulting to original messages"),{error:t}),e}},t.prototype.getTarget=function(e){return(0,u.getTargetTransformer)(e,this.name)},t}(s.AbstractTransformer);t.CustomTransformer=l},145:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TransformerRegistry=void 0;var s=n(4915),u=n(1295),c=n(9874),l=function(){function e(){var e;this.pipelineToTransformers=((e={})[s.PipelineEnum.GENERAL]=[],e[s.PipelineEnum.ADD_USER_PROPERTIES]=[],e[s.PipelineEnum.IDENTITY]=[],e[s.PipelineEnum.METADATA]=[],e)}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.registerTransformer=function(e,t){var n=t||s.PipelineEnum.GENERAL;this.pipelineToTransformers[n].find((function(t){return t.name===e.name}))?u.logger.info("TransformerRegistry -- Transformer already registered",{transformer:e,pipeline:t}):this.pipelineToTransformers[n].push(e)},e.prototype.registerTransformerFn=function(e,t,n){var r=function(n){function r(){var t=n.call(this)||this;return t.name=e,t}return o(r,n),r.prototype.transformFnAsync=function(e){throw new Error("Transformer ".concat(this.name," -- only synchronous method should be called"))},r.prototype.transformFn=function(e){return t(e)},r}(c.CustomTransformer);this.registerTransformer(new r,n)},e.prototype.registerTransformerFnAsync=function(e,t,n){var r=function(n){function r(){var t=n.call(this)||this;return t.name=e,t.isAsync=!0,t}return o(r,n),r.prototype.transformFnAsync=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,t(e)];case 1:return[2,n.sent()]}}))}))},r.prototype.transformFn=function(e){throw new Error("Transformer ".concat(this.name," -- only async method should be called"))},r}(c.CustomTransformer);this.registerTransformer(new r,n)},e.prototype.removeTransformer=function(e,t){var n=t||s.PipelineEnum.GENERAL,r=this.pipelineToTransformers[n].filter((function(t){return t.name!==e||(u.logger.info("TransformerRegistry -- Transformer removed",{transformerName:e,targetPipeline:n}),!1)}));this.pipelineToTransformers[n]=r},e.prototype.resetTransformers=function(){var e;this.pipelineToTransformers=((e={})[s.PipelineEnum.GENERAL]=[],e[s.PipelineEnum.ADD_USER_PROPERTIES]=[],e[s.PipelineEnum.IDENTITY]=[],e[s.PipelineEnum.METADATA]=[],e)},e.prototype.getCustomTransformers=function(e){return this.pipelineToTransformers[e]},e}();t.TransformerRegistry=l},4785:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SESSION_REPLAY_ADAPTERS=t.DEFAULT_ADAPTERS=void 0;var r=n(6075),o=n(6836);t.DEFAULT_ADAPTERS=[{adapter:r.uachAdapter,config:r.uachAdapterConfig},{adapter:o.visualLabelerAdapter,config:o.visualLabelerAdapterConfig}],t.SESSION_REPLAY_ADAPTERS=["auryc","session_replay","cslite"]},1640:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserAgentClientHintsStore=void 0;var n=function(){function e(){}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setUserAgentClientHints=function(e){this.userAgentClientHints=e},e.prototype.getUserAgentClientHints=function(){return this.userAgentClientHints},e}();t.UserAgentClientHintsStore=n},6075:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.uachAdapter=t.uachAdapterConfig=void 0;var i=n(5614),a=n(1640),s=n(1295),u="uach_adapter";t.uachAdapterConfig={isBlocking:!0,blockDurationInMs:1e3},t.uachAdapter={name:u,fn:function(){var e;(null===(e=navigator.userAgentData)||void 0===e?void 0:e.getHighEntropyValues)||(s.logger.trace("UACH Adapter -- Browser does not contain UACH APIs, resolving adapter"),i.pluginAPIs.markAdapterAsResolved(u));try{r(void 0,void 0,void 0,(function(){var e,t,n,r,i,a,s,u;return o(this,(function(o){switch(o.label){case 0:return e=["fullVersionList","platformVersion","model"],[4,null===(s=navigator.userAgentData)||void 0===s?void 0:s.getHighEntropyValues(e)];case 1:return(t=o.sent())?(n=t.model,r=t.platformVersion,i="",a=/Chromium/.test(navigator.userAgent)?"Chromium":"Chrome",null===(u=t.fullVersionList)||void 0===u||u.forEach((function(e){var t;(null===(t=e.brand)||void 0===t?void 0:t.indexOf(a))>-1&&(i=e.version)})),[2,{model:n,platform_version:r,browser_version:i}]):[2]}}))})).then((function(e){s.logger.trace("UACH Adapter -- Setting UACH on store",{uach:e}),a.UserAgentClientHintsStore.getInstance().setUserAgentClientHints(e)})).finally((function(){i.pluginAPIs.markAdapterAsResolved(u)}))}catch(e){s.logger.error("UACH Adapter -- exception occurred while getting UACH data, resolving adapter",{error:e}),i.pluginAPIs.markAdapterAsResolved(u)}}}},7943:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VisualLabeler=void 0;var r=n(1146),o=n(4924),i=n(5614),a=n(8141),s=n(3504),u=n(9939),c=n(1739),l=function(){function e(){this._hasInitialized=!1,this._coreApis=s.CoreAPIDependencies.getInstance().coreAPIs,this._storage=new r.CookiesStorage,this._metadataStore=o.MetadataStore.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype._noopHeap=function(){var e;null===(e=this._coreApis)||void 0===e||e.logger.trace("Visual Labeler - No-oping window.heap"),window.heap=(0,u.mapValues)(window.heap,(function(e){return(0,a.isFunction)(e)?function(){}:e}))},e.prototype._loadVLScript=function(){var e,t=document.createElement("script");t.type="text/javascript",t.src=c.VL_JS_URL,document.head.appendChild(t),null===(e=this._coreApis)||void 0===e||e.logger.trace("Visual Labeler - VL Script has been loaded")},e.prototype._loadVLStyles=function(){var e;[c.VL_CSS_URL,c.VL_CSS_FOR_JS_URL].forEach((function(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)})),null===(e=this._coreApis)||void 0===e||e.logger.trace("Visual Labeler - VL Styles have been loaded")},e.prototype._setVLCookie=function(){var e,t,n;null===(t=this._coreApis)||void 0===t||t.logger.trace("Visual Labeler - Setting VL cookie"),this._storage.setItem(c.VL_COOKIE_NAME,"on",{expires:c.VL_COOKIE_EXPIRATION_IN_MS}),null===(n=this._coreApis)||void 0===n||n.logger.trace("VisualLabeler - Cookie has been set",((e={})[c.VL_COOKIE_NAME]=this._storage.getItem(c.VL_COOKIE_NAME),e))},e.prototype._overrideEnvironmentId=function(){var e,t=this._metadataStore.getEnvironmentId();this._metadataStore.setEnvironmentId(c.HEAP_VL_ENV_ID),i.publicAPIs.appid=this._metadataStore.getEnvironmentId(),null===(e=this._coreApis)||void 0===e||e.logger.trace("Visual Labeler - Overriding App ID",{before:{appId:t},after:{appId:i.publicAPIs.appid}})},e.prototype._initializeHeapV=function(e){var t;null===(t=this._coreApis)||void 0===t||t.logger.trace("Visual Labeler - Initializing window.heapV for use in the VL"),window.heapV=Object.assign({},window.heap,{source:null==e?void 0:e.source,uri:c.HEAP_WEB_APP_URI,loadArgs:null==e?void 0:e.data.args})},e.prototype.initialize=function(e){var t,n,r,o,i;this._hasInitialized?null===(t=this._coreApis)||void 0===t||t.logger.trace("Visual Labeler - VL has already been initialized. Exiting"):(null===(n=this._coreApis)||void 0===n||n.logger.trace("Visual Labeler - Intializing"),this._hasInitialized=!0,this._setVLCookie(),this._overrideEnvironmentId(),null===(r=this._coreApis)||void 0===r||r.logger.trace("Visual Labeler - Flushing event queue"),null===(o=this._coreApis)||void 0===o||o.flushEventQueue(),this._initializeHeapV(e),window.heapV?(this._loadVLScript(),this._loadVLStyles(),this._noopHeap()):null===(i=this._coreApis)||void 0===i||i.logger.trace("Visual Labeler - heapV not initialized. Exiting"))},e}();t.VisualLabeler=l},1739:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VisualLabelerStatus=t.PostMessageType=t.VL_CSS_FOR_JS_URL=t.VL_CSS_URL=t.VL_JS_URL=t.HEAP_WEB_APP_URI=t.VL_COOKIE_EXPIRATION_IN_MS=t.VL_COOKIE_NAME=t.HEAP_VL_ENV_ID=void 0,t.HEAP_VL_ENV_ID="3407116132",t.VL_COOKIE_NAME="_hp_ved",t.VL_COOKIE_EXPIRATION_IN_MS=18e5,t.HEAP_WEB_APP_URI="https://heapanalytics.com",t.VL_JS_URL="https://heapanalytics.com/js/ved.js",t.VL_CSS_URL="https://heapanalytics.com/css/ved.css",t.VL_CSS_FOR_JS_URL="https://heapanalytics.com/js/ved.css",function(e){e.Telemetry="telemetry",e.StatusUpdate="status"}(t.PostMessageType||(t.PostMessageType={})),function(e){e.ReceivedInitMessage="received_init_message",e.PreFetchMetadata="pre_fetch_metadata",e.PostFetchMetadata="post_fetch_metadata"}(t.VisualLabelerStatus||(t.VisualLabelerStatus={}))},617:function(e,t,n){"use strict";var r=n(2952);Object.defineProperty(t,"__esModule",{value:!0}),t.onMessageHandler=void 0;var o=n(1739),i=n(3504),a=n(7943);function s(e){var t,n=null===(t=i.CoreAPIDependencies.getInstance().coreAPIs)||void 0===t?void 0:t.logger;e.origin===o.HEAP_WEB_APP_URI&&("object"===r(e.data)?"init"===e.data.message?e.source?(null==n||n.trace("Visual Labeler - Init message received"),u(e.source),a.VisualLabeler.getInstance().initialize(e)):null==n||n.trace("Visual Labeler - Post message `source` not provided. Exiting",{event:e}):null==n||n.trace('Visual Labeler - Disregarding non "init" post message',{event:e}):null==n||n.trace("Visual Labeler - Post message `data` is not an object. Exiting",{event:e}))}var u=function(e){e.postMessage({type:o.PostMessageType.StatusUpdate,value:o.VisualLabelerStatus.ReceivedInitMessage},{targetOrigin:"*"})};t.onMessageHandler=function(){var e,t=null===(e=i.CoreAPIDependencies.getInstance().coreAPIs)||void 0===e?void 0:e.logger;null==t||t.trace("Visual Labeler - Listening for postmessage"),window.addEventListener("message",s)}},9939:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.mapValues=void 0;t.mapValues=function(e,t){var r=n({},e);for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t(e[o]));return r}},6836:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visualLabelerAdapter=t.visualLabelerAdapterConfig=void 0;var r=n(3504),o=n(617),i=n(1146),a=n(7943),s=n(1739);t.visualLabelerAdapterConfig={isBlocking:!1},t.visualLabelerAdapter={name:"visualLabeler",fn:function(e){var t;r.CoreAPIDependencies.getInstance().setAPIDependencies(e),(0,o.onMessageHandler)(),t=new i.CookiesStorage,window.top===window.self&&t.getItem(s.VL_COOKIE_NAME)&&a.VisualLabeler.getInstance().initialize()}}},4544:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTransformerValid=t.isAdapterValid=void 0;var r=n(8141);t.isAdapterValid=function(e){return!!e&&!(!(0,r.isString)(e.name)||!(0,r.isFunction)(e.fn))};t.isTransformerValid=function(e){return!!e&&!!((0,r.isString)(e.name)&&(0,r.isFunction)(e.getTarget)&&(0,r.isFunction)(e.transform)&&(0,r.isFunction)(e.transformFn))}},9500:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertWildcardSelectorToWildcardText=t.buildAttribute=void 0;var n=/([\^$*]=)/,r=/^\[(\S+)=(.*)\]$/,o=/^\[([^=*]*)\]$/;t.buildAttribute=function(e,t){return 0===e.length?null:0===t.length?"[".concat(e,"=*]"):"[".concat(e,"=").concat(t,"]")};t.convertWildcardSelectorToWildcardText=function(e){var i,a,s,u;try{var c=void 0;if(u=e,o.test(u))return(c=o.exec(e))&&null!==(i=(0,t.buildAttribute)(c[1],"*"))&&void 0!==i?i:e;if(function(e){return n.test(e)}(e))return null!==(a=function(e){var r=n.exec(e);if(!r)return e;var o=r[0],i=new RegExp("\\[(\\S+)\\"+o+"(.*)\\]").exec(e);if(!i)return e;var a=i[1],s=i[2];switch(o){case"^=":return(0,t.buildAttribute)(a,"".concat(s,"*"));case"$=":return(0,t.buildAttribute)(a,"*".concat(s));case"*=":return(0,t.buildAttribute)(a,"*".concat(s,"*"));default:return e}}(e))&&void 0!==a?a:e;if(function(e){return r.test(e)}(e))return(c=r.exec(e))&&null!==(s=(0,t.buildAttribute)(c[1],c[2]))&&void 0!==s?s:e}catch(t){return e}return e}},196:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getSnapshotProperties=t.trimmedIfString=t.getSnapshotDefinitions=t.getSnapshotConfig=void 0;var i=n(7229),a=n(1295),s=n(5023),u=n(5602),c=n(1810),l=n(8141),f=n(9327),p=n(2860),d=n(3018);t.getSnapshotConfig=function(){return s.ConfigStore.getInstance().getConfig().snapshots};var m=new Map;t.getSnapshotDefinitions=function(e,n){var i,s=null===(i=(0,t.getSnapshotConfig)())||void 0===i?void 0:i[e];if(s){var u,l,f=(u=function(e,t){var n=[];for(var r in s)if("pageview"===e)g(r,t)&&n.push(s[r]);else{var o=(0,p.removeIndexFromSelector)(r);c.HierarchyUtil.getInstance().hierarchyMatchesSelector(o,t)>0&&n.push(s[r])}return n},l=function(e,t){return e+"."+t},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l?l.apply(void 0,o([],r(e),!1)):e[0];if(m.has(n))return m.get(n);var i=u.apply(void 0,o([],r(e),!1));return m.set(n,i),i})(e,n);return a.logger.trace("Snapshots - ".concat(e," definitions for ").concat(n),{snapshotConfig:s,eventType:e,capturedElement:n,snapshots:f}),f}a.logger.trace("Snapshots - no config found for ".concat(e," snapshots"))};var g=function(e,t){var n;if(""!==e){try{n=encodeURIComponent(t)}catch(e){return a.logger.warn("Snapshots - error encoding pageview path",e),!1}var r=new RegExp("^"+e.replace(/\*/g,".*")+"$");return r.test(t)||r.test(n)}return!1};t.trimmedIfString=function(e){return(0,l.isString)(e)?(0,i.truncate)(e.trim(),f.MAX_ATTRIBUTE_LENGTH):e};t.getSnapshotProperties=function(e,n){if(e){n=n||window.event;var r={f:function(e){var r=(0,p.nearestElementMatching)(e,n);if(!r)return"N/A";var o=(0,d.getInputElementValue)(r);return(0,t.trimmedIfString)(o)},t:function(e){var r=(0,p.textInNearestElementMatching)(e,n);return(0,t.trimmedIfString)(r)},s:function(e){var n=(0,p.querySelectorAllIncludingShadow)(e);if(n){var r=(0,p.elementValue)(n[0]);return(0,t.trimmedIfString)(r)}},j:function(e){try{var n=e();return(0,t.trimmedIfString)(n)}catch(e){return void a.logger.warn("Snapshots - error running javascript snapshot",e)}}},o=Object.values(u.SnapshotRuleKey).map((function(t){var n=r[t];if(n){var o=e.map((function(e){return e[t]})).map((function(e){var t={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))try{var o=e[r],i=n(o);void 0!==i&&(t[r]=i)}catch(e){a.logger.warn("Snapshots - Error extracting ".concat(r),{e:e})}return t})).filter((function(e){return 0!==Object.keys(e).length}));return o}})).flat(),s=o.reduce((function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}),{}),c=s?(0,i.sanitizeProperties)(s):{};return a.logger.trace("Snapshots - properties",{snapshotProperties:c}),c}}},1810:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.HierarchyUtil=void 0;var i=n(9500),a=/^([^#.[].*?)?(#.+?)?((?:\..+?)*)((?:\[.*?\])*)$/,s=/\s+(?=(?:(?:[^[\]]*[[\]]){2})*[^[\]]*$)/,u=/,+(?=(?:(?:[^[\]]*[[\]]){2})*[^[\]]*$)/,c=/.*@.*;.*/,l=function(){function e(){this._parsedHierarchyParts={},this._parsedSelectorParts={}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.max=function(e){return e.length?Math.max.apply(Math,o([],r(e),!1)):0},e.prototype.size=function(e){return e.constructor===Object?Object.keys(e).length:e.length},e.prototype._isSubsetOfSuperset=function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;for(var n=0;n<e.length;n++)if(!this.wildcardMatchesAny(e[n],t))return!1;return!0},e.prototype._cssScore=function(e){var t=0;return e.tag&&(t+=1),e.id&&(t+=1),t+=e.classes.length+e.attrs.length},e.prototype.parseCss=function(e){return e.indexOf("[")<0?e.trim().split(/\s+/g):e.split(s).map((function(e){return e.trim()})).filter(Boolean)},e.prototype.cssToObj=function(e){var t=e.match(a)||[],n=r(t.slice(1),4),o=n[0],s=n[1],u=n[2],c=n[3];return{tag:o,id:s,classes:(u||"").split(".").filter(Boolean).sort(),attrs:(c||"").split("[").filter(Boolean).sort().map((function(e){return"["+e.replace(/"/g,"")})).map(i.convertWildcardSelectorToWildcardText)}},e.prototype.wildcardCanShortcut=function(e,t){return!e||!t||-1===e.indexOf("*")},e.prototype.convertWildcardStringToRegex=function(e){return new RegExp("^"+e.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/\*/g,".*")+"$")},e.prototype.wildcardMatchesAny=function(e,t){if(t&&!Array.isArray(t))return this.wildcardMatch(e,t);for(var n=0;n<t.length;n++)if(this.wildcardMatch(e,t[n]))return!0;return!1},e.prototype.wildcardMatch=function(e,t){if(this.wildcardCanShortcut(e,t))return e===t;var n=this.convertWildcardStringToRegex(e);return null!==t.match(n)},e.prototype._singleHierarchyMatchesSelector=function(e,t){if("*"===(e=e.replace("**","*").trim()))try{return c.exec(t)?1:0}catch(e){return 0}if(!t)return 0;var n=this._parsedSelectorParts[e];if(!n){var r=(n=this._parsedSelectorParts[e]=this.parseCss(e).map(this.cssToObj)).map(this._cssScore);n._score=r.reduce((function(e,t){return e+=t}),0),this.size(this._parsedSelectorParts)>1e4&&(this._parsedSelectorParts={})}var o=this._parsedHierarchyParts[t];o||(o=this._parsedHierarchyParts[t]=t.split("|").map((function(e){return e.split(";").join("").slice(1)})).map(this.cssToObj),this.size(this._parsedHierarchyParts)>1e4&&(this._parsedHierarchyParts={}));for(var i=0,a=o.length,s=n.length,u=0;u<a;u++){var l=o[u];if(i===s)break;var f=n[i],p=!f.tag||this.wildcardMatch(f.tag,l.tag),d=!f.id||this.wildcardMatch(f.id,l.id),m=!f.classes.length||this._isSubsetOfSuperset(f.classes,l.classes),g=!f.attrs.length||this._isSubsetOfSuperset(f.attrs,l.attrs);p&&d&&m&&g&&i++}return i===n.length&&n._score||0},e.prototype.splitComboSelector=function(e){return e.split(u)},e.prototype.hierarchyMatchesSelector=function(e,t){var n=this;return e.indexOf(",")<0?this._singleHierarchyMatchesSelector(e,t):this.max(this.splitComboSelector(e).map((function(e){return n._singleHierarchyMatchesSelector(e,t)})))},e}();t.HierarchyUtil=l},7940:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Utm=t.PageviewInfo_Url=t.PageviewInfo=t.SessionInfo=t.DeviceInfo_DeviceType=t.DeviceInfo=t.UserAgentClientHintsInfo=t.ApplicationInfo=t.LibraryInfo=t.Value=void 0;var i=n(8707),a=function(e){function t(t){var n=e.call(this)||this;return n.string="",i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.Value",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"string",kind:"scalar",T:9}]})),t}(i.Message);t.Value=a;var s=function(e){function t(t){var n=e.call(this)||this;return n.name="",n.version="",n.platform="",n.properties={},i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.LibraryInfo",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"platform",kind:"scalar",T:9},{no:4,name:"properties",kind:"map",K:9,V:{kind:"message",T:a}}]})),t}(i.Message);t.LibraryInfo=s;var u=function(e){function t(t){var n=e.call(this)||this;return i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.ApplicationInfo",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"identifier",kind:"scalar",T:9,opt:!0},{no:3,name:"version_string",kind:"scalar",T:9,opt:!0}]})),t}(i.Message);t.ApplicationInfo=u;var c=function(e){function t(t){var n=e.call(this)||this;return n.platformVersion="",n.browserVersion="",i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.UserAgentClientHintsInfo",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"platform_version",kind:"scalar",T:9},{no:2,name:"browser_version",kind:"scalar",T:9},{no:3,name:"model",kind:"scalar",T:9,opt:!0}]})),t}(i.Message);t.UserAgentClientHintsInfo=c;var l,f=function(e){function t(t){var n=e.call(this)||this;return n.model="",n.platform="",n.type=l.UNKNOWN_UNSPECIFIED,i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.DeviceInfo",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"model",kind:"scalar",T:9},{no:2,name:"platform",kind:"scalar",T:9},{no:3,name:"user_agent",kind:"scalar",T:9,opt:!0},{no:4,name:"type",kind:"enum",T:i.proto3.getEnumType(l)},{no:5,name:"carrier",kind:"scalar",T:9,opt:!0},{no:6,name:"vendor_id",kind:"scalar",T:9,opt:!0},{no:7,name:"advertiser_id",kind:"scalar",T:9,opt:!0},{no:13,name:"uach",kind:"message",T:c,opt:!0}]})),t}(i.Message);t.DeviceInfo=f,function(e){e[e.UNKNOWN_UNSPECIFIED=0]="UNKNOWN_UNSPECIFIED",e[e.MOBILE=1]="MOBILE",e[e.TABLET=2]="TABLET",e[e.DESKTOP=3]="DESKTOP",e[e.TV=4]="TV",e[e.WATCH=5]="WATCH",e[e.AUTOMOTIVE=6]="AUTOMOTIVE"}(l=t.DeviceInfo_DeviceType||(t.DeviceInfo_DeviceType={})),i.proto3.util.setEnumType(l,"core_sdk.v1.DeviceInfo.DeviceType",[{no:0,name:"DEVICE_TYPE_UNKNOWN_UNSPECIFIED"},{no:1,name:"DEVICE_TYPE_MOBILE"},{no:2,name:"DEVICE_TYPE_TABLET"},{no:3,name:"DEVICE_TYPE_DESKTOP"},{no:4,name:"DEVICE_TYPE_TV"},{no:5,name:"DEVICE_TYPE_WATCH"},{no:6,name:"DEVICE_TYPE_AUTOMOTIVE"}]);var p=function(e){function t(t){var n=e.call(this)||this;return n.id="",i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.SessionInfo",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"time",kind:"message",T:i.Timestamp},{no:3,name:"referrer",kind:"scalar",T:9,opt:!0},{no:4,name:"search_keyword",kind:"scalar",T:9,opt:!0},{no:5,name:"utm",kind:"message",T:g,opt:!0},{no:6,name:"initial_pageview_info",kind:"message",T:d,opt:!0}]})),t}(i.Message);t.SessionInfo=p;var d=function(e){function t(t){var n=e.call(this)||this;return n.id="",n.sourceProperties={},n.properties={},i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.PageviewInfo",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"time",kind:"message",T:i.Timestamp},{no:3,name:"component_or_class_name",kind:"scalar",T:9,opt:!0},{no:4,name:"title",kind:"scalar",T:9,opt:!0},{no:5,name:"url",kind:"message",T:m,opt:!0},{no:6,name:"source_properties",kind:"map",K:9,V:{kind:"message",T:a}},{no:7,name:"previous_page",kind:"scalar",T:9,opt:!0},{no:8,name:"properties",kind:"map",K:9,V:{kind:"message",T:a}}]})),t}(i.Message);t.PageviewInfo=d;var m=function(e){function t(t){var n=e.call(this)||this;return n.domain="",n.path="",n.query="",n.hash="",i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.PageviewInfo.Url",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"domain",kind:"scalar",T:9},{no:2,name:"path",kind:"scalar",T:9},{no:3,name:"query",kind:"scalar",T:9},{no:4,name:"hash",kind:"scalar",T:9}]})),t}(i.Message);t.PageviewInfo_Url=m;var g=function(e){function t(t){var n=e.call(this)||this;return n.source="",n.medium="",n.term="",n.content="",n.campaign="",i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.Utm",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"source",kind:"scalar",T:9},{no:2,name:"medium",kind:"scalar",T:9},{no:3,name:"term",kind:"scalar",T:9},{no:4,name:"content",kind:"scalar",T:9},{no:5,name:"campaign",kind:"scalar",T:9}]})),t}(i.Message);t.Utm=g},7009:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.UserIdentification=void 0;var i=n(8707),a=n(7940),s=function(e){function t(t){var n=e.call(this)||this;return n.envId="",n.userId="",n.identity="",i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.UserIdentification",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"env_id",kind:"scalar",T:9},{no:2,name:"user_id",kind:"scalar",T:9},{no:3,name:"identity",kind:"scalar",T:9},{no:4,name:"time",kind:"message",T:i.Timestamp},{no:5,name:"library",kind:"message",T:a.LibraryInfo}]})),t}(i.Message);t.UserIdentification=s},6404:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.PostMobileTrackResponse=t.PostMobileTrackRequest=t.MessageBatch=t.Message=t.Event_Custom=t.Event_AppVisibility=t.Event=t.ComponentTransition=t.VersionChange=t.Interaction_BuiltinKind=t.Interaction=t.ElementNode=t.User=t.SessionReplayInfo_SessionReplayPlatform=t.SessionReplayInfo=t.CSProperties=void 0;var i=n(8707),a=n(7940),s=function(e){function t(t){var n=e.call(this)||this;return n.csPid="",n.csPvid="",n.csSn="",n.csTs="",n.csUu="",i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.CSProperties",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"cs_pid",kind:"scalar",T:9},{no:2,name:"cs_pvid",kind:"scalar",T:9},{no:3,name:"cs_sn",kind:"scalar",T:9},{no:4,name:"cs_ts",kind:"scalar",T:9},{no:5,name:"cs_uu",kind:"scalar",T:9}]})),t}(i.Message);t.CSProperties=s;var u,c=function(e){function t(t){var n=e.call(this)||this;return n.platform=u.UNSPECIFIED,n.urlMetadata={},i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.SessionReplayInfo",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"platform",kind:"enum",T:i.proto3.getEnumType(u)},{no:2,name:"time",kind:"message",T:i.Timestamp},{no:3,name:"url_metadata",kind:"map",K:9,V:{kind:"message",T:a.Value}}]})),t}(i.Message);t.SessionReplayInfo=c,function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.AURYC=1]="AURYC",e[e.LOGROCKET=2]="LOGROCKET"}(u=t.SessionReplayInfo_SessionReplayPlatform||(t.SessionReplayInfo_SessionReplayPlatform={})),i.proto3.util.setEnumType(u,"core_sdk.v1.SessionReplayInfo.SessionReplayPlatform",[{no:0,name:"SESSION_REPLAY_PLATFORM_UNSPECIFIED"},{no:1,name:"SESSION_REPLAY_PLATFORM_AURYC"},{no:2,name:"SESSION_REPLAY_PLATFORM_LOGROCKET"}]);var l=function(e){function t(t){var n=e.call(this)||this;return n.id="",n.identity="",n.properties={},i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.User",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"initial_referrer",kind:"scalar",T:9,opt:!0},{no:4,name:"initial_search_keyword",kind:"scalar",T:9,opt:!0},{no:5,name:"initial_utm",kind:"message",T:a.Utm,opt:!0},{no:6,name:"initial_pageview_info",kind:"message",T:a.PageviewInfo},{no:7,name:"properties",kind:"map",K:9,V:{kind:"message",T:a.Value}}]})),t}(i.Message);t.User=l;var f=function(e){function t(t){var n=e.call(this)||this;return n.attributes={},i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.ElementNode",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"node_name",kind:"scalar",T:9,opt:!0},{no:2,name:"node_html_class",kind:"scalar",T:9,opt:!0},{no:3,name:"node_id",kind:"scalar",T:9,opt:!0},{no:4,name:"node_text",kind:"scalar",T:9,opt:!0},{no:5,name:"href",kind:"scalar",T:9,opt:!0},{no:6,name:"accessibility_label",kind:"scalar",T:9,opt:!0},{no:7,name:"referencing_property_name",kind:"scalar",T:9,opt:!0},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:a.Value}}]})),t}(i.Message);t.ElementNode=f;var p,d=function(e){function t(t){var n=e.call(this)||this;return n.kind={case:void 0},n.nodes=[],n.sourceProperties={},i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.Interaction",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"callback_name",kind:"scalar",T:9,opt:!0},{no:2,name:"custom",kind:"scalar",T:9,oneof:"kind"},{no:3,name:"builtin",kind:"enum",T:i.proto3.getEnumType(p),oneof:"kind"},{no:4,name:"hierarchy",kind:"scalar",T:9,opt:!0},{no:5,name:"nodes",kind:"message",T:f,repeated:!0},{no:6,name:"source_properties",kind:"map",K:9,V:{kind:"message",T:a.Value}}]})),t}(i.Message);t.Interaction=d,function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.CLICK=1]="CLICK",e[e.TOUCH=2]="TOUCH",e[e.CHANGE=3]="CHANGE",e[e.SUBMIT=4]="SUBMIT"}(p=t.Interaction_BuiltinKind||(t.Interaction_BuiltinKind={})),i.proto3.util.setEnumType(p,"core_sdk.v1.Interaction.BuiltinKind",[{no:0,name:"BUILTIN_KIND_UNSPECIFIED"},{no:1,name:"BUILTIN_KIND_CLICK"},{no:2,name:"BUILTIN_KIND_TOUCH"},{no:3,name:"BUILTIN_KIND_CHANGE"},{no:4,name:"BUILTIN_KIND_SUBMIT"}]);var m=function(e){function t(t){var n=e.call(this)||this;return i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.VersionChange",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"previous_version",kind:"message",T:a.ApplicationInfo,opt:!0},{no:2,name:"current_version",kind:"message",T:a.ApplicationInfo}]})),t}(i.Message);t.VersionChange=m;var g=function(e){function t(t){var n=e.call(this)||this;return n.invisibleToVisible=[],n.visibleToInvisible=[],i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.ComponentTransition",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"invisible_to_visible",kind:"message",T:f,repeated:!0},{no:2,name:"visible_to_invisible",kind:"message",T:f,repeated:!0}]})),t}(i.Message);t.ComponentTransition=g;var v,y=function(e){function t(t){var n=e.call(this)||this;return n.kind={case:void 0},i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.Event",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"custom",kind:"message",T:h,oneof:"kind"},{no:2,name:"interaction",kind:"message",T:d,oneof:"kind"},{no:3,name:"version_change",kind:"message",T:m,oneof:"kind"},{no:4,name:"component_transition",kind:"message",T:g,oneof:"kind"},{no:20,name:"app_visibility_state",kind:"enum",T:i.proto3.getEnumType(v),opt:!0}]})),t}(i.Message);t.Event=y,function(e){e[e.UNKNOWN_UNSPECIFIED=0]="UNKNOWN_UNSPECIFIED",e[e.BACKGROUNDED=1]="BACKGROUNDED",e[e.FOREGROUNDED=2]="FOREGROUNDED"}(v=t.Event_AppVisibility||(t.Event_AppVisibility={})),i.proto3.util.setEnumType(v,"core_sdk.v1.Event.AppVisibility",[{no:0,name:"APP_VISIBILITY_UNKNOWN_UNSPECIFIED"},{no:1,name:"APP_VISIBILITY_BACKGROUNDED"},{no:2,name:"APP_VISIBILITY_FOREGROUNDED"}]);var h=function(e){function t(t){var n=e.call(this)||this;return n.name="",n.properties={},n.sourceProperties={},i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.Event.Custom",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"properties",kind:"map",K:9,V:{kind:"message",T:a.Value}},{no:3,name:"source_properties",kind:"map",K:9,V:{kind:"message",T:a.Value}}]})),t}(i.Message);t.Event_Custom=h;var _=function(e){function t(t){var n=e.call(this)||this;return n.id="",n.envId="",n.userId="",n.identity="",n.properties={},n.kind={case:void 0},n.activeContexts=[],i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.Message",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"env_id",kind:"scalar",T:9},{no:3,name:"user_id",kind:"scalar",T:9},{no:19,name:"identity",kind:"scalar",T:9},{no:4,name:"time",kind:"message",T:i.Timestamp},{no:5,name:"base_library",kind:"message",T:a.LibraryInfo},{no:6,name:"source_library",kind:"message",T:a.LibraryInfo,opt:!0},{no:7,name:"application",kind:"message",T:a.ApplicationInfo,opt:!0},{no:8,name:"device",kind:"message",T:a.DeviceInfo},{no:9,name:"session_info",kind:"message",T:a.SessionInfo},{no:10,name:"pageview_info",kind:"message",T:a.PageviewInfo,opt:!0},{no:11,name:"properties",kind:"map",K:9,V:{kind:"message",T:a.Value}},{no:12,name:"session",kind:"message",T:i.Empty,oneof:"kind"},{no:13,name:"pageview",kind:"message",T:i.Empty,oneof:"kind"},{no:14,name:"event",kind:"message",T:y,oneof:"kind"},{no:15,name:"user",kind:"message",T:l,oneof:"kind"},{no:16,name:"session_replay_info",kind:"message",T:c,opt:!0},{no:17,name:"session_replay",kind:"scalar",T:9,opt:!0},{no:18,name:"active_contexts",kind:"message",T:f,repeated:!0},{no:20,name:"cs_properties",kind:"message",T:s}]})),t}(i.Message);t.Message=_;var T=function(e){function t(t){var n=e.call(this)||this;return n.events=[],n.ipOverride="",n.timeOverride=!1,i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.MessageBatch",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"events",kind:"message",T:_,repeated:!0},{no:2,name:"ip_override",kind:"scalar",T:9},{no:3,name:"time_override",kind:"scalar",T:8}]})),t}(i.Message);t.MessageBatch=T;var E=function(e){function t(t){var n=e.call(this)||this;return i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.PostMobileTrackRequest",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"message_batch",kind:"message",T:T}]})),t}(i.Message);t.PostMobileTrackRequest=E;var S=function(e){function t(t){var n=e.call(this)||this;return n.status="",i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.PostMobileTrackResponse",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"status",kind:"scalar",T:9}]})),t}(i.Message);t.PostMobileTrackResponse=S},5944:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.PostMobileAddUserPropertiesResponse=t.PostMobileAddUserPropertiesRequest=t.UserProperties=void 0;var i=n(8707),a=n(7940),s=function(e){function t(t){var n=e.call(this)||this;return n.envId="",n.userId="",n.properties={},n.sessionReplay="",i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.UserProperties",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"env_id",kind:"scalar",T:9},{no:2,name:"user_id",kind:"scalar",T:9},{no:3,name:"properties",kind:"map",K:9,V:{kind:"message",T:a.Value}},{no:4,name:"initial_device",kind:"message",T:a.DeviceInfo},{no:5,name:"initial_application",kind:"message",T:a.ApplicationInfo},{no:6,name:"library",kind:"message",T:a.LibraryInfo},{no:7,name:"initial_session_info",kind:"message",T:a.SessionInfo},{no:8,name:"session_replay",kind:"scalar",T:9}]})),t}(i.Message);t.UserProperties=s;var u=function(e){function t(t){var n=e.call(this)||this;return i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.PostMobileAddUserPropertiesRequest",t.fields=i.proto3.util.newFieldList((function(){return[{no:1,name:"user_properties",kind:"message",T:s}]})),t}(i.Message);t.PostMobileAddUserPropertiesRequest=u;var c=function(e){function t(t){var n=e.call(this)||this;return n.status="",i.proto3.util.initPartial(t,n),n}return o(t,e),t.fromBinary=function(e,n){return(new t).fromBinary(e,n)},t.fromJson=function(e,n){return(new t).fromJson(e,n)},t.fromJsonString=function(e,n){return(new t).fromJsonString(e,n)},t.equals=function(e,n){return i.proto3.util.equals(t,e,n)},t.runtime=i.proto3,t.typeName="core_sdk.v1.PostMobileAddUserPropertiesResponse",t.fields=i.proto3.util.newFieldList((function(){return[{no:2,name:"status",kind:"scalar",T:9}]})),t}(i.Message);t.PostMobileAddUserPropertiesResponse=c},8285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTrackValid=t.isAutotrackEvent=void 0;var r=n(9327),o=n(8141);t.isAutotrackEvent=function(e,t){return"heap_autotrack"===e&&!(0,o.isString)(t)&&"autotrack"===(null==t?void 0:t.name)};t.isTrackValid=function(e,n,i){return!!(0,t.isAutotrackEvent)(e,i)||!(e&&!function(e){return!(!(0,o.isString)(e)||!(0,o.isValidLength)(e,r.MAX_VALUE_LENGTH))}(e)||n&&!function(e){return!!(0,o.isObject)(e)}(n)||i&&!function(e){return(0,o.isString)(e)?!!(0,o.isValidLength)(e,r.MAX_VALUE_LENGTH):!(!(0,o.isString)(e.name)||!(0,o.isValidLength)(e.name,r.MAX_VALUE_LENGTH)||e.version&&!(0,o.isString)(e.version)||e.version&&!(0,o.isValidLength)(e.version,r.MAX_VALUE_LENGTH)||e.platform&&!(0,o.isString)(e.platform)||e.platform&&!(0,o.isValidLength)(e.platform,r.MAX_VALUE_LENGTH))}(i))}},2674:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTransformer=void 0;var r=n(1295),o=n(477),i=function(){function e(){this.isAsync=!1}return e.prototype.transformAsync=function(e){return Promise.resolve(this.transform(e))},e.prototype.relay=function(e,t){var n=this.getTarget(t);r.logger.trace("Transformer ".concat(this.name," relaying messages to ").concat(n.name)),n.transformAndRelay(e,t)},e.prototype.transformAndRelay=function(e,t){var i,a,s=this,u=e,c=o.FlushState.getInstance().getShouldIgnoreBlockingTransformers();if(this.isAsync&&this.transformAsync){if(c)return r.logger.trace("Transformer ".concat(this.name," -- async and unloading, so skipping this transformer")),void this.relay(u,t);Promise.race([this.transformAsync(e),(i=5e3,a=e,new Promise((function(e){n.g.setTimeout((function(){e(a)}),i)})))]).then((function(e){s.relay(e,t)}))}else u=this.transform(e),this.relay(u,t)},e}();t.AbstractTransformer=i},2298:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConstructionTransformer=t.CLIENT_SIDE_SOURCES=void 0;var a,s=n(2674),u=n(1295),c=n(4915),l=n(5003),f=n(642);!function(e){e.APPCUES="appcues",e.CHAMELEON="chameleon",e.SEGMENT="segment",e.CONTENTSQUARE="contentsquare"}(a=t.CLIENT_SIDE_SOURCES||(t.CLIENT_SIDE_SOURCES={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=c.EventTransformerEnum.TRACK_EVENT_CONSTRUCTION,t}return o(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getTarget=function(e){return(0,l.getTargetTransformer)(e,this.name)},t.prototype._constructSourceName=function(e,t){return-1!==e.toLocaleLowerCase().indexOf(a.CHAMELEON)?a.CHAMELEON:t},t.prototype.constructCustomTrackPayload=function(e,t){var n=t?{source_properties:e.info.properties}:{properties:e.info.properties};return{custom:i({name:e.info.event},e.info.properties&&n)}},t.prototype.constructInteractionTrackPayload=function(e){return{interaction:i({},e.info.properties)}},t.prototype._isSupportedSource=function(e){return!!e&&Object.values(a).includes(e.toLowerCase())},t.prototype._constructSourceLibrary=function(e,t){var n,r,o,a;return{source_library:i(i({},e.info.source),{name:t,version:null!==(r=null===(n=e.info.source)||void 0===n?void 0:n.version)&&void 0!==r?r:"0.0.0",platform:null!==(a=null===(o=e.info.source)||void 0===o?void 0:o.platform)&&void 0!==a?a:"web"})}},t.prototype._getSourceInformation=function(e){var t,n={isSupported:!1};return n.name=this._constructSourceName(e.info.event,null===(t=e.info.source)||void 0===t?void 0:t.name),n.isSupported=this._isSupportedSource(n.name),n},t.prototype.transform=function(e){var t=this,n=e.map((function(e){var n,r=e.info.isAutotrack,o=t._getSourceInformation(e);return i(i({},e),{data:i(i(i(i({},e.data),(0,f.constructProperties)(null===(n=e.info.properties)||void 0===n?void 0:n.snapshotProperties)),{event:r?t.constructInteractionTrackPayload(e):t.constructCustomTrackPayload(e,o.isSupported)}),o.isSupported&&o.name&&t._constructSourceLibrary(e,o.name))})}));return u.logger.trace("Transformer ".concat(this.name," - populated track event data"),{before:e,after:n}),n},t}(s.AbstractTransformer);t.ConstructionTransformer=p},1354:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EntryTransformer=void 0;var i=n(2674),a=n(4915),s=n(5003),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=a.EventTransformerEnum.ENTRY,t}return o(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getTarget=function(e){return(0,s.getTargetTransformer)(e,this.name)},t.prototype.transform=function(e){return e},t}(i.AbstractTransformer);t.EntryTransformer=u},2294:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTransformer=void 0;var i=n(2674),a=n(4915),s=n(1295),u=n(2999),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=a.EventTransformerEnum.ERROR,t}return o(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getTarget=function(e){return u.ExitTransformer.getInstance()},t.prototype.relay=function(e,t){s.logger.error("Error transformer reached.",{messages:e,pipeline:t})},t.prototype.transform=function(e){return[]},t}(i.AbstractTransformer);t.ErrorTransformer=c},2999:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ExitTransformer=void 0;var i=n(2674),a=n(4915),s=n(6381),u=n(5003),c=n(6507),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=a.EventTransformerEnum.EXIT,t}return o(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getTarget=function(e){return(0,u.getTargetTransformer)(e,this.name)},t.prototype.relay=function(e,t){(0,s.enqueueOntoNetworkingQueue)(e,c.updateLastEventTimeHook)},t.prototype.transform=function(e){return e},t}(i.AbstractTransformer);t.ExitTransformer=l},8094:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataEnrichmentTransformer=void 0;var a=n(2674),s=n(1295),u=n(4915),c=n(5003),l=n(4924),f=n(642),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=u.EventTransformerEnum.EVENT_METADATA_ENRICHMENT,t._normalizeEventTimeAgainstPageviewTime=function(e,n){var r=e.reduce((function(e,t){return t.data.time<e?t.data.time:e}),e[0].data.time);if(r>n)return e;var o=n-r,a=e.map((function(e){var t=e.data.time+o,n=i(i({},e.data),{time:t});return i(i({},e),{data:n})}));return s.logger.trace("Transformer ".concat(t.name," - normalized event time against pageview time"),{before:e,after:a,pageviewTime:n}),a},t}return o(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getTarget=function(e){return(0,c.getTargetTransformer)(e,this.name)},t.prototype._enrichMessageWithMetadataContext=function(e){var t=l.MetadataStore.getInstance(),n=t.getMetadata(),r=n.userId,o=n.pageviewId,a=n.pageviewProperties,s=n.sessionProperties,u=n.identity,c=(0,f.getDeviceInfo)(),p=(0,f.getBaseLibrary)(),d={env_id:t.getEnvironmentId(),user_id:r,identity:u,base_library:p,device:c,session_info:s,pageview_info:i(i({},a),{id:o})};return i(i({},e),{data:i(i({},e.data),d)})},t.prototype.transform=function(e){var t=this,n=l.MetadataStore.getInstance();if(n.createNewUserIfNeeded(),n.createNewSessionIfNeeded(),n.createNewPageviewIfNeeded(),!n.hasQueuedMetadataEvents())return[];var r=n.getMetadata().pageviewProperties.time,o=this._normalizeEventTimeAgainstPageviewTime(e,r).map((function(e){return t._enrichMessageWithMetadataContext(e)}));return s.logger.trace("Transformer ".concat(this.name," - added metadata context to event messages"),{before:e,after:o}),o},t}(a.AbstractTransformer);t.MetadataEnrichmentTransformer=p},4830:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.SanitizationTransformer=void 0;var a=n(2674),s=n(1295),u=n(4915),c=n(5003),l=n(7229),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=u.EventTransformerEnum.PROPERTY_SANITIZATION,t}return o(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getTarget=function(e){return(0,c.getTargetTransformer)(e,this.name)},t.prototype._sanitizeMessages=function(e){var t=e.info.properties;if(!t)return e;var n=e;if(t){var r=(0,l.sanitizeProperties)(t,e.info.isAutotrack);n=i(i({},e),{info:i(i({},e.info),{properties:r})})}return n},t.prototype.transform=function(e){var t=this,n=e.map((function(e){return t._sanitizeMessages(e)}));return s.logger.trace("Transformer ".concat(this.name," - sanitized event messages"),{before:e,after:n}),n},t}(a.AbstractTransformer);t.SanitizationTransformer=f},6409:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockUntilCsMetadataAvailable=void 0;var s=n(2674),u=n(4915),c=n(1295),l=n(5003),f=n(8217),p=n(5105),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=u.MetadataTransformerEnum.BLOCK_UNTIL_CS_METADATA_IS_AVAILABLE,t.isCsMetadataAvailable=!1,t.isAsync=!0,t}return o(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getTarget=function(e){return(0,l.getTargetTransformer)(e,this.name)},t.prototype.getIsCsMetadataAvailable=function(){return this.isCsMetadataAvailable},t.prototype.setIsCsMetadataAvailable=function(e){this.isCsMetadataAvailable=e},t.prototype.blockQueueUntilCsMetadataIsAvailable=function(){var e=this;return new Promise((function(t,r){var o=Date.now(),i=n.g.setTimeout((function(){var t=Date.now()-o;c.logger.warn("Transformer ".concat(e.name," - Timeout reached after ").concat(t," ms while waiting for cs metadata, proceeding")),a()}),1e3),a=function(){n.g.clearInterval(s)},s=n.g.setInterval((function(){if(e.getIsCsMetadataAvailable()){var r=Date.now()-o;c.logger.trace("Transformer ".concat(e.name," - cs metadata is available after ").concat(r," ms, proceeding")),a(),n.g.clearTimeout(i),t()}}),10)}))},t.prototype.resumeMetadataCreation=function(){this.setIsCsMetadataAvailable(!0)},t.prototype.transformAsync=function(e){var t,n,r,o;return i(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return(0,f.sideloadingWithCs)()?(c.logger.trace("Transformer ".concat(this.name," - blocking queue until cs metadata is available")),(0,p._updateMetadataStoreOnSuccessfulNetworkingEnqueue)(e),null===(n=null===(t=window._uxa)||void 0===t?void 0:t.push)||void 0===n||n.call(t,["startDataCollection"]),null===(o=null===(r=window._uxa)||void 0===r?void 0:r.push)||void 0===o||o.call(r,["afterPageView",this.resumeMetadataCreation.bind(this)]),[4,this.blockQueueUntilCsMetadataIsAvailable()]):(c.logger.trace("Transformer ".concat(this.name," - no sideloading with cs, proceeding")),[2,e]);case 1:return i.sent(),[2,e]}}))}))},t.prototype.transform=function(e){return e},t}(s.AbstractTransformer);t.BlockUntilCsMetadataAvailable=d},6267:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityEventCreationTransformer=void 0;var a=n(2674),s=n(4915),u=n(5003),c=n(4924),l=n(1295),f=n(642),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=s.IdentityTransformerEnum.IDENTITY_EVENT_CREATION,t}return o(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getTarget=function(e){return(0,u.getTargetTransformer)(e,this.name)},t.prototype._constructIdentityMessage=function(e){var t=c.MetadataStore.getInstance();return i(i({},e),{data:{time:e.info.time,identity:e.info.identity,env_id:t.getEnvironmentId(),user_id:e.info.user_id||t.getUserId(),library:(0,f.getBaseLibrary)()}})},t.prototype.transform=function(e){if(!e.length||e.length>1)return l.logger.trace("Transformer ".concat(this.name," - Invalid number of identity event messages sent, should always expect 1 message"),{messages:e}),[];var t=e[0],n=this._constructIdentityMessage(t);return l.logger.trace("Transformer ".concat(this.name," - creating identity event message"),{before:t,after:n}),[n]},t}(a.AbstractTransformer);t.IdentityEventCreationTransformer=p},7493:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityExitTransformer=void 0;var i=n(4915),a=n(2674),s=n(5003),u=n(6381),c=n(6507),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=i.EventTransformerEnum.EXIT,t}return o(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getTarget=function(e){return(0,s.getTargetTransformer)(e,this.name)},t.prototype.relay=function(e,t){(0,u.enqueueOntoNetworkingQueue)(e,c.identifyHook)},t.prototype.transform=function(e){return e},t}(a.AbstractTransformer);t.IdentityExitTransformer=l},5975:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataEventCreationTransformer=void 0;var a=n(2674),s=n(4915),u=n(6533),c=n(1295),l=n(5003),f=n(642),p=n(4924),d=n(5050),m=n(7375),g=n(196),v=n(5602),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=s.MetadataTransformerEnum.METADATA_EVENT_CREATION,t}return o(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getTarget=function(e){return(0,l.getTargetTransformer)(e,this.name)},t.prototype._createUserEventMessage=function(e){var t,n=e.time,r=e.userId,o=e.sessionId,i=e.pageviewId,a=p.MetadataStore.getInstance(),s=(0,f.getReferrer)(),u=(0,f.getDeviceInfo)(),c=(0,f.getBaseLibrary)();return{time:n,id:r,user_id:r,identity:a.getIdentity()||"",base_library:c,device:u,env_id:a.getEnvironmentId(),user:{time:n,id:r,identity:a.getIdentity(),initial_session_info:{referrer:s,time:n,id:o,search_keyword:(0,f.getSearchKeyword)(s),utm:(0,f.getUtmInfo)(),initial_pageview_info:{time:n,id:i,url:(0,f.getUrlInfo)(),source_properties:(0,m.getSourceProperties)(),properties:null===(t=a.getMetadata().pageviewProperties)||void 0===t?void 0:t.properties}}}}},t.prototype._createSessionEventMessage=function(e){var t,n=e.time,r=e.sessionId,o=e.userId,i=e.pageviewId,a=p.MetadataStore.getInstance(),s=(0,f.getReferrer)(),u=(0,f.getDeviceInfo)(),c=(0,f.getBaseLibrary)(),l=null!=o?o:a.getUserId();return{time:n,id:r,env_id:a.getEnvironmentId(),user_id:l,identity:a.getIdentity()||"",base_library:c,device:u,session_info:{time:n,referrer:s,id:r,search_keyword:(0,f.getSearchKeyword)(s),utm:(0,f.getUtmInfo)(),initial_pageview_info:{time:n,id:i,title:(0,m.getSensitiveDataSafePageTitle)(),previous_page:(0,m.getPreviousPageIfHostnameMatches)(),url:(0,f.getUrlInfo)(),source_properties:(0,m.getSourceProperties)(),properties:null===(t=a.getMetadata().pageviewProperties)||void 0===t?void 0:t.properties}},session:{}}},t.prototype._createPageviewEventMessage=function(e){var t,n=e.time,r=e.pageviewId,o=e.sessionMessage,a=e.userId,s=e.overridePageviewInfo,u=p.MetadataStore.getInstance(),c=null!=a?a:u.getUserId(),l=o?o.session_info:u.getMetadata().sessionProperties,d=(0,f.getDeviceInfo)(),y=(0,f.getBaseLibrary)(),h=(0,f.getUrlInfo)(),_=(0,g.getSnapshotDefinitions)(v.CompiledEventTypeKeys.Pageview,h.path),T=(0,g.getSnapshotProperties)(_);return i({time:n,id:r,env_id:u.getEnvironmentId(),user_id:c,identity:u.getIdentity()||"",base_library:y,device:d,session_info:l,pageview_info:i({time:n,id:r,url:h,title:(0,m.getSensitiveDataSafePageTitle)(),previous_page:(0,m.getPreviousPageIfHostnameMatches)(),source_properties:(0,m.getSourceProperties)(s),properties:null===(t=u.getMetadata().pageviewProperties)||void 0===t?void 0:t.properties},s),pageview:{}},(0,f.constructProperties)(T))},t.prototype.transform=function(e){if(!e.length||e.length>1)return c.logger.trace("Transformer ".concat(this.name," - Invalid number of metadata event messages sent, should always expect 1 message"),{messages:e}),[];var t=[],n=e[0],r=n.type,o=n.id,i=n.overrideProps,a=(new Date).getTime();if(r===u.MetadataEventEnum.METADATA_USER){c.logger.debug("Transformer ".concat(this.name," - Creating user + session + pageview message."));var s=o,l=(0,d.generateId)(),f=(0,d.generateId)(),m={type:u.MetadataEventEnum.METADATA_USER,id:s,data:this._createUserEventMessage({time:a,userId:s,sessionId:l,pageviewId:f})},g=this._createSessionEventMessage({time:a,sessionId:l,userId:s,pageviewId:f});t=[m,{type:u.MetadataEventEnum.METADATA_SESSION,id:l,data:g},{type:u.MetadataEventEnum.METADATA_PAGEVIEW,id:f,data:this._createPageviewEventMessage({time:a,pageviewId:f,sessionMessage:g,userId:s,overridePageviewInfo:null==i?void 0:i.pageviewInfo})}]}else if(r===u.MetadataEventEnum.METADATA_SESSION){c.logger.debug("Transformer ".concat(this.name," - Creating session + pageview message."));l=o,f=(0,d.generateId)(),g=this._createSessionEventMessage({time:a,sessionId:l,pageviewId:f});t=[{type:u.MetadataEventEnum.METADATA_SESSION,id:l,data:g},{type:u.MetadataEventEnum.METADATA_PAGEVIEW,id:f,data:this._createPageviewEventMessage({time:a,pageviewId:f,sessionMessage:g,overridePageviewInfo:null==i?void 0:i.pageviewInfo})}]}else if(r===u.MetadataEventEnum.METADATA_PAGEVIEW){c.logger.debug("Transformer ".concat(this.name," - Creating pageview message."));f=o;t=[{type:u.MetadataEventEnum.METADATA_PAGEVIEW,id:f,data:this._createPageviewEventMessage({time:a,pageviewId:f,overridePageviewInfo:null==i?void 0:i.pageviewInfo})}]}return p.MetadataStore.getInstance().deleteSetPathIfExpired(),c.logger.trace("Transformer ".concat(this.name," - creating metadata events"),{before:e,after:t}),t},t}(a.AbstractTransformer);t.MetadataEventCreationTransformer=y},5105:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataExitTransformer=t._updateMetadataStoreOnSuccessfulNetworkingEnqueue=void 0;var a=n(2674),s=n(4915),u=n(6381),c=n(5003),l=n(6533),f=n(4924),p=n(1295);t._updateMetadataStoreOnSuccessfulNetworkingEnqueue=function(e){var t=f.MetadataStore.getInstance();if(!t.hasQueuedMetadataEvents()){var n,r,o,a={};e.forEach((function(e){var t=e.id,s=e.type,u=e.data,c=u.time||0;s===l.MetadataEventEnum.METADATA_USER?(p.logger.trace("Metadata Request - User event has been enqueued."),n=t,a=i(i({},a),{userId:t})):s===l.MetadataEventEnum.METADATA_SESSION?(p.logger.trace("Metadata Request - Session event has been enqueued."),r=t,a=i(i({},a),{sessionId:t,lastEventTime:c,sessionProperties:u.session_info})):s===l.MetadataEventEnum.METADATA_PAGEVIEW&&(p.logger.debug("Metadata Request - Pageview event has been enqueued."),o=t,a=i(i({},a),{pageviewId:t,pageviewProperties:u.pageview_info,lastEventTime:c}))})),t.setMetadata(a),n&&t.setHasUserBeenQueued(!0),r&&t.setHasSessionBeenQueued(!0),o&&t.setHasPageviewBeenQueued(!0)}};var d=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=s.MetadataTransformerEnum.METADATA_EXIT,t}return o(n,e),n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n.prototype.getTarget=function(e){return(0,c.getTargetTransformer)(e,this.name)},n.prototype.relay=function(e,n){(0,u.enqueueOntoNetworkingQueue)(e,t._updateMetadataStoreOnSuccessfulNetworkingEnqueue)},n.prototype.transform=function(e){return e},n}(a.AbstractTransformer);t.MetadataExitTransformer=d},642:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.constructEventProperties=t.constructProperties=t.getBaseLibrary=t.getDeviceInfo=t.getUrlInfo=t.getUtmInfo=t.getSearchKeyword=t.getReferrer=t.getHostname=void 0;var o=n(3432),i=n(4737),a=n(1640),s=n(4924),u=n(5023),c=function(e){var t=new RegExp("#.*");return e.replace(t,"")},l=function(e,t){t=t||window.location.search,e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);if(null===n)return"";try{return decodeURIComponent(n[1].replace(/\+/g," "))}catch(e){return""}};t.getHostname=function(e){if(!e)return e;var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(e);return t?t[1]:e};t.getReferrer=function(){var e,t=null===(e=s.MetadataStore.getInstance().getMetadata().sessionProperties)||void 0===e?void 0:e.referrer;return c(t||document.referrer)};t.getSearchKeyword=function(e){var n,r=(0,t.getHostname)(e);if(!r)return"";var o=e.slice(e.indexOf("?"));if(r.search("google.([^/?]*)$")>=0||r.search("bing.com$")>=0)n="q";else{if(!(r.search("yahoo.com$")>=0))return"";n="p"}return window.decodeURIComponent(l(n,o))};t.getUtmInfo=function(){return{source:l("utm_source"),medium:l("utm_medium"),term:l("utm_term"),content:l("utm_content"),campaign:l("utm_campaign")}};t.getUrlInfo=function(e){var t,n,r,i,a,u;if(void 0===e&&(e=!0),e){var c=s.MetadataStore.getInstance();i=null===(t=c.getMetadata().setPath)||void 0===t?void 0:t.path,a=null===(n=c.getMetadata().setPath)||void 0===n?void 0:n.query,u=null===(r=c.getMetadata().setPath)||void 0===r?void 0:r.hash}return{domain:window.location.hostname,path:i||window.location.pathname,query:null!=a?a:(0,o.handleUrlRedaction)(window.location.search),hash:null!=u?u:(0,o.handleUrlRedaction)(window.location.hash)}};t.getDeviceInfo=function(){var e=a.UserAgentClientHintsStore.getInstance().getUserAgentClientHints();return r({user_agent:navigator.userAgent},e&&{uach:e})};t.getBaseLibrary=function(){var e=u.ConfigStore.getInstance();return{name:"web",version:e.getSdkVersion(),platform:"web",properties:{library_domain:e.getLibraryDomain()}}};t.constructProperties=function(e){var n=(0,t.constructEventProperties)(),o=null!=e?e:{},i=r(r({},n),o);return i&&Object.keys(i).length>0?{properties:i}:null};t.constructEventProperties=function(){return i.EventPropertiesStore.getInstance().getProperties()}},7375:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getSourceProperties=t.getSensitiveDataSafePageTitle=t._isTitleRedacted=t.getPreviousPageIfHostnameMatches=t._getLocation=t._getReferrer=t.getPathFromURL=t._prefixSlashIfNeeded=void 0;var o=n(8141),i=n(642),a=n(9327),s=n(7229);t._prefixSlashIfNeeded=function(e){return(0,o.isString)(e)?e.length>0&&"/"===e[0]?e:"/"+e:e};t.getPathFromURL=function(e){var n=document.createElement("a");if(n.href=e,""===n.host){var r=n.href;n.href=r}var i=n.pathname;if((0,o.isString)(i))return(0,t._prefixSlashIfNeeded)(i)};t._getReferrer=function(){return document.referrer};t._getLocation=function(){return window.location};t.getPreviousPageIfHostnameMatches=function(){var e=(0,t._getReferrer)();if(e)return(0,i.getHostname)(e)===(0,t._getLocation)().hostname?(0,t.getPathFromURL)(e):void 0};t._isTitleRedacted=function(){var e=a.ATTRIBUTES_TO_REDACT.map((function(e){return"head title[".concat(e,"]")})).join(", ");return!!document.querySelector(e)};t.getSensitiveDataSafePageTitle=function(e){void 0===e&&(e=a.MAX_ATTRIBUTE_LENGTH);var n=(0,t._isTitleRedacted)(),r=document.title;return n?a.REDACTION_STRING:(0,s.truncate)(r,e)};t.getSourceProperties=function(e){return r({screen_height:window.innerHeight||0,screen_width:window.innerWidth||0},null==e?void 0:e.source_properties)}},6507:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identifyHook=t.updateLastEventTimeHook=t._getMostRecentEventTime=void 0;var r=n(1295),o=n(4924);t._getMostRecentEventTime=function(e){var t=0;return e.forEach((function(e){var n=e.data.time;n&&(!t||n>t)&&(t=n)})),t};t.updateLastEventTimeHook=function(e){if(e&&e.length){var n=(0,t._getMostRecentEventTime)(e);if(n)o.MetadataStore.getInstance().updateLastEventTime(n);else r.logger.trace("Unable to find most recent event time.",{messages:e})}else r.logger.trace("No events to update last event time against")};t.identifyHook=function(e){var n=o.MetadataStore.getInstance();(0,t.updateLastEventTimeHook)(e),n.setIdentity(e[0].data.identity)}},622:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionReplayEnrichmentTransformer=void 0;var a=n(2674),s=n(1295),u=n(4915),c=n(5003),l=n(115),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=u.EventTransformerEnum.SESSION_REPLAY_ENRICHMENT,t}return o(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getTarget=function(e){return(0,c.getTargetTransformer)(e,this.name)},t.prototype._getSessionReplayString=function(e){return[(0,l.getAurycString)(e.data.time),(0,l.getLogrocketString)(e.data.time),(0,l.getContentsquareString)()].filter((function(e){return e})).join(";")||void 0},t.prototype._enrichMessageWithSessionReplayContext=function(e){var t=this._getSessionReplayString(e),n=(0,l.getContentsquareProperties)()||{};return t?i(i({},e),{data:i(i({},e.data),{session_replay:t,cs_properties:n})}):e},t.prototype.transform=function(e){var t=this,n=e.map((function(e){return t._enrichMessageWithSessionReplayContext(e)}));return s.logger.trace("Transformer ".concat(this.name," - added session replay context to event messages"),{before:e,after:n}),n},t}(a.AbstractTransformer);t.SessionReplayEnrichmentTransformer=f},115:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContentsquareString=t.getContentsquareProperties=t.getLogrocketString=t.getAurycString=void 0;var r=n(1295),o=n(7375);t.getAurycString=function(e){try{if(window.auryc){var t=window.auryc.getSessionMetadata(),n=t.siteId,r=t.sessionId,o=t.sampled,i=t.isOver;if(o&&!i){var a=encodeURIComponent("".concat(n,"/").concat(r,"/").concat(e));return"auryc:".concat(a)}}return}catch(e){return}};t.getLogrocketString=function(e){try{var t="";return window._lr_surl_cb&&window._lr_surl_cb((function(e){return t=e})),t?"logrocket:".concat(function(e,t){var n=(0,o.getPathFromURL)(e);if(!n)throw new Error("No path present on Logrocket session URL");var r=n.split("/"),i=r[1],a=r[2],s=r[4],u=r[5];if(!(i&&a&&s&&u))throw new Error("Invalid path on Logrocket session URL");return encodeURIComponent("".concat(i,"/").concat(a,"/").concat(s,"/").concat(u,"/").concat(t))}(t,e)):void 0}catch(e){return void r.logger.trace("SessionReplay - failed to parse logrocket string - ".concat(e))}};t.getContentsquareProperties=function(){var e,t;try{var n=null===(t=null===(e=window._uxa)||void 0===e?void 0:e.push)||void 0===t?void 0:t.call(e,["getSessionData"]);if(!n)return;var r=n.projectId,o=n.userId,i=n.sessionNumber,a=n.pageNumber,s=n.relativeTimestamp;if(!(r&&o&&i&&a))return;return{cs_pid:r.toString(),cs_pvid:a.toString(),cs_sn:i.toString(),cs_ts:null==s?void 0:s.toString(),cs_uu:o.toString()}}catch(e){return}};t.getContentsquareString=function(){try{var e="",n=(0,t.getContentsquareProperties)();if(n){var r=n.cs_pid,o=n.cs_pvid,i=n.cs_sn,a=n.cs_ts,s=n.cs_uu,u=encodeURIComponent("".concat(r,"/").concat(s,"/").concat(i,"/").concat(o,"/").concat(a));e="cs:".concat(u)}return e}catch(e){return""}}},9974:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTransformers=t.queueAddUserPropertiesEvent=t.queueIdentityEvent=t.queueMetadataEvent=t.processAllMessagesInEventProcessingQueue=t.transformerIntervalId=void 0;var r=n(1354),o=n(6381),i=n(4915),a=n(5050),s=n(6533),u=n(5975),c=n(1295),l=n(6267),f=n(9327),p=n(3258),d=n(5023);t.processAllMessagesInEventProcessingQueue=function(){if(!d.ConfigStore.getInstance().getShouldStopTracking()){c.logger.trace("Begin flushing all messages for processing"),p.MetadataMessageQueue.getInstance().flushTemporaryMetadataQueue();var e=(0,o.flushAllMessagesFromEventProcessingQueue)();e&&e.length?(c.logger.debug("Flushing the following messages into general event pipeline",e),r.EntryTransformer.getInstance().transformAndRelay(e,i.PipelineEnum.GENERAL)):c.logger.debug("No messages queued in the EPQ - terminating")}};t.queueMetadataEvent=function(e,t,n){if(!d.ConfigStore.getInstance().getShouldStopTracking()){var r=null!=t?t:(0,a.generateId)();u.MetadataEventCreationTransformer.getInstance().transformAndRelay([{overrideProps:n,type:e,id:r}],i.PipelineEnum.METADATA)}};t.queueIdentityEvent=function(e,t){d.ConfigStore.getInstance().getShouldStopTracking()||l.IdentityEventCreationTransformer.getInstance().transformAndRelay([{type:s.CoreEventEnum.CORE_IDENTIFY_v3,id:(0,a.generateId)(),info:{identity:e,user_id:t,time:(new Date).getTime()}}],i.PipelineEnum.IDENTITY)};t.queueAddUserPropertiesEvent=function(e){d.ConfigStore.getInstance().getShouldStopTracking()||r.EntryTransformer.getInstance().transformAndRelay([{type:s.CoreEventEnum.CORE_ADD_USER_PROPERTIES,id:(0,a.generateId)(),info:{properties:e,time:(new Date).getTime()}}],i.PipelineEnum.ADD_USER_PROPERTIES)},t.initTransformers=function(){d.ConfigStore.getInstance().getShouldStopTracking()||(t.transformerIntervalId=n.g.setInterval((function(){var e=(0,o.getMessagesForProcessingFromEventQueue)();e.length&&(c.logger.debug("Sending events from the event processing queue to transformers",{messages:e}),r.EntryTransformer.getInstance().transformAndRelay(e,i.PipelineEnum.GENERAL))}),f.EVENT_PROCESSING_QUEUE_POLLING_INTERVAL))}},5003:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getTargetTransformer=void 0;var i=n(2999),a=n(4915),s=n(1295),u=n(5105),c=n(8094),l=n(7493),f=n(5278),p=n(4830),d=n(2298),m=n(145),g=n(1354),v=n(5975),y=n(6267),h=n(2294),_=n(622),T=n(6409);t.getTargetTransformer=function(e,t){var n=function(e){var t=[g.EntryTransformer.getInstance(),c.MetadataEnrichmentTransformer.getInstance(),_.SessionReplayEnrichmentTransformer.getInstance(),p.SanitizationTransformer.getInstance(),d.ConstructionTransformer.getInstance()],n=[i.ExitTransformer.getInstance()],s=[v.MetadataEventCreationTransformer.getInstance(),T.BlockUntilCsMetadataAvailable.getInstance(),_.SessionReplayEnrichmentTransformer.getInstance()],h=[u.MetadataExitTransformer.getInstance()],E=[y.IdentityEventCreationTransformer.getInstance(),l.IdentityExitTransformer.getInstance()],S=[l.IdentityExitTransformer.getInstance()],I=[g.EntryTransformer.getInstance(),p.SanitizationTransformer.getInstance(),f.UserPropertiesEventCreationTransformer.getInstance()],b=[i.ExitTransformer.getInstance()],w=[],P=[],A=m.TransformerRegistry.getInstance().getCustomTransformers(e);return e===a.PipelineEnum.GENERAL?(w=t,P=n):e===a.PipelineEnum.METADATA?(w=s,P=h):e===a.PipelineEnum.IDENTITY?(w=E,P=S):e===a.PipelineEnum.ADD_USER_PROPERTIES&&(w=I,P=b),o(o(o([],r(w),!1),r(A),!1),r(P),!1)}(e),E=n.findIndex((function(e){return e.name===t}));return-1===E?(s.logger.trace("Source transformer not found.",{sourceTransformerName:t,pipeline:e}),h.ErrorTransformer.getInstance()):E===n.length-1?i.ExitTransformer.getInstance():n[E+1]}},4915:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PipelineEnum=t.UserPropertiesTransformerEnum=t.IdentityTransformerEnum=t.MetadataTransformerEnum=t.EventTransformerEnum=void 0,function(e){e.TRACK_EVENT_CONSTRUCTION="TRACK_EVENT_CONSTRUCTION",e.ENTRY="ENTRY",e.EVENT_METADATA_ENRICHMENT="EVENT_METADATA_ENRICHMENT",e.REDACTION="REDACTION",e.PROPERTY_SANITIZATION="PROPERTY_SANITIZATION",e.EXIT="EXIT",e.ERROR="ERROR",e.SESSION_REPLAY_ENRICHMENT="SESSION_REPLAY_ENRICHMENT"}(t.EventTransformerEnum||(t.EventTransformerEnum={})),function(e){e.METADATA_EVENT_CREATION="META_EVENT_CREATION",e.BLOCK_UNTIL_CS_METADATA_IS_AVAILABLE="BLOCK_UNTIL_CS_METADATA_IS_AVAILABLE",e.METADATA_EXIT="META_EXIT"}(t.MetadataTransformerEnum||(t.MetadataTransformerEnum={})),function(e){e.IDENTITY_EVENT_CREATION="IDENTITY_EVENT_CREATION",e.IDENTITY_EXIT="IDENTITY_EXIT"}(t.IdentityTransformerEnum||(t.IdentityTransformerEnum={})),function(e){e.ENTRY="ENTRY",e.PROPERTY_SANITIZATION="PROPERTY_SANITIZATION",e.USER_PROPERTIES_EVENT_CREATION="USER_PROPERTIES_EVENT_CREATION"}(t.UserPropertiesTransformerEnum||(t.UserPropertiesTransformerEnum={})),function(e){e.GENERAL="general",e.METADATA="metadata",e.IDENTITY="identity",e.ADD_USER_PROPERTIES="addUserProperties"}(t.PipelineEnum||(t.PipelineEnum={}))},5278:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.UserPropertiesEventCreationTransformer=void 0;var a=n(2674),s=n(4915),u=n(5003),c=n(4924),l=n(1295),f=n(642),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=s.UserPropertiesTransformerEnum.USER_PROPERTIES_EVENT_CREATION,t}return o(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getTarget=function(e){return(0,u.getTargetTransformer)(e,this.name)},t.prototype._constructUserPropertiesMessage=function(e){var t=c.MetadataStore.getInstance();return i(i({},e),{data:{time:e.info.time,env_id:t.getEnvironmentId(),user_id:t.getUserId(),properties:e.info.properties,device:(0,f.getDeviceInfo)(),library:(0,f.getBaseLibrary)()}})},t.prototype.transform=function(e){if(!e.length||e.length>1)return l.logger.trace("Transformer ".concat(this.name," - Invalid number of AUP event messages sent, should always expect 1 message"),{messages:e}),[];var t=e[0];if(0===Object.keys(t.info.properties).length)return l.logger.trace("Transformer ".concat(this.name," - Invalid properties")),[];var n=this._constructUserPropertiesMessage(t);return l.logger.trace("Transformer ".concat(this.name," - creating aup event message"),{before:t,after:n}),[n]},t}(a.AbstractTransformer);t.UserPropertiesEventCreationTransformer=p},8217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isElementEncryptedInCs=t.isElementSensitiveInCs=t.SetPathLifespan=t.csShouldDrive=t.sideloadingWithCs=t.CS_SIDELOADING_STATUSES=t.STATUSES_TO_SUPPORT_CS_DRIVING=t.isCsDomainOnHeapEnv=t.heapShouldDrive=t.STATUSES_TO_TRIGGER_CS_ACTIONS=t.HeapTagStatus=void 0;var r,o=n(5023),i=n(4924);!function(e){e.HeapSideloadsCS="heap_sideloads_cs",e.CsSideloadsHeap="cs_sideloads_heap",e.HeapDrivesCS="heap_drives_cs",e.MappingOnly="mapping_only"}(r=t.HeapTagStatus||(t.HeapTagStatus={})),t.STATUSES_TO_TRIGGER_CS_ACTIONS=[r.HeapSideloadsCS,r.HeapDrivesCS];t.heapShouldDrive=function(){if((0,t.isCsDomainOnHeapEnv)())return!1;var e=o.ConfigStore.getInstance().getCsHeapTagStatus();return e&&t.STATUSES_TO_TRIGGER_CS_ACTIONS.includes(e)};t.isCsDomainOnHeapEnv=function(){return!("236035469"!==i.MetadataStore.getInstance().getEnvironmentId()||!window.location.hostname.includes("contentsquare.com"))},t.STATUSES_TO_SUPPORT_CS_DRIVING=[r.CsSideloadsHeap],t.CS_SIDELOADING_STATUSES=[r.CsSideloadsHeap,r.HeapSideloadsCS];t.sideloadingWithCs=function(){var e=o.ConfigStore.getInstance().getCsHeapTagStatus();return e&&t.CS_SIDELOADING_STATUSES.includes(e)};t.csShouldDrive=function(){var e=o.ConfigStore.getInstance().getCsHeapTagStatus();return e&&t.STATUSES_TO_SUPPORT_CS_DRIVING.includes(e)},function(e){e.OnNextPageviewOnly="onNextPageviewOnly",e.UserSession="userSession"}(t.SetPathLifespan||(t.SetPathLifespan={}));t.isElementSensitiveInCs=function(e){var t;return null===(t=window.UXAnalytics)||void 0===t?void 0:t.Sensitive.isNodeSensitive(e)};t.isElementEncryptedInCs=function(e){var t,n;return!!e.firstChild&&(null===(n=null===(t=window.UXAnalytics)||void 0===t?void 0:t.Encryption)||void 0===n?void 0:n.shouldEncrypt(e.firstChild))}},6533:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageTypes=t.CoreEventEnum=t.MetadataEventEnum=void 0,function(e){e.METADATA_USER="meta_user",e.METADATA_SESSION="meta_session",e.METADATA_PAGEVIEW="meta_pageview"}(t.MetadataEventEnum||(t.MetadataEventEnum={})),function(e){e.CORE_TRACK="core_track",e.CORE_IDENTIFY_v3="core_identify_v3",e.CORE_ADD_USER_PROPERTIES="core_aup"}(t.CoreEventEnum||(t.CoreEventEnum={})),function(e){e.COOKIES="cookies",e.LOCAL_STORAGE="localstorage"}(t.StorageTypes||(t.StorageTypes={}))},5602:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SnapshotRuleKey=t.CompiledEventTypeKeys=void 0,function(e){e.Click="click",e.Change="change",e.Submit="submit",e.Pageview="pageview"}(t.CompiledEventTypeKeys||(t.CompiledEventTypeKeys={})),function(e){e.Selector="s",e.TextInNearestElement="t",e.JavaScript="j",e.Form="f"}(t.SnapshotRuleKey||(t.SnapshotRuleKey={}))},4503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.csOptOutExists=t.isCsOptOutPresentInHash=t.isCsOptOutPresentInQuery=t.isCsOptOutPresentInCookie=t.CS_OPT_OUT_NAME=void 0;var r=n(1146),o=n(1295);t.CS_OPT_OUT_NAME="_cs_optout";t.isCsOptOutPresentInCookie=function(){return(new r.CookiesStorage).getItem(t.CS_OPT_OUT_NAME)};t.isCsOptOutPresentInQuery=function(){return new URLSearchParams(window.location.search).has(t.CS_OPT_OUT_NAME)};t.isCsOptOutPresentInHash=function(){return window.location.hash.includes(t.CS_OPT_OUT_NAME)};t.csOptOutExists=function(){return(0,t.isCsOptOutPresentInCookie)()?(o.logger.debug("".concat(t.CS_OPT_OUT_NAME," was found in cookies")),!0):(0,t.isCsOptOutPresentInQuery)()?(o.logger.debug("".concat(t.CS_OPT_OUT_NAME," was found in query")),!0):!!(0,t.isCsOptOutPresentInHash)()&&(o.logger.debug("".concat(t.CS_OPT_OUT_NAME," was found in hash")),!0)}},9327:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SELECTOR_SNAPSHOT_ANCESTOR_TRAVERSAL_LIMIT=t.SELECTOR_SNAPSHOT_SIBLING_TRAVERSAL_LIMIT=t.REDACTED_VALUE=t.REDACTION_STRING=t.ATTRIBUTES_TO_REDACT=t.CS_REDACT_TEXT_ATTRIBUTE_NAME=t.HEAP_REDACT_TEXT_ATTRIBUTE_NAME=t.AUTH_TOKENS_TO_REDACT=t.EVENT_PROCESSING_QUEUE_POLLING_INTERVAL=t.MAX_WAIT_TIME_FOR_BUFFER_FLUSH=t.MAX_COOKIE_SIZE_BYTES=t.SESSION_EXPIRATION_IN_MS=t.USER_EXPIRATION_IN_MS=t.MAX_KEY_LENGTH=t.MAX_VALUE_LENGTH=t.MAX_ATTRIBUTE_LENGTH=void 0,t.MAX_ATTRIBUTE_LENGTH=255,t.MAX_VALUE_LENGTH=1024,t.MAX_KEY_LENGTH=512,t.USER_EXPIRATION_IN_MS=340776e5,t.SESSION_EXPIRATION_IN_MS=18e5,t.MAX_COOKIE_SIZE_BYTES=3500,t.MAX_WAIT_TIME_FOR_BUFFER_FLUSH=200,t.EVENT_PROCESSING_QUEUE_POLLING_INTERVAL=2e3,t.AUTH_TOKENS_TO_REDACT=["id_token","access_token","refresh_token","auth_token"],t.HEAP_REDACT_TEXT_ATTRIBUTE_NAME="data-heap-redact-text",t.CS_REDACT_TEXT_ATTRIBUTE_NAME="data-cs-mask",t.ATTRIBUTES_TO_REDACT=[t.HEAP_REDACT_TEXT_ATTRIBUTE_NAME,t.CS_REDACT_TEXT_ATTRIBUTE_NAME],t.REDACTION_STRING="****",t.REDACTED_VALUE="heap_redacted",t.SELECTOR_SNAPSHOT_SIBLING_TRAVERSAL_LIMIT=200,t.SELECTOR_SNAPSHOT_ANCESTOR_TRAVERSAL_LIMIT=50},9611:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PIIAnonymization=t.CREDIT_CARD_REPLACEMENT=t.TOKEN_REPLACEMENT=t.EMAIL_REPLACEMENT=void 0;var n=/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,r=/[a-zA-Z0-9+_-](?:@|%40|%2540)/;t.EMAIL_REPLACEMENT="CS_ANONYMIZED_EMAIL";var o="([-A-Za-z0-9+/=_]|=[^=]|={3,})+",i=new RegExp("(ey".concat(o,"\\.ey").concat(o,"\\.").concat(o,")"),"g");t.TOKEN_REPLACEMENT="CS_ANONYMIZED_JWT";var a=/[0-9]{4}/,s=/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g;t.CREDIT_CARD_REPLACEMENT="CS_ANONYMIZED_PII";var u=function(){function e(){}return e.prototype.anonymizePII=function(e){return"string"==typeof e&&(e=this.anonymizeEmail(e)),e},e.prototype.anonymizeEmail=function(e){return r.test(e)?e.replace(n,t.EMAIL_REPLACEMENT):e},e.prototype.anonymizeCreditCard=function(e){var n=this;return a.test(e)?e.replace(s,(function(e,r,o,i,a){if(-1===o.indexOf("*")){var s=i.length?o.split(i).join(""):o;if(!n.checkLuhn(s))return e}return"".concat(r).concat(t.CREDIT_CARD_REPLACEMENT).concat(a)})):e},e.prototype.checkLuhn=function(e){for(var t=parseInt(e[e.length-1],10),n=0,r=e.length-2;r>=0;r--){var o=parseInt(e[r],10);r%2==0&&(o*=2),n+=Math.floor(o/10)+o%10}return 10-n%10===t},e.prototype.anonymizeJwt=function(e){return e.replace(i,t.TOKEN_REPLACEMENT)},e.prototype.anonymizeFields=function(e,t){var n=this;return t.forEach((function(t){e[t]=n.anonymizeEmail(e[t])})),e},e}();t.PIIAnonymization=u},2720:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enqueueOntoOnReadyFunctionQueue=t.enqueueOntoHeapApiFunctionQueue=void 0;var r=n(1295),o=n(1225);t.enqueueOntoHeapApiFunctionQueue=function(e,t){r.logger.debug("enqueueing Heap API call because heap is not loaded");var n={name:e,fn:t};o.FunctionQueue.getInstance().enqueueHeapApi(n)};t.enqueueOntoOnReadyFunctionQueue=function(e){r.logger.debug("enqueueing onReady callback because heap is not loaded");var t={name:"onReady",fn:e};o.FunctionQueue.getInstance().enqueueOnReady(t)}},5050:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateId=void 0;var n=function e(t,n){var r;if(n||(n=16),void 0===t&&(t=128),t<=0)return"0";var o=Math.log(Math.pow(2,t))/Math.log(n);for(r=2;o===1/0;r*=2)o=Math.log(Math.pow(2,t/r))/Math.log(n)*r;var i=o-Math.floor(o),a="";for(r=0;r<Math.floor(o);r++)a=Math.floor(Math.random()*n).toString(n)+a;if(i){var s=Math.pow(n,i);a=Math.floor(Math.random()*s).toString(n)+a}var u=parseInt(a,n);return u!==1/0&&u>=Math.pow(2,t)?e(t,n):a};t.generateId=function(){return function(e){return e.replace(/^0+/,"")}(n(53,10))}},8711:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadPlugins=t.loadAdapters=t.loadIntegrations=void 0;var r=n(5023),o=n(1295),i=n(9496),a=n(4785);t.loadIntegrations=function(){var e=r.ConfigStore.getInstance(),t=e.getIntegrations(),n=e.isSessionReplayDisabled();if(t&&0!==t.length){o.logger.trace("Integrations -- loading");var s=i.AdapterRegistry.getInstance().dependencies;t.forEach((function(e){try{if(n&&a.SESSION_REPLAY_ADAPTERS.includes(e.name))return void o.logger.trace("Integrations -- Skipping session replay adapter: ",{integration:e.name});e.fn(s),o.logger.trace("Integrations -- executed ".concat(e.name))}catch(t){o.logger.trace("Integrations -- Error executing ".concat(e.name))}}))}};t.loadAdapters=function(){var e=i.AdapterRegistry.getInstance();e.getAdaptersToRerunOnNewPageview().forEach((function(t){try{t.adapterFn(e.dependencies),o.logger.trace("Adapters -- executed ".concat(t.name))}catch(e){o.logger.trace("Adapters -- Error executing ".concat(t.name))}}))};t.loadPlugins=function(){(0,t.loadIntegrations)(),(0,t.loadAdapters)()}},3432:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleUrlRedaction=t.redactAuthTokens=void 0;var r=n(9327),o=n(8141),i=n(9611),a=n(8217),s=r.AUTH_TOKENS_TO_REDACT.map((function(e){return new RegExp(e+"(=|%3D).*?(?=%26|&|$)","gi")}));t.redactAuthTokens=function(e){if(!e||!(0,o.isString)(e))return e;var t=e;return s.forEach((function(e){t=t.replace(e,(function(e){var t=-1===e.indexOf("=")?"%3D":"=";return e.split(t)[0]+t+r.REDACTED_VALUE}))})),t};t.handleUrlRedaction=function(e){var n;(n=(0,t.redactAuthTokens)(e),(0,a.csShouldDrive)())&&(n=(new i.PIIAnonymization).anonymizeJwt(n));return n}},7229:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.removeUndefinedValues=t.sanitizeProperties=t.truncate=void 0;var i=n(8141),a=n(9327),s=n(1295);t.truncate=function(e,t){var n,o,i="",a=0;try{for(var s=r(e),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.codePointAt(0),f=l&&l>65535?2:1;if(!(a+f<=t))break;i+=c,a+=f}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return i};t.sanitizeProperties=function(e,n){var r={};return Object.entries(e).forEach((function(e){var u=o(e,2),c=u[0],l=u[1];if(n)r[c]=l;else if((0,i.isValidLength)(c,a.MAX_KEY_LENGTH))if(null!=l&&""!==l)if((0,i.isString)(l)||(0,i.isNumber)(l)||(0,i.isBoolean)(l)){var f=l;if((0,i.isString)(f)&&!(0,i.isValidLength)(f,a.MAX_VALUE_LENGTH))f=(0,t.truncate)(f,a.MAX_VALUE_LENGTH),s.logger.warn("Property ".concat(c," exceeded ").concat(a.MAX_VALUE_LENGTH," UTF-16 code units and was truncated."));r[c]=f}else s.logger.warn("Property ".concat(c," was omitted because its value is not a string, number or boolean."));else s.logger.warn("Property ".concat(c," was omitted because its value is blank."));else s.logger.warn("Property ".concat(c," was omitted because its name exceeds ").concat(a.MAX_KEY_LENGTH," UTF-16 code units."))})),s.logger.trace("Sanitized properties",{before:e,after:r}),r};t.removeUndefinedValues=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=o(e,2);t[0];return void 0!==t[1]})))}},8323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackCsPageview=t.startNewCSSession=t.extendCSSession=t.createNewCSUser=t.getReplayInfoForSessionReplay=t.identifyAurycSessionWithUserId=t.createAndIdentifyNewAurycSession=void 0;var r=n(8217),o=n(1295),i=function(e,t){void 0===t&&(t=!1);try{var n=function(){var n,r;t&&(null===(n=window.auryc)||void 0===n||n.clearUserCookie(!1)),null===(r=window.auryc)||void 0===r||r.addUserProperties({heap_user_id:e})},r=function(){window.clearInterval(i)},o=function(){return!!(window.auryc&&window.auryc.addUserProperties&&window.auryc.clearUserCookie)};if(o())return void n();var i=window.setInterval((function(){o()&&(r(),n())}),500);window.setTimeout(r,5e3)}catch(e){return}};t.createAndIdentifyNewAurycSession=function(e){i(e,!0)};t.identifyAurycSessionWithUserId=function(e){i(e)};t.getReplayInfoForSessionReplay=function(){if(!window.auryc)return"Auryc object is not present in this window";var e=window.auryc.getSessionMetadata(),t=e.replayUrl,n=e.siteId,r=e.sessionId,o=e.sampled,i=e.isOver;return o&&!i?{aurycParams:encodeURIComponent("".concat(n,"/").concat(r,"/").concat((new Date).getTime())),replayUrl:t}:"Session Replay is not active or is over for this session."};t.createNewCSUser=function(e){var t=(0,r.heapShouldDrive)();(t||!t&&e)&&(o.logger.debug("Contentsquare -- creating new cs user"),function(){try{var e=function(){var e;null===(e=window._uxa)||void 0===e||e.push(["session:start:newVisitor"])},t=function(){window.clearInterval(r)},n=function(){var e,t,n=null===(t=null===(e=window._uxa)||void 0===e?void 0:e.push)||void 0===t?void 0:t.call(e,["getSessionData"]);return n&&n.projectId&&n.userId};if(n())return void e();var r=window.setInterval((function(){n()&&(t(),e())}),250);window.setTimeout(t,5e3)}catch(e){return}}())};t.extendCSSession=function(){var e,t;(0,r.heapShouldDrive)()&&(o.logger.debug("Contentsquare -- extending cs session"),null===(t=null===(e=window._uxa)||void 0===e?void 0:e.push)||void 0===t||t.call(e,["extendSessionV2"]))};t.startNewCSSession=function(e){var t,n,i=(0,r.heapShouldDrive)();(i||!i&&e)&&(o.logger.debug("Contentsquare -- starting cs session"),null===(n=null===(t=window._uxa)||void 0===t?void 0:t.push)||void 0===n||n.call(t,["clearSession"]))};t.trackCsPageview=function(e){var t,n;(0,r.heapShouldDrive)()&&(o.logger.debug("Contentsquare -- tracking cs pageview"),null===(n=null===(t=window._uxa)||void 0===t?void 0:t.push)||void 0===n||n.call(t,["trackPageview",e].filter(Boolean)))}},8141:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStringANumber=t.isValidLength=t.isFunction=t.isObject=t.isBoolean=t.isNumber=t.isString=void 0;t.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)};t.isNumber=function(e){return"[object Number]"===Object.prototype.toString.call(e)};t.isBoolean=function(e){return"[object Boolean]"===Object.prototype.toString.call(e)};t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)};t.isFunction=function(e){return"function"==typeof e};t.isValidLength=function(e,t){return(new n.g.TextEncoder).encode(e).length<=t};t.isStringANumber=function(e){return/^\d+$/.test(e)}},4983:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},638:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},9289:function(e,t,n){var r=n(4983);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6688:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},1313:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},6907:function(e,t,n){var r=n(4521);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3312:function(e,t,n){var r=n(4521);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},704:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3522:function(e,t,n){var r=n(7757);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},3859:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},5775:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},1384:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8559:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},6466:function(e,t,n){var r=n(2952).default,o=n(6688);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3055:function(e,t,n){var r=n(2952).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),s=new O(r||[]);return a(i,"_invoke",{value:b(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var m={};function g(){}function v(){}function y(){}var h={};f(h,u,(function(){return this}));var _=Object.getPrototypeOf,T=_&&_(_(k([])));T&&T!==n&&i.call(T,u)&&(h=T);var E=y.prototype=g.prototype=Object.create(h);function S(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function b(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function k(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=y,a(E,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=f(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,f(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(I.prototype),f(I.prototype,c,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new I(p(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),f(E,l,"Generator"),f(E,u,(function(){return this})),f(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},169:function(e,t,n){var r=n(638),o=n(5775),i=n(8877),a=n(1384);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},2337:function(e,t,n){var r=n(9289),o=n(3859),i=n(8877),a=n(8559);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8694:function(e,t,n){var r=n(2952).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4521:function(e,t,n){var r=n(2952).default,o=n(8694);e.exports=function(e){var t=o(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},2952:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},8877:function(e,t,n){var r=n(4983);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},2196:function(e,t,n){var r=n(2952),o=n(3055)();e.exports=o;try{regeneratorRuntime=o}catch(e){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},9173:function(e,t,n){"use strict";var r=n(169),o=n(2337),i=n(1313),a=n(6907);Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryReader=t.BinaryWriter=t.WireType=void 0;var s,u=n(8724),c=n(5307),l=n(1432);!function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(s=t.WireType||(t.WireType={}));var f=function(){function e(t){i(this,e),this.stack=[],this.textEncoder=null!=t?t:new TextEncoder,this.chunks=[],this.buf=[]}return a(e,[{key:"finish",value:function(){this.chunks.push(new Uint8Array(this.buf));for(var e=0,t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;for(var n=new Uint8Array(e),r=0,o=0;o<this.chunks.length;o++)n.set(this.chunks[o],r),r+=this.chunks[o].length;return this.chunks=[],n}},{key:"fork",value:function(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}},{key:"join",value:function(){var e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}},{key:"tag",value:function(e,t){return this.uint32((e<<3|t)>>>0)}},{key:"raw",value:function(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}},{key:"uint32",value:function(e){for((0,c.assertUInt32)(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}},{key:"int32",value:function(e){return(0,c.assertInt32)(e),(0,u.varint32write)(e,this.buf),this}},{key:"bool",value:function(e){return this.buf.push(e?1:0),this}},{key:"bytes",value:function(e){return this.uint32(e.byteLength),this.raw(e)}},{key:"string",value:function(e){var t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}},{key:"float",value:function(e){(0,c.assertFloat32)(e);var t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}},{key:"double",value:function(e){var t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}},{key:"fixed32",value:function(e){(0,c.assertUInt32)(e);var t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}},{key:"sfixed32",value:function(e){(0,c.assertInt32)(e);var t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}},{key:"sint32",value:function(e){return(0,c.assertInt32)(e),e=(e<<1^e>>31)>>>0,(0,u.varint32write)(e,this.buf),this}},{key:"sfixed64",value:function(e){var t=new Uint8Array(8),n=new DataView(t.buffer),r=l.protoInt64.enc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}},{key:"fixed64",value:function(e){var t=new Uint8Array(8),n=new DataView(t.buffer),r=l.protoInt64.uEnc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}},{key:"int64",value:function(e){var t=l.protoInt64.enc(e);return(0,u.varint64write)(t.lo,t.hi,this.buf),this}},{key:"sint64",value:function(e){var t=l.protoInt64.enc(e),n=t.hi>>31,r=t.lo<<1^n,o=(t.hi<<1|t.lo>>>31)^n;return(0,u.varint64write)(r,o,this.buf),this}},{key:"uint64",value:function(e){var t=l.protoInt64.uEnc(e);return(0,u.varint64write)(t.lo,t.hi,this.buf),this}}]),e}();t.BinaryWriter=f;var p=function(){function e(t,n){i(this,e),this.varint64=u.varint64read,this.uint32=u.varint32read,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=null!=n?n:new TextDecoder}return a(e,[{key:"tag",value:function(){var e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}},{key:"skip",value:function(e){var t=this.pos;switch(e){case s.Varint:for(;128&this.buf[this.pos++];);break;case s.Bit64:this.pos+=4;case s.Bit32:this.pos+=4;break;case s.LengthDelimited:var n=this.uint32();this.pos+=n;break;case s.StartGroup:for(var r;(r=this.tag()[1])!==s.EndGroup;)this.skip(r);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}},{key:"assertBounds",value:function(){if(this.pos>this.len)throw new RangeError("premature EOF")}},{key:"int32",value:function(){return 0|this.uint32()}},{key:"sint32",value:function(){var e=this.uint32();return e>>>1^-(1&e)}},{key:"int64",value:function(){var e;return(e=l.protoInt64).dec.apply(e,o(this.varint64()))}},{key:"uint64",value:function(){var e;return(e=l.protoInt64).uDec.apply(e,o(this.varint64()))}},{key:"sint64",value:function(){var e=this.varint64(),t=r(e,2),n=t[0],o=t[1],i=-(1&n);return n=(n>>>1|(1&o)<<31)^i,o=o>>>1^i,l.protoInt64.dec(n,o)}},{key:"bool",value:function(){var e=this.varint64(),t=r(e,2),n=t[0],o=t[1];return 0!==n||0!==o}},{key:"fixed32",value:function(){return this.view.getUint32((this.pos+=4)-4,!0)}},{key:"sfixed32",value:function(){return this.view.getInt32((this.pos+=4)-4,!0)}},{key:"fixed64",value:function(){return l.protoInt64.uDec(this.sfixed32(),this.sfixed32())}},{key:"sfixed64",value:function(){return l.protoInt64.dec(this.sfixed32(),this.sfixed32())}},{key:"float",value:function(){return this.view.getFloat32((this.pos+=4)-4,!0)}},{key:"double",value:function(){return this.view.getFloat64((this.pos+=8)-8,!0)}},{key:"bytes",value:function(){var e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}},{key:"string",value:function(){return this.textDecoder.decode(this.bytes())}}]),e}();t.BinaryReader=p},6001:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codegenInfo=void 0;var r=n(9835),o=n(8074),i=n(2902),a=n(2252),s="@bufbuild/protobuf";t.codegenInfo={packageName:s,localName:r.localName,reifyWkt:a.reifyWkt,getUnwrappedFieldType:o.getUnwrappedFieldType,scalarDefaultValue:i.scalarDefaultValue,safeIdentifier:r.safeIdentifier,safeObjectProperty:r.safeObjectProperty,symbols:{proto2:{typeOnly:!1,privateImportPath:"./proto2.js",publicImportPath:s},proto3:{typeOnly:!1,privateImportPath:"./proto3.js",publicImportPath:s},Message:{typeOnly:!1,privateImportPath:"./message.js",publicImportPath:s},PartialMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:s},PlainMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:s},FieldList:{typeOnly:!0,privateImportPath:"./field-list.js",publicImportPath:s},MessageType:{typeOnly:!0,privateImportPath:"./message-type.js",publicImportPath:s},BinaryReadOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:s},BinaryWriteOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:s},JsonReadOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:s},JsonWriteOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:s},JsonValue:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:s},JsonObject:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:s},protoInt64:{typeOnly:!1,privateImportPath:"./proto-int64.js",publicImportPath:s},ScalarType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:s},MethodKind:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:s},MethodIdempotency:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:s},IMessageTypeRegistry:{typeOnly:!0,privateImportPath:"./type-registry.js",publicImportPath:s}},wktSourceFiles:["google/protobuf/compiler/plugin.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/wrappers.proto"]}},3551:function(e,t,n){"use strict";var r,o=n(3312),i=n(2337);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.isPackedFieldByDefault=t.createDescriptorSet=void 0;var u=n(4549),c=n(5307),l=n(5758),f=n(9110),p=n(9835),d=n(1432);function m(e,t){switch(e.kind){case"file":var n,r=a(e.proto.extension);try{for(r.s();!(n=r.n()).done;){var o=E(n.value,e,void 0,t);e.extensions.push(o),t.extensions.set(o.typeName,o)}}catch(e){r.e(e)}finally{r.f()}break;case"message":var i,s=a(e.proto.extension);try{for(s.s();!(i=s.n()).done;){var u=E(i.value,e.file,e,t);e.nestedExtensions.push(u),t.extensions.set(u.typeName,u)}}catch(e){s.e(e)}finally{s.f()}var c,l=a(e.nestedMessages);try{for(l.s();!(c=l.n()).done;){m(c.value,t)}}catch(e){l.e(e)}finally{l.f()}}}function g(e,t){var n,r=e.proto.oneofDecl.map((function(t){return function(e,t){return(0,c.assert)(e.name,"invalid OneofDescriptorProto: missing name"),{kind:"oneof",proto:e,deprecated:!1,parent:t,fields:[],name:e.name,toString:function(){return"oneof ".concat(t.typeName,".").concat(this.name)},getComments:function(){var e=[].concat(i(this.parent.getComments().sourcePath),[A.DescriptorProto_OneofDecl,this.parent.proto.oneofDecl.indexOf(this.proto)]);return k(t.file.proto.sourceCodeInfo,e)}}}(t,e)})),o=new Set,s=a(e.proto.field);try{for(s.s();!(n=s.n()).done;){var u=n.value,l=b(u,r),f=T(u,e.file,e,l,t);e.fields.push(f),void 0===l?e.members.push(f):(l.fields.push(f),o.has(l)||(o.add(l),e.members.push(l)))}}catch(e){s.e(e)}finally{s.f()}var p,d=a(r.filter((function(e){return o.has(e)})));try{for(d.s();!(p=d.n()).done;){var m=p.value;e.oneofs.push(m)}}catch(e){d.e(e)}finally{d.f()}var v,y=a(e.nestedMessages);try{for(y.s();!(v=y.n()).done;){g(v.value,t)}}catch(e){y.e(e)}finally{y.f()}}function v(e,t,n,r){var o,a,s;(0,c.assert)(e.name,"invalid EnumDescriptorProto: missing name");var u={kind:"enum",proto:e,deprecated:null!==(a=null===(o=e.options)||void 0===o?void 0:o.deprecated)&&void 0!==a&&a,file:t,parent:n,name:e.name,typeName:S(e,n,t),values:[],sharedPrefix:(0,p.findEnumSharedPrefix)(e.name,e.value.map((function(e){var t;return null!==(t=e.name)&&void 0!==t?t:""}))),toString:function(){return"enum ".concat(this.typeName)},getComments:function(){var e=this.parent?[].concat(i(this.parent.getComments().sourcePath),[A.DescriptorProto_EnumType,this.parent.proto.enumType.indexOf(this.proto)]):[A.FileDescriptorProto_EnumType,this.file.proto.enumType.indexOf(this.proto)];return k(t.proto.sourceCodeInfo,e)}};r.enums.set(u.typeName,u),e.value.forEach((function(e){var n,r;(0,c.assert)(e.name,"invalid EnumValueDescriptorProto: missing name"),(0,c.assert)(void 0!==e.number,"invalid EnumValueDescriptorProto: missing number"),u.values.push({kind:"enum_value",proto:e,deprecated:null!==(r=null===(n=e.options)||void 0===n?void 0:n.deprecated)&&void 0!==r&&r,parent:u,name:e.name,number:e.number,toString:function(){return"enum value ".concat(u.typeName,".").concat(this.name)},declarationString:function(){var e,t="".concat(this.name," = ").concat(this.number);return!0===(null===(e=this.proto.options)||void 0===e?void 0:e.deprecated)&&(t+=" [deprecated = true]"),t},getComments:function(){var e=[].concat(i(this.parent.getComments().sourcePath),[A.EnumDescriptorProto_Value,this.parent.proto.value.indexOf(this.proto)]);return k(t.proto.sourceCodeInfo,e)}})})),(null!==(s=null==n?void 0:n.nestedEnums)&&void 0!==s?s:t.enums).push(u)}function y(e,t,n,r){var o,s,u,l;(0,c.assert)(e.name,"invalid DescriptorProto: missing name");var f={kind:"message",proto:e,deprecated:null!==(s=null===(o=e.options)||void 0===o?void 0:o.deprecated)&&void 0!==s&&s,file:t,parent:n,name:e.name,typeName:S(e,n,t),fields:[],oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString:function(){return"message ".concat(this.typeName)},getComments:function(){var e=this.parent?[].concat(i(this.parent.getComments().sourcePath),[A.DescriptorProto_NestedType,this.parent.proto.nestedType.indexOf(this.proto)]):[A.FileDescriptorProto_MessageType,this.file.proto.messageType.indexOf(this.proto)];return k(t.proto.sourceCodeInfo,e)}};!0===(null===(u=e.options)||void 0===u?void 0:u.mapEntry)?r.mapEntries.set(f.typeName,f):((null!==(l=null==n?void 0:n.nestedMessages)&&void 0!==l?l:t.messages).push(f),r.messages.set(f.typeName,f));var p,d=a(e.enumType);try{for(d.s();!(p=d.n()).done;){v(p.value,t,f,r)}}catch(e){d.e(e)}finally{d.f()}var m,g=a(e.nestedType);try{for(g.s();!(m=g.n()).done;){y(m.value,t,f,r)}}catch(e){g.e(e)}finally{g.f()}}function h(e,t,n){var r,o;(0,c.assert)(e.name,"invalid ServiceDescriptorProto: missing name");var i={kind:"service",proto:e,deprecated:null!==(o=null===(r=e.options)||void 0===r?void 0:r.deprecated)&&void 0!==o&&o,file:t,name:e.name,typeName:S(e,void 0,t),methods:[],toString:function(){return"service ".concat(this.typeName)},getComments:function(){var e=[A.FileDescriptorProto_Service,this.file.proto.service.indexOf(this.proto)];return k(t.proto.sourceCodeInfo,e)}};t.services.push(i),n.services.set(i.typeName,i);var s,u=a(e.method);try{for(u.s();!(s=u.n()).done;){var l=s.value;i.methods.push(_(l,i,n))}}catch(e){u.e(e)}finally{u.f()}}function _(e,t,n){var r,o,a,s,l;switch((0,c.assert)(e.name,"invalid MethodDescriptorProto: missing name"),(0,c.assert)(e.inputType,"invalid MethodDescriptorProto: missing input_type"),(0,c.assert)(e.outputType,"invalid MethodDescriptorProto: missing output_type"),s=!0===e.clientStreaming&&!0===e.serverStreaming?f.MethodKind.BiDiStreaming:!0===e.clientStreaming?f.MethodKind.ClientStreaming:!0===e.serverStreaming?f.MethodKind.ServerStreaming:f.MethodKind.Unary,null===(r=e.options)||void 0===r?void 0:r.idempotencyLevel){case u.MethodOptions_IdempotencyLevel.IDEMPOTENT:l=f.MethodIdempotency.Idempotent;break;case u.MethodOptions_IdempotencyLevel.NO_SIDE_EFFECTS:l=f.MethodIdempotency.NoSideEffects;break;case u.MethodOptions_IdempotencyLevel.IDEMPOTENCY_UNKNOWN:case void 0:l=void 0}var p=n.messages.get(I(e.inputType)),d=n.messages.get(I(e.outputType));(0,c.assert)(p,"invalid MethodDescriptorProto: input_type ".concat(e.inputType," not found")),(0,c.assert)(d,"invalid MethodDescriptorProto: output_type ".concat(e.inputType," not found"));var m=e.name;return{kind:"rpc",proto:e,deprecated:null!==(a=null===(o=e.options)||void 0===o?void 0:o.deprecated)&&void 0!==a&&a,parent:t,name:m,methodKind:s,input:p,output:d,idempotency:l,toString:function(){return"rpc ".concat(t.typeName,".").concat(m)},getComments:function(){var e=[].concat(i(this.parent.getComments().sourcePath),[A.ServiceDescriptorProto_Method,this.parent.proto.method.indexOf(this.proto)]);return k(t.file.proto.sourceCodeInfo,e)}}}function T(e,t,n,r,o){var a,s,f,d;(0,c.assert)(e.name,"invalid FieldDescriptorProto: missing name"),(0,c.assert)(e.number,"invalid FieldDescriptorProto: missing number"),(0,c.assert)(e.type,"invalid FieldDescriptorProto: missing type");var m=P(e,t.syntax),g={proto:e,deprecated:null!==(s=null===(a=e.options)||void 0===a?void 0:a.deprecated)&&void 0!==s&&s,name:e.name,number:e.number,parent:n,oneof:r,optional:w(e,t.syntax),packed:null!==(d=null===(f=e.options)||void 0===f?void 0:f.packed)&&void 0!==d?d:m,packedByDefault:m,jsonName:e.jsonName===(0,p.fieldJsonName)(e.name)?void 0:e.jsonName,scalar:void 0,message:void 0,enum:void 0,mapKey:void 0,mapValue:void 0,toString:function(){return"field ".concat(this.parent.typeName,".").concat(this.name)},declarationString:N,getComments:function(){var e=[].concat(i(this.parent.getComments().sourcePath),[A.DescriptorProto_Field,this.parent.proto.field.indexOf(this.proto)]);return k(t.proto.sourceCodeInfo,e)}},v=e.label===u.FieldDescriptorProto_Label.REPEATED;switch(e.type){case u.FieldDescriptorProto_Type.MESSAGE:case u.FieldDescriptorProto_Type.GROUP:(0,c.assert)(e.typeName,"invalid FieldDescriptorProto: missing type_name");var y=o.mapEntries.get(I(e.typeName));if(void 0!==y)return(0,c.assert)(v,"invalid FieldDescriptorProto: expected map entry to be repeated"),Object.assign(Object.assign(Object.assign({},g),{kind:"field",fieldKind:"map",repeated:!1}),function(e){var t,n;(0,c.assert)(null===(t=e.proto.options)||void 0===t?void 0:t.mapEntry,"invalid DescriptorProto: expected ".concat(e.toString()," to be a map entry")),(0,c.assert)(2===e.fields.length,"invalid DescriptorProto: map entry ".concat(e.toString()," has ").concat(e.fields.length," fields"));var r=e.fields.find((function(e){return 1===e.proto.number}));(0,c.assert)(r,"invalid DescriptorProto: map entry ".concat(e.toString()," is missing key field"));var o=r.scalar;(0,c.assert)(void 0!==o&&o!==l.ScalarType.BYTES&&o!==l.ScalarType.FLOAT&&o!==l.ScalarType.DOUBLE,"invalid DescriptorProto: map entry ".concat(e.toString()," has unexpected key type ").concat(null!==(n=r.proto.type)&&void 0!==n?n:-1));var i=e.fields.find((function(e){return 2===e.proto.number}));switch((0,c.assert)(i,"invalid DescriptorProto: map entry ".concat(e.toString()," is missing value field")),i.fieldKind){case"scalar":return{mapKey:o,mapValue:Object.assign(Object.assign({},i),{kind:"scalar"})};case"message":return{mapKey:o,mapValue:Object.assign(Object.assign({},i),{kind:"message"})};case"enum":return{mapKey:o,mapValue:Object.assign(Object.assign({},i),{kind:"enum"})};default:throw new Error("invalid DescriptorProto: unsupported map entry value field")}}(y));var h=o.messages.get(I(e.typeName));return(0,c.assert)(void 0!==h,"invalid FieldDescriptorProto: type_name ".concat(e.typeName," not found")),Object.assign(Object.assign({},g),{kind:"field",fieldKind:"message",repeated:v,message:h});case u.FieldDescriptorProto_Type.ENUM:(0,c.assert)(e.typeName,"invalid FieldDescriptorProto: missing type_name");var _=o.enums.get(I(e.typeName));return(0,c.assert)(void 0!==_,"invalid FieldDescriptorProto: type_name ".concat(e.typeName," not found")),Object.assign(Object.assign({},g),{kind:"field",fieldKind:"enum",getDefaultValue:M,repeated:v,enum:_});default:var T=O[e.type];return(0,c.assert)(T,"invalid FieldDescriptorProto: unknown type ".concat(e.type)),Object.assign(Object.assign({},g),{kind:"field",fieldKind:"scalar",getDefaultValue:M,repeated:v,scalar:T})}}function E(e,t,n,r){(0,c.assert)(e.extendee,"invalid FieldDescriptorProto: missing extendee");var o=T(e,t,null,void 0,r),a=r.messages.get(I(e.extendee));return(0,c.assert)(a,"invalid FieldDescriptorProto: extendee ".concat(e.extendee," not found")),Object.assign(Object.assign({},o),{kind:"extension",typeName:S(e,n,t),parent:n,file:t,extendee:a,toString:function(){return"extension ".concat(this.typeName)},getComments:function(){var n=this.parent?[].concat(i(this.parent.getComments().sourcePath),[A.DescriptorProto_Extension,this.parent.proto.extension.indexOf(e)]):[A.FileDescriptorProto_Extension,this.file.proto.extension.indexOf(e)];return k(t.proto.sourceCodeInfo,n)}})}function S(e,t,n){return(0,c.assert)(e.name,"invalid ".concat(e.getType().typeName,": missing name")),t?"".concat(t.typeName,".").concat(e.name):void 0!==n.proto.package?"".concat(n.proto.package,".").concat(e.name):"".concat(e.name)}function I(e){return e.startsWith(".")?e.substring(1):e}function b(e,t){var n,r,o=e.oneofIndex;if(void 0!==o)return!0!==e.proto3Optional&&(r=t[o],(0,c.assert)(r,"invalid FieldDescriptorProto: oneof #".concat(o," for field #").concat(null!==(n=e.number)&&void 0!==n?n:-1," not found"))),r}function w(e,t){switch(t){case"proto2":return void 0===e.oneofIndex&&e.label===u.FieldDescriptorProto_Label.OPTIONAL;case"proto3":return!0===e.proto3Optional}}function P(e,t){if((0,c.assert)(e.type,"invalid FieldDescriptorProto: missing type"),"proto3"===t)switch(e.type){case u.FieldDescriptorProto_Type.DOUBLE:case u.FieldDescriptorProto_Type.FLOAT:case u.FieldDescriptorProto_Type.INT64:case u.FieldDescriptorProto_Type.UINT64:case u.FieldDescriptorProto_Type.INT32:case u.FieldDescriptorProto_Type.FIXED64:case u.FieldDescriptorProto_Type.FIXED32:case u.FieldDescriptorProto_Type.UINT32:case u.FieldDescriptorProto_Type.SFIXED32:case u.FieldDescriptorProto_Type.SFIXED64:case u.FieldDescriptorProto_Type.SINT32:case u.FieldDescriptorProto_Type.SINT64:case u.FieldDescriptorProto_Type.BOOL:case u.FieldDescriptorProto_Type.ENUM:return!0;default:return!1}return!1}t.createDescriptorSet=function(e){var t={enums:new Map,messages:new Map,services:new Map,extensions:new Map,mapEntries:new Map},n=(e instanceof u.FileDescriptorSet?e.file:e instanceof Uint8Array?u.FileDescriptorSet.fromBinary(e).file:e).map((function(e){return function(e,t){var n,r,o;(0,c.assert)(e.name,"invalid FileDescriptorProto: missing name"),(0,c.assert)(void 0===e.syntax||"proto3"===e.syntax,"invalid FileDescriptorProto: unsupported syntax: ".concat(null!==(n=e.syntax)&&void 0!==n?n:"undefined"));var i={kind:"file",proto:e,deprecated:null!==(o=null===(r=e.options)||void 0===r?void 0:r.deprecated)&&void 0!==o&&o,syntax:"proto3"===e.syntax?"proto3":"proto2",name:e.name.replace(/\.proto/,""),enums:[],messages:[],extensions:[],services:[],toString:function(){return"file ".concat(this.proto.name)},getSyntaxComments:function(){return k(this.proto.sourceCodeInfo,[A.FileDescriptorProto_Syntax])},getPackageComments:function(){return k(this.proto.sourceCodeInfo,[A.FileDescriptorProto_Package])}};t.mapEntries.clear();var s,u=a(e.enumType);try{for(u.s();!(s=u.n()).done;){v(s.value,i,void 0,t)}}catch(e){u.e(e)}finally{u.f()}var l,f=a(e.messageType);try{for(f.s();!(l=f.n()).done;){y(l.value,i,void 0,t)}}catch(e){f.e(e)}finally{f.f()}var p,d=a(e.service);try{for(d.s();!(p=d.n()).done;){h(p.value,i,t)}}catch(e){d.e(e)}finally{d.f()}m(i,t);var _,T=a(t.mapEntries.values());try{for(T.s();!(_=T.n()).done;){g(_.value,t)}}catch(e){T.e(e)}finally{T.f()}var E,S=a(i.messages);try{for(S.s();!(E=S.n()).done;){var I=E.value;g(I,t),m(I,t)}}catch(e){S.e(e)}finally{S.f()}return t.mapEntries.clear(),i}(e,t)}));return Object.assign({files:n},t)},t.isPackedFieldByDefault=P;var A,O=(o(r={},u.FieldDescriptorProto_Type.DOUBLE,l.ScalarType.DOUBLE),o(r,u.FieldDescriptorProto_Type.FLOAT,l.ScalarType.FLOAT),o(r,u.FieldDescriptorProto_Type.INT64,l.ScalarType.INT64),o(r,u.FieldDescriptorProto_Type.UINT64,l.ScalarType.UINT64),o(r,u.FieldDescriptorProto_Type.INT32,l.ScalarType.INT32),o(r,u.FieldDescriptorProto_Type.FIXED64,l.ScalarType.FIXED64),o(r,u.FieldDescriptorProto_Type.FIXED32,l.ScalarType.FIXED32),o(r,u.FieldDescriptorProto_Type.BOOL,l.ScalarType.BOOL),o(r,u.FieldDescriptorProto_Type.STRING,l.ScalarType.STRING),o(r,u.FieldDescriptorProto_Type.GROUP,void 0),o(r,u.FieldDescriptorProto_Type.MESSAGE,void 0),o(r,u.FieldDescriptorProto_Type.BYTES,l.ScalarType.BYTES),o(r,u.FieldDescriptorProto_Type.UINT32,l.ScalarType.UINT32),o(r,u.FieldDescriptorProto_Type.ENUM,void 0),o(r,u.FieldDescriptorProto_Type.SFIXED32,l.ScalarType.SFIXED32),o(r,u.FieldDescriptorProto_Type.SFIXED64,l.ScalarType.SFIXED64),o(r,u.FieldDescriptorProto_Type.SINT32,l.ScalarType.SINT32),o(r,u.FieldDescriptorProto_Type.SINT64,l.ScalarType.SINT64),r);function k(e,t){if(!e)return{leadingDetached:[],sourcePath:t};var n,r=a(e.location);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.path.length===t.length&&!o.path.some((function(e,n){return t[n]!==e})))return{leadingDetached:o.leadingDetachedComments,leading:o.leadingComments,trailing:o.trailingComments,sourcePath:t}}}catch(e){r.e(e)}finally{r.f()}return{leadingDetached:[],sourcePath:t}}function N(){var e,t,n,r=[];switch(this.repeated&&r.push("repeated"),this.optional&&r.push("optional"),"proto2"==("extension"===this.kind?this.file:this.parent.file).syntax&&this.proto.label===u.FieldDescriptorProto_Label.REQUIRED&&r.push("required"),this.fieldKind){case"scalar":n=l.ScalarType[this.scalar].toLowerCase();break;case"enum":n=this.enum.typeName;break;case"message":n=this.message.typeName;break;case"map":var o,i=l.ScalarType[this.mapKey].toLowerCase();switch(this.mapValue.kind){case"scalar":o=l.ScalarType[this.mapValue.scalar].toLowerCase();break;case"enum":o=this.mapValue.enum.typeName;break;case"message":o=this.mapValue.message.typeName}n="map<".concat(i,", ").concat(o,">")}r.push("".concat(n," ").concat(this.name," = ").concat(this.number));var a=[];void 0!==(null===(e=this.proto.options)||void 0===e?void 0:e.packed)&&a.push("packed = ".concat(this.proto.options.packed.toString()));var s=this.proto.defaultValue;return void 0!==s&&(this.proto.type!=u.FieldDescriptorProto_Type.BYTES&&this.proto.type!=u.FieldDescriptorProto_Type.STRING||(s='"'+s.replace('"','\\"')+'"'),a.push("default = ".concat(s))),void 0!==this.jsonName&&a.push('json_name = "'.concat(this.jsonName,'"')),!0===(null===(t=this.proto.options)||void 0===t?void 0:t.deprecated)&&a.push("deprecated = true"),a.length>0&&r.push("["+a.join(", ")+"]"),r.join(" ")}function M(){var e=this.proto.defaultValue;if(void 0!==e)switch(this.fieldKind){case"enum":var t=this.enum.values.find((function(t){return t.name===e}));return(0,c.assert)(t,"cannot parse ".concat(this.toString()," default value: ").concat(e)),t.number;case"scalar":switch(this.scalar){case l.ScalarType.STRING:return e;case l.ScalarType.BYTES:var n=function(e){var t=[],n={tail:e,c:"",next:function(){return 0!=this.tail.length&&(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take:function(e){if(this.tail.length>=e){var t=this.tail.substring(0,e);return this.tail=this.tail.substring(e),t}return!1}};for(;n.next();)if("\\"===n.c){if(n.next())switch(n.c){case"\\":t.push(n.c.charCodeAt(0));break;case"b":t.push(8);break;case"f":t.push(12);break;case"n":t.push(10);break;case"r":t.push(13);break;case"t":t.push(9);break;case"v":t.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":var r=n.c,o=n.take(2);if(!1===o)return!1;var i=parseInt(r+o,8);if(isNaN(i))return!1;t.push(i);break;case"x":var a=n.c,s=n.take(2);if(!1===s)return!1;var u=parseInt(a+s,16);if(isNaN(u))return!1;t.push(u);break;case"u":var c=n.c,l=n.take(4);if(!1===l)return!1;var f=parseInt(c+l,16);if(isNaN(f))return!1;var p=new Uint8Array(4);new DataView(p.buffer).setInt32(0,f,!0),t.push(p[0],p[1],p[2],p[3]);break;case"U":var m=n.c,g=n.take(8);if(!1===g)return!1;var v=d.protoInt64.uEnc(m+g),y=new Uint8Array(8),h=new DataView(y.buffer);h.setInt32(0,v.lo,!0),h.setInt32(4,v.hi,!0),t.push(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7])}}else t.push(n.c.charCodeAt(0));return new Uint8Array(t)}(e);if(!1===n)throw new Error("cannot parse ".concat(this.toString()," default value: ").concat(e));return n;case l.ScalarType.INT64:case l.ScalarType.SFIXED64:case l.ScalarType.SINT64:return d.protoInt64.parse(e);case l.ScalarType.UINT64:case l.ScalarType.FIXED64:return d.protoInt64.uParse(e);case l.ScalarType.DOUBLE:case l.ScalarType.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case l.ScalarType.BOOL:return"true"===e;case l.ScalarType.INT32:case l.ScalarType.UINT32:case l.ScalarType.SINT32:case l.ScalarType.FIXED32:case l.ScalarType.SFIXED32:return parseInt(e,10)}break;default:return}}!function(e){e[e.FileDescriptorProto_Package=2]="FileDescriptorProto_Package",e[e.FileDescriptorProto_MessageType=4]="FileDescriptorProto_MessageType",e[e.FileDescriptorProto_EnumType=5]="FileDescriptorProto_EnumType",e[e.FileDescriptorProto_Service=6]="FileDescriptorProto_Service",e[e.FileDescriptorProto_Extension=7]="FileDescriptorProto_Extension",e[e.FileDescriptorProto_Syntax=12]="FileDescriptorProto_Syntax",e[e.DescriptorProto_Field=2]="DescriptorProto_Field",e[e.DescriptorProto_NestedType=3]="DescriptorProto_NestedType",e[e.DescriptorProto_EnumType=4]="DescriptorProto_EnumType",e[e.DescriptorProto_Extension=6]="DescriptorProto_Extension",e[e.DescriptorProto_OneofDecl=8]="DescriptorProto_OneofDecl",e[e.EnumDescriptorProto_Value=2]="EnumDescriptorProto_Value",e[e.ServiceDescriptorProto_Method=2]="ServiceDescriptorProto_Method"}(A||(A={}))},881:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.createRegistryFromDescriptors=void 0;var i=n(5307),a=n(7418),s=n(6581),u=n(9835),c=n(553),l=n(3980),f=n(187),p=n(6303),d=n(5760),m=n(630),g=n(8975),v=n(9341),y=n(4549),h=n(3551),_=[f.Any,l.Duration,p.Empty,d.FieldMask,m.Struct,m.Value,m.ListValue,c.Timestamp,l.Duration,v.DoubleValue,v.FloatValue,v.Int64Value,v.Int32Value,v.UInt32Value,v.UInt64Value,v.BoolValue,v.StringValue,v.BytesValue],T=[(0,g.getEnumType)(m.NullValue)];function E(e,t){switch(e.fieldKind){case"map":return function(e,t){var n={kind:"map",no:e.number,name:e.name,jsonName:e.jsonName,K:e.mapKey};if(e.mapValue.message){var r=t.findMessage(e.mapValue.message.typeName);return(0,i.assert)(r,'message "'.concat(e.mapValue.message.typeName,'" for ').concat(e.toString()," not found")),Object.assign(Object.assign({},n),{V:{kind:"message",T:r}})}if(e.mapValue.enum){var o=t.findEnum(e.mapValue.enum.typeName);return(0,i.assert)(o,'enum "'.concat(e.mapValue.enum.typeName,'" for ').concat(e.toString()," not found")),Object.assign(Object.assign({},n),{V:{kind:"enum",T:o}})}return Object.assign(Object.assign({},n),{V:{kind:"scalar",T:e.mapValue.scalar}})}(e,t);case"message":return function(e,t){var n=t.findMessage(e.message.typeName);(0,i.assert)(n,'message "'.concat(e.message.typeName,'" for ').concat(e.toString()," not found"));var r={kind:"message",no:e.number,name:e.name,jsonName:e.jsonName,T:n};if(e.repeated)return Object.assign(Object.assign({},r),{repeated:!0,packed:e.packed,oneof:void 0});if(e.oneof)return Object.assign(Object.assign({},r),{oneof:e.oneof.name});if(e.optional)return Object.assign(Object.assign({},r),{opt:!0});return r}(e,t);case"enum":var n=function(e,t){var n=t.findEnum(e.enum.typeName);(0,i.assert)(n,'enum "'.concat(e.enum.typeName,'" for ').concat(e.toString()," not found"));var r={kind:"enum",no:e.number,name:e.name,jsonName:e.jsonName,T:n};if(e.repeated)return Object.assign(Object.assign({},r),{repeated:!0,packed:e.packed,oneof:void 0});if(e.oneof)return Object.assign(Object.assign({},r),{oneof:e.oneof.name});if(e.optional)return Object.assign(Object.assign({},r),{opt:!0});return r}(e,t);return n.default=e.getDefaultValue(),n;case"scalar":var r=function(e){var t={kind:"scalar",no:e.number,name:e.name,jsonName:e.jsonName,T:e.scalar};if(e.repeated)return Object.assign(Object.assign({},t),{repeated:!0,packed:e.packed,oneof:void 0,T:e.scalar});if(e.oneof)return Object.assign(Object.assign({},t),{oneof:e.oneof.name});if(e.optional)return Object.assign(Object.assign({},t),{opt:!0});return t}(e);return r.default=e.getDefaultValue(),r}}t.createRegistryFromDescriptors=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e instanceof Uint8Array||e instanceof y.FileDescriptorSet?(0,h.createDescriptorSet)(e):e,o={},c={},l={};if(t){var f,p=r(_);try{for(p.s();!(f=p.n()).done;){var d=f.value;c[d.typeName]=d}}catch(e){p.e(e)}finally{p.f()}var m,g=r(T);try{for(g.s();!(m=g.n()).done;){var v=m.value;o[v.typeName]=v}}catch(e){g.e(e)}finally{g.f()}}return{findEnum:function(e){var t=o[e];if(t)return t;var r=n.enums.get(e);if(r){var i=("proto3"==r.file.syntax?a.proto3:s.proto2).makeEnumType(e,r.values.map((function(e){return{no:e.number,name:e.name,localName:(0,u.localName)(e)}})),{});return o[e]=i,i}},findMessage:function(e){var t=c[e];if(t)return t;var o=n.messages.get(e);if(o){var i="proto3"==o.file.syntax?a.proto3:s.proto2,l=[],f=i.makeMessageType(e,(function(){return l}),{localName:(0,u.localName)(o)});c[e]=f;var p,d=r(o.fields);try{for(d.s();!(p=d.n()).done;){var m=E(p.value,this);l.push(m)}}catch(e){d.e(e)}finally{d.f()}return f}},findService:function(e){var t=l[e];if(t)return t;var o=n.services.get(e);if(o){var a,s={},c=r(o.methods);try{for(c.s();!(a=c.n()).done;){var f=a.value,p=this.findMessage(f.input.typeName),d=this.findMessage(f.output.typeName);(0,i.assert)(p,'message "'.concat(f.input.typeName,'" for ').concat(f.toString()," not found")),(0,i.assert)(d,'output message "'.concat(f.output.typeName,'" for ').concat(f.toString()," not found")),s[(0,u.localName)(f)]={name:f.name,I:p,O:d,kind:f.methodKind,idempotency:f.idempotency}}}catch(e){c.e(e)}finally{c.f()}return l[e]={typeName:o.typeName,methods:s}}}}}},8120:function(e,t){"use strict";function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.createRegistry=void 0,t.createRegistry=function(){for(var e={},t={},r={},o={add:function(o){if("fields"in o){if(!this.findMessage(o.typeName)){e[o.typeName]=o;var i,a=n(o.fields.list());try{for(a.s();!(i=a.n()).done;){var s=i.value;"message"==s.kind?this.add(s.T):"map"==s.kind&&"message"==s.V.kind?this.add(s.V.T):"enum"==s.kind&&this.add(s.T)}}catch(e){a.e(e)}finally{a.f()}}}else if("methods"in o){if(!this.findService(o.typeName)){r[o.typeName]=o;for(var u=0,c=Object.values(o.methods);u<c.length;u++){var l=c[u];this.add(l.I),this.add(l.O)}}}else t[o.typeName]=o},findMessage:function(t){return e[t]},findEnum:function(e){return t[e]},findService:function(e){return r[e]}},i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];for(var u=0,c=a;u<c.length;u++){var l=c[u];o.add(l)}return o}},5561:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5758:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScalarType=void 0,function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(t.ScalarType||(t.ScalarType={}))},187:function(e,t,n){"use strict";var r=n(2952),o=n(1313),i=n(6907),a=n(6688),s=n(3522),u=n(6466),c=n(704);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Any=void 0;var f=n(8099),p=n(7418),d=function(e){s(n,e);var t=l(n);function n(e){var r;return o(this,n),(r=t.call(this)).typeUrl="",r.value=new Uint8Array(0),p.proto3.util.initPartial(e,a(r)),r}return i(n,[{key:"toJson",value:function(e){var t;if(""===this.typeUrl)return{};var n=this.typeUrlToName(this.typeUrl),o=null===(t=null==e?void 0:e.typeRegistry)||void 0===t?void 0:t.findMessage(n);if(!o)throw new Error('cannot encode message google.protobuf.Any to JSON: "'.concat(this.typeUrl,'" is not in the type registry'));var i=o.fromBinary(this.value).toJson(e);return(n.startsWith("google.protobuf.")||null===i||Array.isArray(i)||"object"!==r(i))&&(i={value:i}),i["@type"]=this.typeUrl,i}},{key:"fromJson",value:function(e,t){var n;if(null===e||Array.isArray(e)||"object"!=r(e))throw new Error("cannot decode message google.protobuf.Any from JSON: expected object but got ".concat(null===e?"null":Array.isArray(e)?"array":r(e)));if(0==Object.keys(e).length)return this;var o=e["@type"];if("string"!=typeof o||""==o)throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');var i,a=this.typeUrlToName(o),s=null===(n=null==t?void 0:t.typeRegistry)||void 0===n?void 0:n.findMessage(a);if(!s)throw new Error("cannot decode message google.protobuf.Any from JSON: ".concat(o," is not in the type registry"));if(a.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))i=s.fromJson(e.value,t);else{var u=Object.assign({},e);delete u["@type"],i=s.fromJson(u,t)}return this.packFrom(i),this}},{key:"packFrom",value:function(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}},{key:"unpackTo",value:function(e){return!!this.is(e.getType())&&(e.fromBinary(this.value),!0)}},{key:"unpack",value:function(e){if(""!==this.typeUrl){var t=e.findMessage(this.typeUrlToName(this.typeUrl));if(t)return t.fromBinary(this.value)}}},{key:"is",value:function(e){if(""===this.typeUrl)return!1;return this.typeUrlToName(this.typeUrl)===("string"==typeof e?e:e.typeName)}},{key:"typeNameToUrl",value:function(e){return"type.googleapis.com/".concat(e)}},{key:"typeUrlToName",value:function(e){if(!e.length)throw new Error("invalid type url: ".concat(e));var t=e.lastIndexOf("/"),n=t>0?e.substring(t+1):e;if(!n.length)throw new Error("invalid type url: ".concat(e));return n}}],[{key:"pack",value:function(e){var t=new n;return t.packFrom(e),t}},{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return p.proto3.util.equals(n,e,t)}}]),n}(f.Message);t.Any=d,d.runtime=p.proto3,d.typeName="google.protobuf.Any",d.fields=p.proto3.util.newFieldList((function(){return[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]}))},197:function(e,t,n){"use strict";var r=n(1313),o=n(6907),i=n(6688),a=n(3522),s=n(6466),u=n(704);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Mixin=t.Method=t.Api=void 0;var l=n(8099),f=n(6779),p=n(2164),d=n(7418),m=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).name="",o.methods=[],o.options=[],o.version="",o.mixins=[],o.syntax=f.Syntax.PROTO2,d.proto3.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return d.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.Api=m,m.runtime=d.proto3,m.typeName="google.protobuf.Api",m.fields=d.proto3.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"methods",kind:"message",T:g,repeated:!0},{no:3,name:"options",kind:"message",T:f.Option,repeated:!0},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"source_context",kind:"message",T:p.SourceContext},{no:6,name:"mixins",kind:"message",T:v,repeated:!0},{no:7,name:"syntax",kind:"enum",T:d.proto3.getEnumType(f.Syntax)}]}));var g=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).name="",o.requestTypeUrl="",o.requestStreaming=!1,o.responseTypeUrl="",o.responseStreaming=!1,o.options=[],o.syntax=f.Syntax.PROTO2,d.proto3.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return d.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.Method=g,g.runtime=d.proto3,g.typeName="google.protobuf.Method",g.fields=d.proto3.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"request_type_url",kind:"scalar",T:9},{no:3,name:"request_streaming",kind:"scalar",T:8},{no:4,name:"response_type_url",kind:"scalar",T:9},{no:5,name:"response_streaming",kind:"scalar",T:8},{no:6,name:"options",kind:"message",T:f.Option,repeated:!0},{no:7,name:"syntax",kind:"enum",T:d.proto3.getEnumType(f.Syntax)}]}));var v=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).name="",o.root="",d.proto3.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return d.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.Mixin=v,v.runtime=d.proto3,v.typeName="google.protobuf.Mixin",v.fields=d.proto3.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"root",kind:"scalar",T:9}]}))},1634:function(e,t,n){"use strict";var r=n(1313),o=n(6907),i=n(6688),a=n(3522),s=n(6466),u=n(704);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGeneratorResponse_File=t.CodeGeneratorResponse_Feature=t.CodeGeneratorResponse=t.CodeGeneratorRequest=t.Version=void 0;var l=n(8099),f=n(6581),p=n(4549),d=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),o=t.call(this),f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.Version=d,d.runtime=f.proto2,d.typeName="google.protobuf.compiler.Version",d.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"major",kind:"scalar",T:5,opt:!0},{no:2,name:"minor",kind:"scalar",T:5,opt:!0},{no:3,name:"patch",kind:"scalar",T:5,opt:!0},{no:4,name:"suffix",kind:"scalar",T:9,opt:!0}]}));var m=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).fileToGenerate=[],o.protoFile=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.CodeGeneratorRequest=m,m.runtime=f.proto2,m.typeName="google.protobuf.compiler.CodeGeneratorRequest",m.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"file_to_generate",kind:"scalar",T:9,repeated:!0},{no:2,name:"parameter",kind:"scalar",T:9,opt:!0},{no:15,name:"proto_file",kind:"message",T:p.FileDescriptorProto,repeated:!0},{no:3,name:"compiler_version",kind:"message",T:d,opt:!0}]}));var g,v=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).file=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.CodeGeneratorResponse=v,v.runtime=f.proto2,v.typeName="google.protobuf.compiler.CodeGeneratorResponse",v.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"error",kind:"scalar",T:9,opt:!0},{no:2,name:"supported_features",kind:"scalar",T:4,opt:!0},{no:15,name:"file",kind:"message",T:y,repeated:!0}]})),function(e){e[e.NONE=0]="NONE",e[e.PROTO3_OPTIONAL=1]="PROTO3_OPTIONAL"}(g=t.CodeGeneratorResponse_Feature||(t.CodeGeneratorResponse_Feature={})),f.proto2.util.setEnumType(g,"google.protobuf.compiler.CodeGeneratorResponse.Feature",[{no:0,name:"FEATURE_NONE"},{no:1,name:"FEATURE_PROTO3_OPTIONAL"}]);var y=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),o=t.call(this),f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.CodeGeneratorResponse_File=y,y.runtime=f.proto2,y.typeName="google.protobuf.compiler.CodeGeneratorResponse.File",y.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"insertion_point",kind:"scalar",T:9,opt:!0},{no:15,name:"content",kind:"scalar",T:9,opt:!0},{no:16,name:"generated_code_info",kind:"message",T:p.GeneratedCodeInfo,opt:!0}]}))},4549:function(e,t,n){"use strict";var r=n(1313),o=n(6907),i=n(6688),a=n(3522),s=n(6466),u=n(704);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.GeneratedCodeInfo_Annotation_Semantic=t.GeneratedCodeInfo_Annotation=t.GeneratedCodeInfo=t.SourceCodeInfo_Location=t.SourceCodeInfo=t.UninterpretedOption_NamePart=t.UninterpretedOption=t.MethodOptions_IdempotencyLevel=t.MethodOptions=t.ServiceOptions=t.EnumValueOptions=t.EnumOptions=t.OneofOptions=t.FieldOptions_OptionTargetType=t.FieldOptions_OptionRetention=t.FieldOptions_JSType=t.FieldOptions_CType=t.FieldOptions=t.MessageOptions=t.FileOptions_OptimizeMode=t.FileOptions=t.MethodDescriptorProto=t.ServiceDescriptorProto=t.EnumValueDescriptorProto=t.EnumDescriptorProto_EnumReservedRange=t.EnumDescriptorProto=t.OneofDescriptorProto=t.FieldDescriptorProto_Label=t.FieldDescriptorProto_Type=t.FieldDescriptorProto=t.ExtensionRangeOptions=t.DescriptorProto_ReservedRange=t.DescriptorProto_ExtensionRange=t.DescriptorProto=t.FileDescriptorProto=t.FileDescriptorSet=void 0;var l=n(8099),f=n(6581),p=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).file=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.FileDescriptorSet=p,p.runtime=f.proto2,p.typeName="google.protobuf.FileDescriptorSet",p.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"file",kind:"message",T:d,repeated:!0}]}));var d=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).dependency=[],o.publicDependency=[],o.weakDependency=[],o.messageType=[],o.enumType=[],o.service=[],o.extension=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.FileDescriptorProto=d,d.runtime=f.proto2,d.typeName="google.protobuf.FileDescriptorProto",d.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"package",kind:"scalar",T:9,opt:!0},{no:3,name:"dependency",kind:"scalar",T:9,repeated:!0},{no:10,name:"public_dependency",kind:"scalar",T:5,repeated:!0},{no:11,name:"weak_dependency",kind:"scalar",T:5,repeated:!0},{no:4,name:"message_type",kind:"message",T:m,repeated:!0},{no:5,name:"enum_type",kind:"message",T:S,repeated:!0},{no:6,name:"service",kind:"message",T:w,repeated:!0},{no:7,name:"extension",kind:"message",T:T,repeated:!0},{no:8,name:"options",kind:"message",T:O,opt:!0},{no:9,name:"source_code_info",kind:"message",T:q,opt:!0},{no:12,name:"syntax",kind:"scalar",T:9,opt:!0},{no:13,name:"edition",kind:"scalar",T:9,opt:!0}]}));var m=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).field=[],o.extension=[],o.nestedType=[],o.enumType=[],o.extensionRange=[],o.oneofDecl=[],o.reservedRange=[],o.reservedName=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.DescriptorProto=m,m.runtime=f.proto2,m.typeName="google.protobuf.DescriptorProto",m.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"field",kind:"message",T:T,repeated:!0},{no:6,name:"extension",kind:"message",T:T,repeated:!0},{no:3,name:"nested_type",kind:"message",T:m,repeated:!0},{no:4,name:"enum_type",kind:"message",T:S,repeated:!0},{no:5,name:"extension_range",kind:"message",T:g,repeated:!0},{no:8,name:"oneof_decl",kind:"message",T:E,repeated:!0},{no:7,name:"options",kind:"message",T:k,opt:!0},{no:9,name:"reserved_range",kind:"message",T:v,repeated:!0},{no:10,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]}));var g=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),o=t.call(this),f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.DescriptorProto_ExtensionRange=g,g.runtime=f.proto2,g.typeName="google.protobuf.DescriptorProto.ExtensionRange",g.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:y,opt:!0}]}));var v=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),o=t.call(this),f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.DescriptorProto_ReservedRange=v,v.runtime=f.proto2,v.typeName="google.protobuf.DescriptorProto.ReservedRange",v.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]}));var y=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).uninterpretedOption=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.ExtensionRangeOptions=y,y.runtime=f.proto2,y.typeName="google.protobuf.ExtensionRangeOptions",y.fields=f.proto2.util.newFieldList((function(){return[{no:999,name:"uninterpreted_option",kind:"message",T:V,repeated:!0}]}));var h,_,T=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),o=t.call(this),f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.FieldDescriptorProto=T,T.runtime=f.proto2,T.typeName="google.protobuf.FieldDescriptorProto",T.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:3,name:"number",kind:"scalar",T:5,opt:!0},{no:4,name:"label",kind:"enum",T:f.proto2.getEnumType(_),opt:!0},{no:5,name:"type",kind:"enum",T:f.proto2.getEnumType(h),opt:!0},{no:6,name:"type_name",kind:"scalar",T:9,opt:!0},{no:2,name:"extendee",kind:"scalar",T:9,opt:!0},{no:7,name:"default_value",kind:"scalar",T:9,opt:!0},{no:9,name:"oneof_index",kind:"scalar",T:5,opt:!0},{no:10,name:"json_name",kind:"scalar",T:9,opt:!0},{no:8,name:"options",kind:"message",T:D,opt:!0},{no:17,name:"proto3_optional",kind:"scalar",T:8,opt:!0}]})),function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.GROUP=10]="GROUP",e[e.MESSAGE=11]="MESSAGE",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.ENUM=14]="ENUM",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(h=t.FieldDescriptorProto_Type||(t.FieldDescriptorProto_Type={})),f.proto2.util.setEnumType(h,"google.protobuf.FieldDescriptorProto.Type",[{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]),function(e){e[e.OPTIONAL=1]="OPTIONAL",e[e.REQUIRED=2]="REQUIRED",e[e.REPEATED=3]="REPEATED"}(_=t.FieldDescriptorProto_Label||(t.FieldDescriptorProto_Label={})),f.proto2.util.setEnumType(_,"google.protobuf.FieldDescriptorProto.Label",[{no:1,name:"LABEL_OPTIONAL"},{no:2,name:"LABEL_REQUIRED"},{no:3,name:"LABEL_REPEATED"}]);var E=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),o=t.call(this),f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.OneofDescriptorProto=E,E.runtime=f.proto2,E.typeName="google.protobuf.OneofDescriptorProto",E.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"options",kind:"message",T:L,opt:!0}]}));var S=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).value=[],o.reservedRange=[],o.reservedName=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.EnumDescriptorProto=S,S.runtime=f.proto2,S.typeName="google.protobuf.EnumDescriptorProto",S.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"value",kind:"message",T:b,repeated:!0},{no:3,name:"options",kind:"message",T:U,opt:!0},{no:4,name:"reserved_range",kind:"message",T:I,repeated:!0},{no:5,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]}));var I=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),o=t.call(this),f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.EnumDescriptorProto_EnumReservedRange=I,I.runtime=f.proto2,I.typeName="google.protobuf.EnumDescriptorProto.EnumReservedRange",I.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]}));var b=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),o=t.call(this),f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.EnumValueDescriptorProto=b,b.runtime=f.proto2,b.typeName="google.protobuf.EnumValueDescriptorProto",b.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"number",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:B,opt:!0}]}));var w=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).method=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.ServiceDescriptorProto=w,w.runtime=f.proto2,w.typeName="google.protobuf.ServiceDescriptorProto",w.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"method",kind:"message",T:P,repeated:!0},{no:3,name:"options",kind:"message",T:F,opt:!0}]}));var P=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),o=t.call(this),f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.MethodDescriptorProto=P,P.runtime=f.proto2,P.typeName="google.protobuf.MethodDescriptorProto",P.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"input_type",kind:"scalar",T:9,opt:!0},{no:3,name:"output_type",kind:"scalar",T:9,opt:!0},{no:4,name:"options",kind:"message",T:j,opt:!0},{no:5,name:"client_streaming",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"server_streaming",kind:"scalar",T:8,opt:!0,default:!1}]}));var A,O=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).uninterpretedOption=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.FileOptions=O,O.runtime=f.proto2,O.typeName="google.protobuf.FileOptions",O.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"java_package",kind:"scalar",T:9,opt:!0},{no:8,name:"java_outer_classname",kind:"scalar",T:9,opt:!0},{no:10,name:"java_multiple_files",kind:"scalar",T:8,opt:!0,default:!1},{no:20,name:"java_generate_equals_and_hash",kind:"scalar",T:8,opt:!0},{no:27,name:"java_string_check_utf8",kind:"scalar",T:8,opt:!0,default:!1},{no:9,name:"optimize_for",kind:"enum",T:f.proto2.getEnumType(A),opt:!0,default:A.SPEED},{no:11,name:"go_package",kind:"scalar",T:9,opt:!0},{no:16,name:"cc_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"java_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:18,name:"py_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:42,name:"php_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:23,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:31,name:"cc_enable_arenas",kind:"scalar",T:8,opt:!0,default:!0},{no:36,name:"objc_class_prefix",kind:"scalar",T:9,opt:!0},{no:37,name:"csharp_namespace",kind:"scalar",T:9,opt:!0},{no:39,name:"swift_prefix",kind:"scalar",T:9,opt:!0},{no:40,name:"php_class_prefix",kind:"scalar",T:9,opt:!0},{no:41,name:"php_namespace",kind:"scalar",T:9,opt:!0},{no:44,name:"php_metadata_namespace",kind:"scalar",T:9,opt:!0},{no:45,name:"ruby_package",kind:"scalar",T:9,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:V,repeated:!0}]})),function(e){e[e.SPEED=1]="SPEED",e[e.CODE_SIZE=2]="CODE_SIZE",e[e.LITE_RUNTIME=3]="LITE_RUNTIME"}(A=t.FileOptions_OptimizeMode||(t.FileOptions_OptimizeMode={})),f.proto2.util.setEnumType(A,"google.protobuf.FileOptions.OptimizeMode",[{no:1,name:"SPEED"},{no:2,name:"CODE_SIZE"},{no:3,name:"LITE_RUNTIME"}]);var k=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).uninterpretedOption=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.MessageOptions=k,k.runtime=f.proto2,k.typeName="google.protobuf.MessageOptions",k.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"message_set_wire_format",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"no_standard_descriptor_accessor",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:7,name:"map_entry",kind:"scalar",T:8,opt:!0},{no:11,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:V,repeated:!0}]}));var N,M,C,R,D=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).uninterpretedOption=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.FieldOptions=D,D.runtime=f.proto2,D.typeName="google.protobuf.FieldOptions",D.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"ctype",kind:"enum",T:f.proto2.getEnumType(N),opt:!0,default:N.STRING},{no:2,name:"packed",kind:"scalar",T:8,opt:!0},{no:6,name:"jstype",kind:"enum",T:f.proto2.getEnumType(M),opt:!0,default:M.JS_NORMAL},{no:5,name:"lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:15,name:"unverified_lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:10,name:"weak",kind:"scalar",T:8,opt:!0,default:!1},{no:16,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"retention",kind:"enum",T:f.proto2.getEnumType(C),opt:!0},{no:18,name:"target",kind:"enum",T:f.proto2.getEnumType(R),opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:V,repeated:!0}]})),function(e){e[e.STRING=0]="STRING",e[e.CORD=1]="CORD",e[e.STRING_PIECE=2]="STRING_PIECE"}(N=t.FieldOptions_CType||(t.FieldOptions_CType={})),f.proto2.util.setEnumType(N,"google.protobuf.FieldOptions.CType",[{no:0,name:"STRING"},{no:1,name:"CORD"},{no:2,name:"STRING_PIECE"}]),function(e){e[e.JS_NORMAL=0]="JS_NORMAL",e[e.JS_STRING=1]="JS_STRING",e[e.JS_NUMBER=2]="JS_NUMBER"}(M=t.FieldOptions_JSType||(t.FieldOptions_JSType={})),f.proto2.util.setEnumType(M,"google.protobuf.FieldOptions.JSType",[{no:0,name:"JS_NORMAL"},{no:1,name:"JS_STRING"},{no:2,name:"JS_NUMBER"}]),function(e){e[e.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",e[e.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",e[e.RETENTION_SOURCE=2]="RETENTION_SOURCE"}(C=t.FieldOptions_OptionRetention||(t.FieldOptions_OptionRetention={})),f.proto2.util.setEnumType(C,"google.protobuf.FieldOptions.OptionRetention",[{no:0,name:"RETENTION_UNKNOWN"},{no:1,name:"RETENTION_RUNTIME"},{no:2,name:"RETENTION_SOURCE"}]),function(e){e[e.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",e[e.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",e[e.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",e[e.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",e[e.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",e[e.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",e[e.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",e[e.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",e[e.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",e[e.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"}(R=t.FieldOptions_OptionTargetType||(t.FieldOptions_OptionTargetType={})),f.proto2.util.setEnumType(R,"google.protobuf.FieldOptions.OptionTargetType",[{no:0,name:"TARGET_TYPE_UNKNOWN"},{no:1,name:"TARGET_TYPE_FILE"},{no:2,name:"TARGET_TYPE_EXTENSION_RANGE"},{no:3,name:"TARGET_TYPE_MESSAGE"},{no:4,name:"TARGET_TYPE_FIELD"},{no:5,name:"TARGET_TYPE_ONEOF"},{no:6,name:"TARGET_TYPE_ENUM"},{no:7,name:"TARGET_TYPE_ENUM_ENTRY"},{no:8,name:"TARGET_TYPE_SERVICE"},{no:9,name:"TARGET_TYPE_METHOD"}]);var L=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).uninterpretedOption=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.OneofOptions=L,L.runtime=f.proto2,L.typeName="google.protobuf.OneofOptions",L.fields=f.proto2.util.newFieldList((function(){return[{no:999,name:"uninterpreted_option",kind:"message",T:V,repeated:!0}]}));var U=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).uninterpretedOption=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.EnumOptions=U,U.runtime=f.proto2,U.typeName="google.protobuf.EnumOptions",U.fields=f.proto2.util.newFieldList((function(){return[{no:2,name:"allow_alias",kind:"scalar",T:8,opt:!0},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:V,repeated:!0}]}));var B=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).uninterpretedOption=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.EnumValueOptions=B,B.runtime=f.proto2,B.typeName="google.protobuf.EnumValueOptions",B.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:V,repeated:!0}]}));var F=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).uninterpretedOption=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.ServiceOptions=F,F.runtime=f.proto2,F.typeName="google.protobuf.ServiceOptions",F.fields=f.proto2.util.newFieldList((function(){return[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:V,repeated:!0}]}));var x,j=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).uninterpretedOption=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.MethodOptions=j,j.runtime=f.proto2,j.typeName="google.protobuf.MethodOptions",j.fields=f.proto2.util.newFieldList((function(){return[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:34,name:"idempotency_level",kind:"enum",T:f.proto2.getEnumType(x),opt:!0,default:x.IDEMPOTENCY_UNKNOWN},{no:999,name:"uninterpreted_option",kind:"message",T:V,repeated:!0}]})),function(e){e[e.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",e[e.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",e[e.IDEMPOTENT=2]="IDEMPOTENT"}(x=t.MethodOptions_IdempotencyLevel||(t.MethodOptions_IdempotencyLevel={})),f.proto2.util.setEnumType(x,"google.protobuf.MethodOptions.IdempotencyLevel",[{no:0,name:"IDEMPOTENCY_UNKNOWN"},{no:1,name:"NO_SIDE_EFFECTS"},{no:2,name:"IDEMPOTENT"}]);var V=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).name=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.UninterpretedOption=V,V.runtime=f.proto2,V.typeName="google.protobuf.UninterpretedOption",V.fields=f.proto2.util.newFieldList((function(){return[{no:2,name:"name",kind:"message",T:J,repeated:!0},{no:3,name:"identifier_value",kind:"scalar",T:9,opt:!0},{no:4,name:"positive_int_value",kind:"scalar",T:4,opt:!0},{no:5,name:"negative_int_value",kind:"scalar",T:3,opt:!0},{no:6,name:"double_value",kind:"scalar",T:1,opt:!0},{no:7,name:"string_value",kind:"scalar",T:12,opt:!0},{no:8,name:"aggregate_value",kind:"scalar",T:9,opt:!0}]}));var J=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),o=t.call(this),f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.UninterpretedOption_NamePart=J,J.runtime=f.proto2,J.typeName="google.protobuf.UninterpretedOption.NamePart",J.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"name_part",kind:"scalar",T:9},{no:2,name:"is_extension",kind:"scalar",T:8}]}));var q=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).location=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.SourceCodeInfo=q,q.runtime=f.proto2,q.typeName="google.protobuf.SourceCodeInfo",q.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"location",kind:"message",T:H,repeated:!0}]}));var H=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).path=[],o.span=[],o.leadingDetachedComments=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.SourceCodeInfo_Location=H,H.runtime=f.proto2,H.typeName="google.protobuf.SourceCodeInfo.Location",H.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"span",kind:"scalar",T:5,repeated:!0,packed:!0},{no:3,name:"leading_comments",kind:"scalar",T:9,opt:!0},{no:4,name:"trailing_comments",kind:"scalar",T:9,opt:!0},{no:6,name:"leading_detached_comments",kind:"scalar",T:9,repeated:!0}]}));var G=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).annotation=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.GeneratedCodeInfo=G,G.runtime=f.proto2,G.typeName="google.protobuf.GeneratedCodeInfo",G.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"annotation",kind:"message",T:Y,repeated:!0}]}));var K,Y=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).path=[],f.proto2.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto2.util.equals(n,e,t)}}]),n}(l.Message);t.GeneratedCodeInfo_Annotation=Y,Y.runtime=f.proto2,Y.typeName="google.protobuf.GeneratedCodeInfo.Annotation",Y.fields=f.proto2.util.newFieldList((function(){return[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"source_file",kind:"scalar",T:9,opt:!0},{no:3,name:"begin",kind:"scalar",T:5,opt:!0},{no:4,name:"end",kind:"scalar",T:5,opt:!0},{no:5,name:"semantic",kind:"enum",T:f.proto2.getEnumType(K),opt:!0}]})),function(e){e[e.NONE=0]="NONE",e[e.SET=1]="SET",e[e.ALIAS=2]="ALIAS"}(K=t.GeneratedCodeInfo_Annotation_Semantic||(t.GeneratedCodeInfo_Annotation_Semantic={})),f.proto2.util.setEnumType(K,"google.protobuf.GeneratedCodeInfo.Annotation.Semantic",[{no:0,name:"NONE"},{no:1,name:"SET"},{no:2,name:"ALIAS"}])},3980:function(e,t,n){"use strict";var r=n(1313),o=n(6907),i=n(6688),a=n(3522),s=n(6466),u=n(704);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Duration=void 0;var l=n(8099),f=n(1432),p=n(7418),d=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).seconds=f.protoInt64.zero,o.nanos=0,p.proto3.util.initPartial(e,i(o)),o}return o(n,[{key:"fromJson",value:function(e,t){if("string"!=typeof e)throw new Error("cannot decode google.protobuf.Duration from JSON: ".concat(p.proto3.json.debug(e)));var n=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(null===n)throw new Error("cannot decode google.protobuf.Duration from JSON: ".concat(p.proto3.json.debug(e)));var r=Number(n[1]);if(r>315576e6||r<-315576e6)throw new Error("cannot decode google.protobuf.Duration from JSON: ".concat(p.proto3.json.debug(e)));if(this.seconds=f.protoInt64.parse(r),"string"==typeof n[2]){var o=n[2]+"0".repeat(9-n[2].length);this.nanos=parseInt(o),(r<0||Object.is(r,-0))&&(this.nanos=-this.nanos)}return this}},{key:"toJson",value:function(e){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");var t=this.seconds.toString();if(0!==this.nanos){var n=Math.abs(this.nanos).toString();"000000"===(n="0".repeat(9-n.length)+n).substring(3)?n=n.substring(0,3):"000"===n.substring(6)&&(n=n.substring(0,6)),t+="."+n,this.nanos<0&&this.seconds===f.protoInt64.zero&&(t="-"+t)}return t+"s"}}],[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return p.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.Duration=d,d.runtime=p.proto3,d.typeName="google.protobuf.Duration",d.fields=p.proto3.util.newFieldList((function(){return[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]}))},6303:function(e,t,n){"use strict";var r=n(1313),o=n(6907),i=n(6688),a=n(3522),s=n(6466),u=n(704);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Empty=void 0;var l=n(8099),f=n(7418),p=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),o=t.call(this),f.proto3.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.Empty=p,p.runtime=f.proto3,p.typeName="google.protobuf.Empty",p.fields=f.proto3.util.newFieldList((function(){return[]}))},5760:function(e,t,n){"use strict";var r=n(1313),o=n(6907),i=n(6688),a=n(3522),s=n(6466),u=n(704);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldMask=void 0;var l=n(8099),f=n(7418),p=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).paths=[],f.proto3.util.initPartial(e,i(o)),o}return o(n,[{key:"toJson",value:function(e){return this.paths.map((function(e){if(e.match(/_[0-9]?_/g)||e.match(/[A-Z]/g))throw new Error('cannot decode google.protobuf.FieldMask from JSON: lowerCamelCase of path name "'+e+'" is irreversible');return function(e){for(var t=!1,n=[],r=0;r<e.length;r++){var o=e.charAt(r);switch(o){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(o),t=!1;break;default:t&&(t=!1,o=o.toUpperCase()),n.push(o)}}return n.join("")}(e)})).join(",")}},{key:"fromJson",value:function(e,t){if("string"!=typeof e)throw new Error("cannot decode google.protobuf.FieldMask from JSON: "+f.proto3.json.debug(e));if(""===e)return this;return this.paths=e.split(",").map((function(e){if(e.includes("_"))throw new Error("cannot decode google.protobuf.FieldMask from JSON: path names must be lowerCamelCase");var t=e.replace(/[A-Z]/g,(function(e){return"_"+e.toLowerCase()}));return"_"===t[0]?t.substring(1):t})),this}}],[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.FieldMask=p,p.runtime=f.proto3,p.typeName="google.protobuf.FieldMask",p.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"paths",kind:"scalar",T:9,repeated:!0}]}))},2164:function(e,t,n){"use strict";var r=n(1313),o=n(6907),i=n(6688),a=n(3522),s=n(6466),u=n(704);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SourceContext=void 0;var l=n(8099),f=n(7418),p=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).fileName="",f.proto3.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.SourceContext=p,p.runtime=f.proto3,p.typeName="google.protobuf.SourceContext",p.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"file_name",kind:"scalar",T:9}]}))},630:function(e,t,n){"use strict";var r=n(2952),o=n(169),i=n(1313),a=n(6907),s=n(6688),u=n(3522),c=n(6466),l=n(704);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ListValue=t.Value=t.Struct=t.NullValue=void 0;var m,g=n(7418),v=n(8099);!function(e){e[e.NULL_VALUE=0]="NULL_VALUE"}(m=t.NullValue||(t.NullValue={})),g.proto3.util.setEnumType(m,"google.protobuf.NullValue",[{no:0,name:"NULL_VALUE"}]);var y=function(e){u(n,e);var t=d(n);function n(e){var r;return i(this,n),(r=t.call(this)).fields={},g.proto3.util.initPartial(e,s(r)),r}return a(n,[{key:"toJson",value:function(e){for(var t={},n=0,r=Object.entries(this.fields);n<r.length;n++){var i=o(r[n],2),a=i[0],s=i[1];t[a]=s.toJson(e)}return t}},{key:"fromJson",value:function(e,t){if("object"!=r(e)||null==e||Array.isArray(e))throw new Error("cannot decode google.protobuf.Struct from JSON "+g.proto3.json.debug(e));for(var n=0,i=Object.entries(e);n<i.length;n++){var a=o(i[n],2),s=a[0],u=a[1];this.fields[s]=h.fromJson(u)}return this}}],[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return g.proto3.util.equals(n,e,t)}}]),n}(v.Message);t.Struct=y,y.runtime=g.proto3,y.typeName="google.protobuf.Struct",y.fields=g.proto3.util.newFieldList((function(){return[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:h}}]}));var h=function(e){u(n,e);var t=d(n);function n(e){var r;return i(this,n),(r=t.call(this)).kind={case:void 0},g.proto3.util.initPartial(e,s(r)),r}return a(n,[{key:"toJson",value:function(e){switch(this.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(this.kind.value))throw new Error("google.protobuf.Value cannot be NaN or Infinity");return this.kind.value;case"boolValue":case"stringValue":return this.kind.value;case"structValue":case"listValue":return this.kind.value.toJson(Object.assign(Object.assign({},e),{emitDefaultValues:!0}))}throw new Error("google.protobuf.Value must have a value")}},{key:"fromJson",value:function(e,t){switch(r(e)){case"number":this.kind={case:"numberValue",value:e};break;case"string":this.kind={case:"stringValue",value:e};break;case"boolean":this.kind={case:"boolValue",value:e};break;case"object":null===e?this.kind={case:"nullValue",value:m.NULL_VALUE}:Array.isArray(e)?this.kind={case:"listValue",value:_.fromJson(e)}:this.kind={case:"structValue",value:y.fromJson(e)};break;default:throw new Error("cannot decode google.protobuf.Value from JSON "+g.proto3.json.debug(e))}return this}}],[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return g.proto3.util.equals(n,e,t)}}]),n}(v.Message);t.Value=h,h.runtime=g.proto3,h.typeName="google.protobuf.Value",h.fields=g.proto3.util.newFieldList((function(){return[{no:1,name:"null_value",kind:"enum",T:g.proto3.getEnumType(m),oneof:"kind"},{no:2,name:"number_value",kind:"scalar",T:1,oneof:"kind"},{no:3,name:"string_value",kind:"scalar",T:9,oneof:"kind"},{no:4,name:"bool_value",kind:"scalar",T:8,oneof:"kind"},{no:5,name:"struct_value",kind:"message",T:y,oneof:"kind"},{no:6,name:"list_value",kind:"message",T:_,oneof:"kind"}]}));var _=function(e){u(n,e);var t=d(n);function n(e){var r;return i(this,n),(r=t.call(this)).values=[],g.proto3.util.initPartial(e,s(r)),r}return a(n,[{key:"toJson",value:function(e){return this.values.map((function(e){return e.toJson()}))}},{key:"fromJson",value:function(e,t){if(!Array.isArray(e))throw new Error("cannot decode google.protobuf.ListValue from JSON "+g.proto3.json.debug(e));var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.values.push(h.fromJson(o))}}catch(e){r.e(e)}finally{r.f()}return this}}],[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return g.proto3.util.equals(n,e,t)}}]),n}(v.Message);t.ListValue=_,_.runtime=g.proto3,_.typeName="google.protobuf.ListValue",_.fields=g.proto3.util.newFieldList((function(){return[{no:1,name:"values",kind:"message",T:h,repeated:!0}]}))},553:function(e,t,n){"use strict";var r=n(1313),o=n(6907),i=n(6688),a=n(3522),s=n(6466),u=n(704);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Timestamp=void 0;var l=n(8099),f=n(1432),p=n(7418),d=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).seconds=f.protoInt64.zero,o.nanos=0,p.proto3.util.initPartial(e,i(o)),o}return o(n,[{key:"fromJson",value:function(e,t){if("string"!=typeof e)throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(p.proto3.json.debug(e)));var n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");var r=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(r))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=f.protoInt64.parse(r/1e3),this.nanos=0,n[7]&&(this.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),this}},{key:"toJson",value:function(e){var t=1e3*Number(this.seconds);if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");var n="Z";if(this.nanos>0){var r=(this.nanos+1e9).toString().substring(1);n="000000"===r.substring(3)?"."+r.substring(0,3)+"Z":"000"===r.substring(6)?"."+r.substring(0,6)+"Z":"."+r+"Z"}return new Date(t).toISOString().replace(".000Z",n)}},{key:"toDate",value:function(){return new Date(1e3*Number(this.seconds)+Math.ceil(this.nanos/1e6))}}],[{key:"now",value:function(){return n.fromDate(new Date)}},{key:"fromDate",value:function(e){var t=e.getTime();return new n({seconds:f.protoInt64.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}},{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return p.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.Timestamp=d,d.runtime=p.proto3,d.typeName="google.protobuf.Timestamp",d.fields=p.proto3.util.newFieldList((function(){return[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]}))},6779:function(e,t,n){"use strict";var r=n(1313),o=n(6907),i=n(6688),a=n(3522),s=n(6466),u=n(704);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Option=t.EnumValue=t.Enum=t.Field_Cardinality=t.Field_Kind=t.Field=t.Type=t.Syntax=void 0;var l,f=n(7418),p=n(8099),d=n(2164),m=n(187);!function(e){e[e.PROTO2=0]="PROTO2",e[e.PROTO3=1]="PROTO3"}(l=t.Syntax||(t.Syntax={})),f.proto3.util.setEnumType(l,"google.protobuf.Syntax",[{no:0,name:"SYNTAX_PROTO2"},{no:1,name:"SYNTAX_PROTO3"}]);var g=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).name="",o.fields=[],o.oneofs=[],o.options=[],o.syntax=l.PROTO2,f.proto3.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(p.Message);t.Type=g,g.runtime=f.proto3,g.typeName="google.protobuf.Type",g.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"fields",kind:"message",T:h,repeated:!0},{no:3,name:"oneofs",kind:"scalar",T:9,repeated:!0},{no:4,name:"options",kind:"message",T:E,repeated:!0},{no:5,name:"source_context",kind:"message",T:d.SourceContext},{no:6,name:"syntax",kind:"enum",T:f.proto3.getEnumType(l)}]}));var v,y,h=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).kind=v.TYPE_UNKNOWN,o.cardinality=y.UNKNOWN,o.number=0,o.name="",o.typeUrl="",o.oneofIndex=0,o.packed=!1,o.options=[],o.jsonName="",o.defaultValue="",f.proto3.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(p.Message);t.Field=h,h.runtime=f.proto3,h.typeName="google.protobuf.Field",h.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"kind",kind:"enum",T:f.proto3.getEnumType(v)},{no:2,name:"cardinality",kind:"enum",T:f.proto3.getEnumType(y)},{no:3,name:"number",kind:"scalar",T:5},{no:4,name:"name",kind:"scalar",T:9},{no:6,name:"type_url",kind:"scalar",T:9},{no:7,name:"oneof_index",kind:"scalar",T:5},{no:8,name:"packed",kind:"scalar",T:8},{no:9,name:"options",kind:"message",T:E,repeated:!0},{no:10,name:"json_name",kind:"scalar",T:9},{no:11,name:"default_value",kind:"scalar",T:9}]})),function(e){e[e.TYPE_UNKNOWN=0]="TYPE_UNKNOWN",e[e.TYPE_DOUBLE=1]="TYPE_DOUBLE",e[e.TYPE_FLOAT=2]="TYPE_FLOAT",e[e.TYPE_INT64=3]="TYPE_INT64",e[e.TYPE_UINT64=4]="TYPE_UINT64",e[e.TYPE_INT32=5]="TYPE_INT32",e[e.TYPE_FIXED64=6]="TYPE_FIXED64",e[e.TYPE_FIXED32=7]="TYPE_FIXED32",e[e.TYPE_BOOL=8]="TYPE_BOOL",e[e.TYPE_STRING=9]="TYPE_STRING",e[e.TYPE_GROUP=10]="TYPE_GROUP",e[e.TYPE_MESSAGE=11]="TYPE_MESSAGE",e[e.TYPE_BYTES=12]="TYPE_BYTES",e[e.TYPE_UINT32=13]="TYPE_UINT32",e[e.TYPE_ENUM=14]="TYPE_ENUM",e[e.TYPE_SFIXED32=15]="TYPE_SFIXED32",e[e.TYPE_SFIXED64=16]="TYPE_SFIXED64",e[e.TYPE_SINT32=17]="TYPE_SINT32",e[e.TYPE_SINT64=18]="TYPE_SINT64"}(v=t.Field_Kind||(t.Field_Kind={})),f.proto3.util.setEnumType(v,"google.protobuf.Field.Kind",[{no:0,name:"TYPE_UNKNOWN"},{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.OPTIONAL=1]="OPTIONAL",e[e.REQUIRED=2]="REQUIRED",e[e.REPEATED=3]="REPEATED"}(y=t.Field_Cardinality||(t.Field_Cardinality={})),f.proto3.util.setEnumType(y,"google.protobuf.Field.Cardinality",[{no:0,name:"CARDINALITY_UNKNOWN"},{no:1,name:"CARDINALITY_OPTIONAL"},{no:2,name:"CARDINALITY_REQUIRED"},{no:3,name:"CARDINALITY_REPEATED"}]);var _=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).name="",o.enumvalue=[],o.options=[],o.syntax=l.PROTO2,f.proto3.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(p.Message);t.Enum=_,_.runtime=f.proto3,_.typeName="google.protobuf.Enum",_.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enumvalue",kind:"message",T:T,repeated:!0},{no:3,name:"options",kind:"message",T:E,repeated:!0},{no:4,name:"source_context",kind:"message",T:d.SourceContext},{no:5,name:"syntax",kind:"enum",T:f.proto3.getEnumType(l)}]}));var T=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).name="",o.number=0,o.options=[],f.proto3.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(p.Message);t.EnumValue=T,T.runtime=f.proto3,T.typeName="google.protobuf.EnumValue",T.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"options",kind:"message",T:E,repeated:!0}]}));var E=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).name="",f.proto3.util.initPartial(e,i(o)),o}return o(n,null,[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(p.Message);t.Option=E,E.runtime=f.proto3,E.typeName="google.protobuf.Option",E.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"value",kind:"message",T:m.Any}]}))},9341:function(e,t,n){"use strict";var r=n(1313),o=n(6907),i=n(6688),a=n(3522),s=n(6466),u=n(704);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.BytesValue=t.StringValue=t.BoolValue=t.UInt32Value=t.Int32Value=t.UInt64Value=t.Int64Value=t.FloatValue=t.DoubleValue=void 0;var l=n(8099),f=n(7418),p=n(5758),d=n(1432),m=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).value=0,f.proto3.util.initPartial(e,i(o)),o}return o(n,[{key:"toJson",value:function(e){return f.proto3.json.writeScalar(p.ScalarType.DOUBLE,this.value,!0)}},{key:"fromJson",value:function(e,t){try{this.value=f.proto3.json.readScalar(p.ScalarType.DOUBLE,e)}catch(e){var n='cannot decode message google.protobuf.DoubleValue from JSON"';throw e instanceof Error&&e.message.length>0&&(n+=": ".concat(e.message)),new Error(n)}return this}}],[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.DoubleValue=m,m.runtime=f.proto3,m.typeName="google.protobuf.DoubleValue",m.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"value",kind:"scalar",T:1}]})),m.fieldWrapper={wrapField:function(e){return new m({value:e})},unwrapField:function(e){return e.value}};var g=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).value=0,f.proto3.util.initPartial(e,i(o)),o}return o(n,[{key:"toJson",value:function(e){return f.proto3.json.writeScalar(p.ScalarType.FLOAT,this.value,!0)}},{key:"fromJson",value:function(e,t){try{this.value=f.proto3.json.readScalar(p.ScalarType.FLOAT,e)}catch(e){var n='cannot decode message google.protobuf.FloatValue from JSON"';throw e instanceof Error&&e.message.length>0&&(n+=": ".concat(e.message)),new Error(n)}return this}}],[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.FloatValue=g,g.runtime=f.proto3,g.typeName="google.protobuf.FloatValue",g.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"value",kind:"scalar",T:2}]})),g.fieldWrapper={wrapField:function(e){return new g({value:e})},unwrapField:function(e){return e.value}};var v=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).value=d.protoInt64.zero,f.proto3.util.initPartial(e,i(o)),o}return o(n,[{key:"toJson",value:function(e){return f.proto3.json.writeScalar(p.ScalarType.INT64,this.value,!0)}},{key:"fromJson",value:function(e,t){try{this.value=f.proto3.json.readScalar(p.ScalarType.INT64,e)}catch(e){var n='cannot decode message google.protobuf.Int64Value from JSON"';throw e instanceof Error&&e.message.length>0&&(n+=": ".concat(e.message)),new Error(n)}return this}}],[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.Int64Value=v,v.runtime=f.proto3,v.typeName="google.protobuf.Int64Value",v.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"value",kind:"scalar",T:3}]})),v.fieldWrapper={wrapField:function(e){return new v({value:e})},unwrapField:function(e){return e.value}};var y=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).value=d.protoInt64.zero,f.proto3.util.initPartial(e,i(o)),o}return o(n,[{key:"toJson",value:function(e){return f.proto3.json.writeScalar(p.ScalarType.UINT64,this.value,!0)}},{key:"fromJson",value:function(e,t){try{this.value=f.proto3.json.readScalar(p.ScalarType.UINT64,e)}catch(e){var n='cannot decode message google.protobuf.UInt64Value from JSON"';throw e instanceof Error&&e.message.length>0&&(n+=": ".concat(e.message)),new Error(n)}return this}}],[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.UInt64Value=y,y.runtime=f.proto3,y.typeName="google.protobuf.UInt64Value",y.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"value",kind:"scalar",T:4}]})),y.fieldWrapper={wrapField:function(e){return new y({value:e})},unwrapField:function(e){return e.value}};var h=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).value=0,f.proto3.util.initPartial(e,i(o)),o}return o(n,[{key:"toJson",value:function(e){return f.proto3.json.writeScalar(p.ScalarType.INT32,this.value,!0)}},{key:"fromJson",value:function(e,t){try{this.value=f.proto3.json.readScalar(p.ScalarType.INT32,e)}catch(e){var n='cannot decode message google.protobuf.Int32Value from JSON"';throw e instanceof Error&&e.message.length>0&&(n+=": ".concat(e.message)),new Error(n)}return this}}],[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.Int32Value=h,h.runtime=f.proto3,h.typeName="google.protobuf.Int32Value",h.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"value",kind:"scalar",T:5}]})),h.fieldWrapper={wrapField:function(e){return new h({value:e})},unwrapField:function(e){return e.value}};var _=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).value=0,f.proto3.util.initPartial(e,i(o)),o}return o(n,[{key:"toJson",value:function(e){return f.proto3.json.writeScalar(p.ScalarType.UINT32,this.value,!0)}},{key:"fromJson",value:function(e,t){try{this.value=f.proto3.json.readScalar(p.ScalarType.UINT32,e)}catch(e){var n='cannot decode message google.protobuf.UInt32Value from JSON"';throw e instanceof Error&&e.message.length>0&&(n+=": ".concat(e.message)),new Error(n)}return this}}],[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.UInt32Value=_,_.runtime=f.proto3,_.typeName="google.protobuf.UInt32Value",_.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"value",kind:"scalar",T:13}]})),_.fieldWrapper={wrapField:function(e){return new _({value:e})},unwrapField:function(e){return e.value}};var T=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).value=!1,f.proto3.util.initPartial(e,i(o)),o}return o(n,[{key:"toJson",value:function(e){return f.proto3.json.writeScalar(p.ScalarType.BOOL,this.value,!0)}},{key:"fromJson",value:function(e,t){try{this.value=f.proto3.json.readScalar(p.ScalarType.BOOL,e)}catch(e){var n='cannot decode message google.protobuf.BoolValue from JSON"';throw e instanceof Error&&e.message.length>0&&(n+=": ".concat(e.message)),new Error(n)}return this}}],[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.BoolValue=T,T.runtime=f.proto3,T.typeName="google.protobuf.BoolValue",T.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"value",kind:"scalar",T:8}]})),T.fieldWrapper={wrapField:function(e){return new T({value:e})},unwrapField:function(e){return e.value}};var E=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).value="",f.proto3.util.initPartial(e,i(o)),o}return o(n,[{key:"toJson",value:function(e){return f.proto3.json.writeScalar(p.ScalarType.STRING,this.value,!0)}},{key:"fromJson",value:function(e,t){try{this.value=f.proto3.json.readScalar(p.ScalarType.STRING,e)}catch(e){var n='cannot decode message google.protobuf.StringValue from JSON"';throw e instanceof Error&&e.message.length>0&&(n+=": ".concat(e.message)),new Error(n)}return this}}],[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.StringValue=E,E.runtime=f.proto3,E.typeName="google.protobuf.StringValue",E.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"value",kind:"scalar",T:9}]})),E.fieldWrapper={wrapField:function(e){return new E({value:e})},unwrapField:function(e){return e.value}};var S=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this)).value=new Uint8Array(0),f.proto3.util.initPartial(e,i(o)),o}return o(n,[{key:"toJson",value:function(e){return f.proto3.json.writeScalar(p.ScalarType.BYTES,this.value,!0)}},{key:"fromJson",value:function(e,t){try{this.value=f.proto3.json.readScalar(p.ScalarType.BYTES,e)}catch(e){var n='cannot decode message google.protobuf.BytesValue from JSON"';throw e instanceof Error&&e.message.length>0&&(n+=": ".concat(e.message)),new Error(n)}return this}}],[{key:"fromBinary",value:function(e,t){return(new n).fromBinary(e,t)}},{key:"fromJson",value:function(e,t){return(new n).fromJson(e,t)}},{key:"fromJsonString",value:function(e,t){return(new n).fromJsonString(e,t)}},{key:"equals",value:function(e,t){return f.proto3.util.equals(n,e,t)}}]),n}(l.Message);t.BytesValue=S,S.runtime=f.proto3,S.typeName="google.protobuf.BytesValue",S.fields=f.proto3.util.newFieldList((function(){return[{no:1,name:"value",kind:"scalar",T:12}]})),S.fieldWrapper={wrapField:function(e){return new S({value:e})},unwrapField:function(e){return e.value}}},8724:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.varint32read=t.varint32write=t.uInt64ToString=t.int64ToString=t.int64FromString=t.varint64write=t.varint64read=void 0,t.varint64read=function(){for(var e=0,t=0,n=0;n<28;n+=7){var r=this.buf[this.pos++];if(e|=(127&r)<<n,0==(128&r))return this.assertBounds(),[e,t]}var o=this.buf[this.pos++];if(e|=(15&o)<<28,t=(112&o)>>4,0==(128&o))return this.assertBounds(),[e,t];for(var i=3;i<=31;i+=7){var a=this.buf[this.pos++];if(t|=(127&a)<<i,0==(128&a))return this.assertBounds(),[e,t]}throw new Error("invalid varint")},t.varint64write=function(e,t,n){for(var r=0;r<28;r+=7){var o=e>>>r,i=!(o>>>7==0&&0==t),a=255&(i?128|o:o);if(n.push(a),!i)return}var s=e>>>28&15|(7&t)<<4,u=!(t>>3==0);if(n.push(255&(u?128|s:s)),u){for(var c=3;c<31;c+=7){var l=t>>>c,f=!(l>>>7==0),p=255&(f?128|l:l);if(n.push(p),!f)return}n.push(t>>>31&1)}};var n=4294967296;function r(e,t){var r=function(e,t){return{lo:e>>>0,hi:t>>>0}}(e,t);if(e=r.lo,(t=r.hi)<=2097151)return String(n*t+e);var o=16777215&(e>>>24|t<<8),i=t>>16&65535,s=(16777215&e)+6777216*o+6710656*i,u=o+8147497*i,c=2*i,l=1e7;return s>=l&&(u+=Math.floor(s/l),s%=l),u>=l&&(c+=Math.floor(u/l),u%=l),c.toString()+a(u)+a(s)}function o(e,t){return{lo:0|e,hi:0|t}}function i(e,t){return t=~t,e?e=1+~e:t+=1,o(e,t)}t.int64FromString=function(e){var t="-"===e[0];t&&(e=e.slice(1));var r=1e6,a=0,s=0;function u(t,o){var i=Number(e.slice(t,o));s*=r,(a=a*r+i)>=n&&(s+=a/n|0,a%=n)}return u(-24,-18),u(-18,-12),u(-12,-6),u(-6),t?i(a,s):o(a,s)},t.int64ToString=function(e,t){var n=o(e,t),a=2147483648&n.hi;a&&(n=i(n.lo,n.hi));var s=r(n.lo,n.hi);return a?"-"+s:s},t.uInt64ToString=r;var a=function(e){var t=String(e);return"0000000".slice(t.length)+t};t.varint32write=function(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(var n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}},t.varint32read=function(){var e=this.buf[this.pos++],t=127&e;if(0==(128&e))return this.assertBounds(),t;if(t|=(127&(e=this.buf[this.pos++]))<<7,0==(128&e))return this.assertBounds(),t;if(t|=(127&(e=this.buf[this.pos++]))<<14,0==(128&e))return this.assertBounds(),t;if(t|=(127&(e=this.buf[this.pos++]))<<21,0==(128&e))return this.assertBounds(),t;t|=(15&(e=this.buf[this.pos++]))<<28;for(var n=5;0!=(128&e)&&n<10;n++)e=this.buf[this.pos++];if(0!=(128&e))throw new Error("invalid varint");return this.assertBounds(),t>>>0}},8707:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createRegistryFromDescriptors=t.createRegistry=t.createDescriptorSet=t.BinaryReader=t.BinaryWriter=t.WireType=t.MethodIdempotency=t.MethodKind=t.ScalarType=t.Message=t.codegenInfo=t.protoDelimited=t.protoBase64=t.protoInt64=t.proto2=t.proto3=void 0;var i=n(7418);Object.defineProperty(t,"proto3",{enumerable:!0,get:function(){return i.proto3}});var a=n(6581);Object.defineProperty(t,"proto2",{enumerable:!0,get:function(){return a.proto2}});var s=n(1432);Object.defineProperty(t,"protoInt64",{enumerable:!0,get:function(){return s.protoInt64}});var u=n(7649);Object.defineProperty(t,"protoBase64",{enumerable:!0,get:function(){return u.protoBase64}});var c=n(8132);Object.defineProperty(t,"protoDelimited",{enumerable:!0,get:function(){return c.protoDelimited}});var l=n(6001);Object.defineProperty(t,"codegenInfo",{enumerable:!0,get:function(){return l.codegenInfo}});var f=n(8099);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return f.Message}});var p=n(5758);Object.defineProperty(t,"ScalarType",{enumerable:!0,get:function(){return p.ScalarType}});var d=n(9110);Object.defineProperty(t,"MethodKind",{enumerable:!0,get:function(){return d.MethodKind}}),Object.defineProperty(t,"MethodIdempotency",{enumerable:!0,get:function(){return d.MethodIdempotency}});var m=n(9173);Object.defineProperty(t,"WireType",{enumerable:!0,get:function(){return m.WireType}}),Object.defineProperty(t,"BinaryWriter",{enumerable:!0,get:function(){return m.BinaryWriter}}),Object.defineProperty(t,"BinaryReader",{enumerable:!0,get:function(){return m.BinaryReader}});n(327),n(5561);var g=n(3551);Object.defineProperty(t,"createDescriptorSet",{enumerable:!0,get:function(){return g.createDescriptorSet}});n(9159);var v=n(8120);Object.defineProperty(t,"createRegistry",{enumerable:!0,get:function(){return v.createRegistry}});var y=n(881);Object.defineProperty(t,"createRegistryFromDescriptors",{enumerable:!0,get:function(){return y.createRegistryFromDescriptors}}),o(n(1634),t),o(n(197),t),o(n(187),t),o(n(4549),t),o(n(3980),t),o(n(6303),t),o(n(5760),t),o(n(2164),t),o(n(630),t),o(n(553),t),o(n(6779),t),o(n(9341),t)},327:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8099:function(e,t,n){"use strict";var r=n(1313),o=n(6907);Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var i=function(){function e(){r(this,e)}return o(e,[{key:"equals",value:function(e){return this.getType().runtime.util.equals(this.getType(),this,e)}},{key:"clone",value:function(){return this.getType().runtime.util.clone(this)}},{key:"fromBinary",value:function(e,t){var n=this.getType().runtime.bin,r=n.makeReadOptions(t);return n.readMessage(this,r.readerFactory(e),e.byteLength,r),this}},{key:"fromJson",value:function(e,t){var n=this.getType(),r=n.runtime.json,o=r.makeReadOptions(t);return r.readMessage(n,e,o,this),this}},{key:"fromJsonString",value:function(e,t){var n;try{n=JSON.parse(e)}catch(e){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(e instanceof Error?e.message:String(e)))}return this.fromJson(n,t)}},{key:"toBinary",value:function(e){var t=this.getType().runtime.bin,n=t.makeWriteOptions(e),r=n.writerFactory();return t.writeMessage(this,r,n),r.finish()}},{key:"toJson",value:function(e){var t=this.getType().runtime.json,n=t.makeWriteOptions(e);return t.writeMessage(this,n)}},{key:"toJsonString",value:function(e){var t,n=this.toJson(e);return JSON.stringify(n,null,null!==(t=null==e?void 0:e.prettySpaces)&&void 0!==t?t:0)}},{key:"toJSON",value:function(){return this.toJson({emitDefaultValues:!0})}},{key:"getType",value:function(){return Object.getPrototypeOf(this).constructor}}]),e}();t.Message=i},5307:function(e,t,n){"use strict";var r=n(2952);Object.defineProperty(t,"__esModule",{value:!0}),t.assertFloat32=t.assertUInt32=t.assertInt32=t.assert=void 0,t.assert=function(e,t){if(!e)throw new Error(t)};t.assertInt32=function(e){if("number"!=typeof e)throw new Error("invalid int 32: "+r(e));if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int 32: "+e)},t.assertUInt32=function(e){if("number"!=typeof e)throw new Error("invalid uint 32: "+r(e));if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint 32: "+e)},t.assertFloat32=function(e){if("number"!=typeof e)throw new Error("invalid float 32: "+r(e));if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw new Error("invalid float 32: "+e)}},9493:function(e,t,n){"use strict";var r=n(169);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.writePacked=t.writeScalar=t.writeMessageField=t.writeMapEntry=t.makeBinaryFormatCommon=void 0;var a=n(9173),s=n(8099),u=n(5758),c=n(8074),l=n(2902),f=n(5307),p=Symbol("@bufbuild/protobuf/unknown-fields"),d={readUnknownFields:!0,readerFactory:function(e){return new a.BinaryReader(e)}},m={writeUnknownFields:!0,writerFactory:function(){return new a.BinaryWriter}};function g(e){return e?Object.assign(Object.assign({},d),e):d}function v(e){return e?Object.assign(Object.assign({},m),e):m}function y(e,t,n){for(var o,i,a=t.uint32(),s=t.pos+a;t.pos<s;){var c=t.tag();switch(r(c,1)[0]){case 1:o=h(t,e.K);break;case 2:switch(e.V.kind){case"scalar":i=h(t,e.V.T);break;case"enum":i=t.int32();break;case"message":i=e.V.T.fromBinary(t.bytes(),n)}}}if(void 0===o){var f=(0,l.scalarDefaultValue)(e.K);o=e.K==u.ScalarType.BOOL?f.toString():f}if("string"!=typeof o&&"number"!=typeof o&&(o=o.toString()),void 0===i)switch(e.V.kind){case"scalar":i=(0,l.scalarDefaultValue)(e.V.T);break;case"enum":i=0;break;case"message":i=new e.V.T}return[o,i]}function h(e,t){var n=(0,l.scalarTypeInfo)(t);return e[r(n,2)[1]]()}function _(e,t,n,r,o){if(void 0!==o){var i=(0,c.wrapField)(n,o);e.tag(r,a.WireType.LengthDelimited).bytes(i.toBinary(t))}}function T(e,t,n,o,i){var a=(0,l.scalarTypeInfo)(t,o),s=r(a,3),u=s[0],c=s[1];s[2]&&!i||e.tag(n,u)[c](o)}t.makeBinaryFormatCommon=function(){return{makeReadOptions:g,makeWriteOptions:v,listUnknownFields:function(e){var t;return null!==(t=e[p])&&void 0!==t?t:[]},discardUnknownFields:function(e){delete e[p]},writeUnknownFields:function(e,t){var n=e[p];if(n){var r,i=o(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;t.tag(a.no,a.wireType).raw(a.data)}}catch(e){i.e(e)}finally{i.f()}}},onUnknownField:function(e,t,n,r){var o=e;Array.isArray(o[p])||(o[p]=[]),o[p].push({no:t,wireType:n,data:r})},readMessage:function(e,t,n,o){for(var i=e.getType(),c=void 0===n?t.len:t.pos+n;t.pos<c;){var l=t.tag(),f=r(l,2),p=f[0],d=f[1],m=i.fields.find(p);if(m){var g=e,v=m.repeated,_=m.localName;switch(m.oneof&&((g=g[m.oneof.localName]).case!=_&&delete g.value,g.case=_,_="value"),m.kind){case"scalar":case"enum":var T="enum"==m.kind?u.ScalarType.INT32:m.T;if(v){var E=g[_];if(d==a.WireType.LengthDelimited&&T!=u.ScalarType.STRING&&T!=u.ScalarType.BYTES)for(var S=t.uint32()+t.pos;t.pos<S;)E.push(h(t,T));else E.push(h(t,T))}else g[_]=h(t,T);break;case"message":var I=m.T;v?g[_].push(I.fromBinary(t.bytes(),o)):g[_]instanceof s.Message?g[_].fromBinary(t.bytes(),o):(g[_]=I.fromBinary(t.bytes(),o),!I.fieldWrapper||m.oneof||m.repeated||(g[_]=I.fieldWrapper.unwrapField(g[_])));break;case"map":var b=y(m,t,o),w=r(b,2),P=w[0],A=w[1];g[_][P]=A}}else{var O=t.skip(d);o.readUnknownFields&&this.onUnknownField(e,p,d,O)}}}}},t.writeMapEntry=function(e,t,n,r,o){e.tag(n.no,a.WireType.LengthDelimited),e.fork();var i=r;switch(n.K){case u.ScalarType.INT32:case u.ScalarType.FIXED32:case u.ScalarType.UINT32:case u.ScalarType.SFIXED32:case u.ScalarType.SINT32:i=Number.parseInt(r);break;case u.ScalarType.BOOL:(0,f.assert)("true"==r||"false"==r),i="true"==r}switch(T(e,n.K,1,i,!0),n.V.kind){case"scalar":T(e,n.V.T,2,o,!0);break;case"enum":T(e,u.ScalarType.INT32,2,o,!0);break;case"message":_(e,t,n.V.T,2,o)}e.join()},t.writeMessageField=_,t.writeScalar=T,t.writePacked=function(e,t,n,o){if(o.length){e.tag(n,a.WireType.LengthDelimited).fork();for(var i=(0,l.scalarTypeInfo)(t),s=r(i,2)[1],u=0;u<o.length;u++)e[s](o[u]);e.join()}}},6119:function(e,t,n){"use strict";var r=n(169);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.makeBinaryFormatProto2=void 0;var a=n(5758),s=n(9493);t.makeBinaryFormatProto2=function(){return Object.assign(Object.assign({},(0,s.makeBinaryFormatCommon)()),{writeMessage:function(e,t,n){var i,u=e.getType();try{var c,l=o(u.fields.byNumber());try{for(l.s();!(c=l.n()).done;){i=c.value;var f=void 0,p=i.repeated,d=i.localName;if(i.oneof){var m=e[i.oneof.localName];if(m.case!==d)continue;f=m.value}else if(void 0===(f=e[d])&&!i.oneof&&!i.opt)throw new Error("cannot encode field ".concat(u.typeName,".").concat(i.name," to binary: required field not set"));switch(i.kind){case"scalar":case"enum":var g="enum"==i.kind?a.ScalarType.INT32:i.T;if(p)if(i.packed)(0,s.writePacked)(t,g,i.no,f);else{var v,y=o(f);try{for(y.s();!(v=y.n()).done;){var h=v.value;(0,s.writeScalar)(t,g,i.no,h,!0)}}catch(e){y.e(e)}finally{y.f()}}else void 0!==f&&(0,s.writeScalar)(t,g,i.no,f,!0);break;case"message":if(p){var _,T=o(f);try{for(T.s();!(_=T.n()).done;){var E=_.value;(0,s.writeMessageField)(t,n,i.T,i.no,E)}}catch(e){T.e(e)}finally{T.f()}}else(0,s.writeMessageField)(t,n,i.T,i.no,f);break;case"map":for(var S=0,I=Object.entries(f);S<I.length;S++){var b=r(I[S],2),w=b[0],P=b[1];(0,s.writeMapEntry)(t,n,i,w,P)}}}}catch(e){l.e(e)}finally{l.f()}}catch(e){var A=i?"cannot encode field ".concat(u.typeName,".").concat(null==i?void 0:i.name," to binary"):"cannot encode message ".concat(u.typeName," to binary"),O=e instanceof Error?e.message:String(e);throw new Error(A+(O.length>0?": ".concat(O):""))}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t}})}},5091:function(e,t,n){"use strict";var r=n(169);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.makeBinaryFormatProto3=void 0;var a=n(5758),s=n(9493);t.makeBinaryFormatProto3=function(){return Object.assign(Object.assign({},(0,s.makeBinaryFormatCommon)()),{writeMessage:function(e,t,n){var i,u=o(e.getType().fields.byNumber());try{for(u.s();!(i=u.n()).done;){var c=i.value,l=void 0,f=c.repeated,p=c.localName;if(c.oneof){var d=e[c.oneof.localName];if(d.case!==p)continue;l=d.value}else l=e[p];switch(c.kind){case"scalar":case"enum":var m="enum"==c.kind?a.ScalarType.INT32:c.T;if(f)if(c.packed)(0,s.writePacked)(t,m,c.no,l);else{var g,v=o(l);try{for(v.s();!(g=v.n()).done;){var y=g.value;(0,s.writeScalar)(t,m,c.no,y,!0)}}catch(e){v.e(e)}finally{v.f()}}else void 0!==l&&(0,s.writeScalar)(t,m,c.no,l,!!c.oneof||c.opt);break;case"message":if(f){var h,_=o(l);try{for(_.s();!(h=_.n()).done;){var T=h.value;(0,s.writeMessageField)(t,n,c.T,c.no,T)}}catch(e){_.e(e)}finally{_.f()}}else(0,s.writeMessageField)(t,n,c.T,c.no,l);break;case"map":for(var E=0,S=Object.entries(l);E<S.length;E++){var I=r(S[E],2),b=I[0],w=I[1];(0,s.writeMapEntry)(t,n,c,b,w)}}}}catch(e){u.e(e)}finally{u.f()}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t}})}},8975:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.makeEnum=t.makeEnumType=t.setEnumType=t.getEnumType=void 0;var i=n(5307),a=Symbol("@bufbuild/protobuf/enum-type");function s(e,t,n,r){e[a]=u(t,n.map((function(t){return{no:t.no,name:t.name,localName:e[t.no]}})),r)}function u(e,t,n){var o,i=Object.create(null),a=Object.create(null),s=[],u=r(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,f=c(l);s.push(f),i[l.name]=f,a[l.no]=f}}catch(e){u.e(e)}finally{u.f()}return{typeName:e,values:s,findName:function(e){return i[e]},findNumber:function(e){return a[e]}}}function c(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}t.getEnumType=function(e){var t=e[a];return(0,i.assert)(t,"missing enum type on enum object"),t},t.setEnumType=s,t.makeEnumType=u,t.makeEnum=function(e,t,n){var o,i={},a=r(t);try{for(a.s();!(o=a.n()).done;){var u=c(o.value);i[u.localName]=u.no,i[u.no]=u.localName}}catch(e){a.e(e)}finally{a.f()}return s(i,e,t,n),i}},1967:function(e,t,n){"use strict";var r=n(1313),o=n(6907);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.InternalFieldList=void 0;var s=function(){function e(t,n){r(this,e),this._fields=t,this._normalizer=n}return o(e,[{key:"findJsonName",value:function(e){if(!this.jsonNames){var t,n={},r=i(this.list());try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o.jsonName]=n[o.name]=o}}catch(e){r.e(e)}finally{r.f()}this.jsonNames=n}return this.jsonNames[e]}},{key:"find",value:function(e){if(!this.numbers){var t,n={},r=i(this.list());try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o.no]=o}}catch(e){r.e(e)}finally{r.f()}this.numbers=n}return this.numbers[e]}},{key:"list",value:function(){return this.all||(this.all=this._normalizer(this._fields)),this.all}},{key:"byNumber",value:function(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((function(e,t){return e.no-t.no}))),this.numbersAsc}},{key:"byMember",value:function(){if(!this.members){this.members=[];var e,t,n=this.members,r=i(this.list());try{for(r.s();!(t=r.n()).done;){var o=t.value;o.oneof?o.oneof!==e&&(e=o.oneof,n.push(e)):n.push(o)}}catch(e){r.e(e)}finally{r.f()}}return this.members}}]),e}();t.InternalFieldList=s},8074:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUnwrappedFieldType=t.wrapField=void 0;var r=n(8099),o=n(5758);t.wrapField=function(e,t){return t instanceof r.Message||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)},t.getUnwrappedFieldType=function(e){if("message"===e.fieldKind&&!e.repeated&&null==e.oneof)return i[e.message.typeName]};var i={"google.protobuf.DoubleValue":o.ScalarType.DOUBLE,"google.protobuf.FloatValue":o.ScalarType.FLOAT,"google.protobuf.Int64Value":o.ScalarType.INT64,"google.protobuf.UInt64Value":o.ScalarType.UINT64,"google.protobuf.Int32Value":o.ScalarType.INT32,"google.protobuf.UInt32Value":o.ScalarType.UINT32,"google.protobuf.BoolValue":o.ScalarType.BOOL,"google.protobuf.StringValue":o.ScalarType.STRING,"google.protobuf.BytesValue":o.ScalarType.BYTES}},8924:function(e,t,n){"use strict";var r=n(1313),o=n(6907);Object.defineProperty(t,"__esModule",{value:!0}),t.InternalOneofInfo=void 0;var i=n(9835),a=n(5307),s=function(){function e(t){r(this,e),this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=(0,i.localOneofName)(t)}return o(e,[{key:"addField",value:function(e){(0,a.assert)(e.oneof===this,"field ".concat(e.name," not one of ").concat(this.name)),this.fields.push(e)}},{key:"findField",value:function(e){if(!this._lookup){this._lookup=Object.create(null);for(var t=0;t<this.fields.length;t++)this._lookup[this.fields[t].localName]=this.fields[t]}return this._lookup[e]}}]),e}();t.InternalOneofInfo=s},8415:function(e,t,n){"use strict";var r=n(169),o=n(2952);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.makeJsonFormatCommon=void 0;var s=n(8099),u=n(5758),c=n(5307),l=n(1432),f=n(7649),p={ignoreUnknownFields:!1},d={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function m(e){return e?Object.assign(Object.assign({},p),e):p}function g(e){return e?Object.assign(Object.assign({},d),e):d}function v(e){if(null===e)return"null";switch(o(e)){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":'"'.concat(e.split('"').join('\\"'),'"');default:return e.toString()}}function y(e,t){switch(e){case u.ScalarType.DOUBLE:case u.ScalarType.FLOAT:if(null===t)return 0;if("NaN"===t)return Number.NaN;if("Infinity"===t)return Number.POSITIVE_INFINITY;if("-Infinity"===t)return Number.NEGATIVE_INFINITY;if(""===t)break;if("string"==typeof t&&t.trim().length!==t.length)break;if("string"!=typeof t&&"number"!=typeof t)break;var n=Number(t);if(Number.isNaN(n))break;if(!Number.isFinite(n))break;return e==u.ScalarType.FLOAT&&(0,c.assertFloat32)(n),n;case u.ScalarType.INT32:case u.ScalarType.FIXED32:case u.ScalarType.SFIXED32:case u.ScalarType.SINT32:case u.ScalarType.UINT32:if(null===t)return 0;var r;if("number"==typeof t?r=t:"string"==typeof t&&t.length>0&&t.trim().length===t.length&&(r=Number(t)),void 0===r)break;return e==u.ScalarType.UINT32?(0,c.assertUInt32)(r):(0,c.assertInt32)(r),r;case u.ScalarType.INT64:case u.ScalarType.SFIXED64:case u.ScalarType.SINT64:if(null===t)return l.protoInt64.zero;if("number"!=typeof t&&"string"!=typeof t)break;return l.protoInt64.parse(t);case u.ScalarType.FIXED64:case u.ScalarType.UINT64:if(null===t)return l.protoInt64.zero;if("number"!=typeof t&&"string"!=typeof t)break;return l.protoInt64.uParse(t);case u.ScalarType.BOOL:if(null===t)return!1;if("boolean"!=typeof t)break;return t;case u.ScalarType.STRING:if(null===t)return"";if("string"!=typeof t)break;try{encodeURIComponent(t)}catch(e){throw new Error("invalid UTF8")}return t;case u.ScalarType.BYTES:if(null===t||""===t)return new Uint8Array(0);if("string"!=typeof t)break;return f.protoBase64.dec(t)}throw new Error}function h(e,t,n){if(null===t)return 0;switch(o(t)){case"number":if(Number.isInteger(t))return t;break;case"string":var r=e.findName(t);if(r||n)return null==r?void 0:r.no}throw new Error("cannot decode enum ".concat(e.typeName," from JSON: ").concat(v(t)))}function _(e,t,n,r){var o;if(void 0===t)return t;if(0!==t||n){if(r)return t;if("google.protobuf.NullValue"==e.typeName)return null;var i=e.findNumber(t);return null!==(o=null==i?void 0:i.name)&&void 0!==o?o:t}}function T(e,t,n){if(void 0!==t)switch(e){case u.ScalarType.INT32:case u.ScalarType.SFIXED32:case u.ScalarType.SINT32:case u.ScalarType.FIXED32:case u.ScalarType.UINT32:return(0,c.assert)("number"==typeof t),0!=t||n?t:void 0;case u.ScalarType.FLOAT:case u.ScalarType.DOUBLE:return(0,c.assert)("number"==typeof t),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":0!==t||n?t:void 0;case u.ScalarType.STRING:return(0,c.assert)("string"==typeof t),t.length>0||n?t:void 0;case u.ScalarType.BOOL:return(0,c.assert)("boolean"==typeof t),t||n?t:void 0;case u.ScalarType.UINT64:case u.ScalarType.FIXED64:case u.ScalarType.INT64:case u.ScalarType.SFIXED64:case u.ScalarType.SINT64:return(0,c.assert)("bigint"==typeof t||"string"==typeof t||"number"==typeof t),n||0!=t?t.toString(10):void 0;case u.ScalarType.BYTES:return(0,c.assert)(t instanceof Uint8Array),n||t.byteLength>0?f.protoBase64.enc(t):void 0}}t.makeJsonFormatCommon=function(e){var t=e(_,T);return{makeReadOptions:m,makeWriteOptions:g,readMessage:function(e,t,n,a){if(null==t||Array.isArray(t)||"object"!=o(t))throw new Error("cannot decode message ".concat(e.typeName," from JSON: ").concat(this.debug(t)));a=null!=a?a:new e;for(var c={},l=0,f=Object.entries(t);l<f.length;l++){var p=r(f[l],2),d=p[0],m=p[1],g=e.fields.findJsonName(d);if(g){var v=g.localName,_=a;if(g.oneof){if(null===m&&"scalar"==g.kind)continue;var T=c[g.oneof.localName];if(T)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: multiple keys for oneof "').concat(g.oneof.name,'" present: "').concat(T,'", "').concat(d,'"'));c[g.oneof.localName]=d,_=_[g.oneof.localName]={case:v},v="value"}if(g.repeated){if(null===m)continue;if(!Array.isArray(m))throw new Error("cannot decode field ".concat(e.typeName,".").concat(g.name," from JSON: ").concat(this.debug(m)));var E,S=_[v],I=i(m);try{for(I.s();!(E=I.n()).done;){var b=E.value;if(null===b)throw new Error("cannot decode field ".concat(e.typeName,".").concat(g.name," from JSON: ").concat(this.debug(b)));var w=void 0;switch(g.kind){case"message":w=g.T.fromJson(b,n);break;case"enum":if(void 0===(w=h(g.T,b,n.ignoreUnknownFields)))continue;break;case"scalar":try{w=y(g.T,b)}catch(t){var P="cannot decode field ".concat(e.typeName,".").concat(g.name," from JSON: ").concat(this.debug(b));throw t instanceof Error&&t.message.length>0&&(P+=": ".concat(t.message)),new Error(P)}}S.push(w)}}catch(e){I.e(e)}finally{I.f()}}else if("map"==g.kind){if(null===m)continue;if(Array.isArray(m)||"object"!=o(m))throw new Error("cannot decode field ".concat(e.typeName,".").concat(g.name," from JSON: ").concat(this.debug(m)));for(var A=_[v],O=0,k=Object.entries(m);O<k.length;O++){var N=r(k[O],2),M=N[0],C=N[1];if(null===C)throw new Error("cannot decode field ".concat(e.typeName,".").concat(g.name," from JSON: map value null"));var R=void 0;switch(g.V.kind){case"message":R=g.V.T.fromJson(C,n);break;case"enum":if(void 0===(R=h(g.V.T,C,n.ignoreUnknownFields)))continue;break;case"scalar":try{R=y(g.V.T,C)}catch(t){var D="cannot decode map value for field ".concat(e.typeName,".").concat(g.name," from JSON: ").concat(this.debug(m));throw t instanceof Error&&t.message.length>0&&(D+=": ".concat(t.message)),new Error(D)}}try{A[y(g.K,g.K==u.ScalarType.BOOL?"true"==M||"false"!=M&&M:M).toString()]=R}catch(t){var L="cannot decode map key for field ".concat(e.typeName,".").concat(g.name," from JSON: ").concat(this.debug(m));throw t instanceof Error&&t.message.length>0&&(L+=": ".concat(t.message)),new Error(L)}}}else switch(g.kind){case"message":var U=g.T;if(null===m&&"google.protobuf.Value"!=U.typeName){if(g.oneof)throw new Error("cannot decode field ".concat(e.typeName,".").concat(g.name,' from JSON: null is invalid for oneof field "').concat(d,'"'));continue}_[v]instanceof s.Message?_[v].fromJson(m,n):(_[v]=U.fromJson(m,n),U.fieldWrapper&&!g.oneof&&(_[v]=U.fieldWrapper.unwrapField(_[v])));break;case"enum":var B=h(g.T,m,n.ignoreUnknownFields);void 0!==B&&(_[v]=B);break;case"scalar":try{_[v]=y(g.T,m)}catch(t){var F="cannot decode field ".concat(e.typeName,".").concat(g.name," from JSON: ").concat(this.debug(m));throw t instanceof Error&&t.message.length>0&&(F+=": ".concat(t.message)),new Error(F)}}}else if(!n.ignoreUnknownFields)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: key "').concat(d,'" is unknown'))}return a},writeMessage:function(e,n){var r,o=e.getType(),a={};try{var s,u=i(o.fields.byMember());try{for(u.s();!(s=u.n()).done;){var c=s.value,l=void 0;if("oneof"==c.kind){var f=e[c.localName];if(void 0===f.value)continue;if(!(r=c.findField(f.case)))throw"oneof case not found: "+f.case;l=t(r,f.value,n)}else l=t(r=c,e[r.localName],n);void 0!==l&&(a[n.useProtoFieldName?r.name:r.jsonName]=l)}}catch(e){u.e(e)}finally{u.f()}}catch(e){var p=r?"cannot encode field ".concat(o.typeName,".").concat(r.name," to JSON"):"cannot encode message ".concat(o.typeName," to JSON"),d=e instanceof Error?e.message:String(e);throw new Error(p+(d.length>0?": ".concat(d):""))}return a},readScalar:y,writeScalar:T,debug:v}}},4905:function(e,t,n){"use strict";var r=n(169);Object.defineProperty(t,"__esModule",{value:!0}),t.makeJsonFormatProto2=void 0;var o=n(8074),i=n(5307),a=n(8415);t.makeJsonFormatProto2=function(){return(0,a.makeJsonFormatCommon)((function(e,t){return function(n,a,s){if("map"==n.kind){var u={};switch(n.V.kind){case"scalar":for(var c=0,l=Object.entries(a);c<l.length;c++){var f=r(l[c],2),p=f[0],d=f[1],m=t(n.V.T,d,!0);(0,i.assert)(void 0!==m),u[p.toString()]=m}break;case"message":for(var g=0,v=Object.entries(a);g<v.length;g++){var y=r(v[g],2),h=y[0],_=y[1];u[h.toString()]=_.toJson(s)}break;case"enum":for(var T=n.V.T,E=0,S=Object.entries(a);E<S.length;E++){var I=r(S[E],2),b=I[0],w=I[1];(0,i.assert)(void 0===w||"number"==typeof w);var P=e(T,w,!0,s.enumAsInteger);(0,i.assert)(void 0!==P),u[b.toString()]=P}}return s.emitDefaultValues||Object.keys(u).length>0?u:void 0}if(n.repeated){var A=[];switch(n.kind){case"scalar":for(var O=0;O<a.length;O++)A.push(t(n.T,a[O],!0));break;case"enum":for(var k=0;k<a.length;k++)A.push(e(n.T,a[k],!0,s.enumAsInteger));break;case"message":for(var N=0;N<a.length;N++)A.push(a[N].toJson(s))}return s.emitDefaultValues||A.length>0?A:void 0}if(void 0!==a)switch(n.kind){case"scalar":return t(n.T,a,!0);case"enum":return e(n.T,a,!0,s.enumAsInteger);case"message":return(0,o.wrapField)(n.T,a).toJson(s)}else if(!n.oneof&&!n.opt)throw"required field not set"}}))}},7336:function(e,t,n){"use strict";var r=n(169);Object.defineProperty(t,"__esModule",{value:!0}),t.makeJsonFormatProto3=void 0;var o=n(8074),i=n(5307),a=n(8415);t.makeJsonFormatProto3=function(){return(0,a.makeJsonFormatCommon)((function(e,t){return function(n,a,s){if("map"==n.kind){var u={};switch(n.V.kind){case"scalar":for(var c=0,l=Object.entries(a);c<l.length;c++){var f=r(l[c],2),p=f[0],d=f[1],m=t(n.V.T,d,!0);(0,i.assert)(void 0!==m),u[p.toString()]=m}break;case"message":for(var g=0,v=Object.entries(a);g<v.length;g++){var y=r(v[g],2),h=y[0],_=y[1];u[h.toString()]=_.toJson(s)}break;case"enum":for(var T=n.V.T,E=0,S=Object.entries(a);E<S.length;E++){var I=r(S[E],2),b=I[0],w=I[1];(0,i.assert)(void 0===w||"number"==typeof w);var P=e(T,w,!0,s.enumAsInteger);(0,i.assert)(void 0!==P),u[b.toString()]=P}}return s.emitDefaultValues||Object.keys(u).length>0?u:void 0}if(n.repeated){var A=[];switch(n.kind){case"scalar":for(var O=0;O<a.length;O++)A.push(t(n.T,a[O],!0));break;case"enum":for(var k=0;k<a.length;k++)A.push(e(n.T,a[k],!0,s.enumAsInteger));break;case"message":for(var N=0;N<a.length;N++)A.push((0,o.wrapField)(n.T,a[N]).toJson(s))}return s.emitDefaultValues||A.length>0?A:void 0}switch(n.kind){case"scalar":return t(n.T,a,!!n.oneof||n.opt||s.emitDefaultValues);case"enum":return e(n.T,a,!!n.oneof||n.opt||s.emitDefaultValues,s.enumAsInteger);case"message":return void 0!==a?(0,o.wrapField)(n.T,a).toJson(s):void 0}}}))}},6383:function(e,t,n){"use strict";var r=n(3312);Object.defineProperty(t,"__esModule",{value:!0}),t.makeMessageType=void 0;var o=n(8099);t.makeMessageType=function(e,t,n,i){var a,s=null!==(a=null==i?void 0:i.localName)&&void 0!==a?a:t.substring(t.lastIndexOf(".")+1),u=r({},s,(function(t){e.util.initFields(this),e.util.initPartial(t,this)}))[s];return Object.setPrototypeOf(u.prototype,new o.Message),Object.assign(u,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary:function(e,t){return(new u).fromBinary(e,t)},fromJson:function(e,t){return(new u).fromJson(e,t)},fromJsonString:function(e,t){return(new u).fromJsonString(e,t)},equals:function(t,n){return e.util.equals(u,t,n)}}),u}},9835:function(e,t){"use strict";function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,n){var r=a(e);return n?r:(0,t.safeObjectProperty)(f(r))}function i(e){return o(e,!1)}function a(e){for(var t=!1,n=[],r=0;r<e.length;r++){var o=e.charAt(r);switch(o){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(o),t=!1;break;default:t&&(t=!1,o=o.toUpperCase()),n.push(o)}}return n.join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.safeIdentifier=t.safeObjectProperty=t.findEnumSharedPrefix=t.fieldJsonName=t.localOneofName=t.localFieldName=t.localName=void 0,t.localName=function(e){switch(e.kind){case"field":return o(e.name,void 0!==e.oneof);case"oneof":return i(e.name);case"enum":case"message":case"service":var n=e.file.proto.package,r=void 0===n?0:n.length+1,a=e.typeName.substring(r).replace(/\./g,"_");return(0,t.safeObjectProperty)((0,t.safeIdentifier)(a));case"enum_value":var s=e.parent.sharedPrefix;if(void 0===s)return e.name;var u=e.name.substring(s.length);return(0,t.safeObjectProperty)(u);case"rpc":var c=e.name;return 0==c.length?c:(c=c[0].toLowerCase()+c.substring(1),(0,t.safeObjectProperty)(c))}},t.localFieldName=o,t.localOneofName=i,t.fieldJsonName=a,t.findEnumSharedPrefix=function(e,t){var r,o,i=((r=e).substring(0,1)+r.substring(1).replace(/[A-Z]/g,(function(e){return"_"+e}))).toLowerCase()+"_",a=n(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(!s.toLowerCase().startsWith(i))return;var u=s.substring(i.length);if(0==u.length)return;if(/^\d/.test(u))return}}catch(e){a.e(e)}finally{a.f()}return i};var s=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","Object","bigint","number","boolean","string","object","globalThis","Uint8Array","Partial"]),u=new Set(["constructor","toString","toJSON","valueOf"]),c=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),l=function(e){return"".concat(e,"$")},f=function(e){return c.has(e)?l(e):e};t.safeObjectProperty=function(e){return u.has(e)?l(e):e};t.safeIdentifier=function(e){return s.has(e)?l(e):e}},4176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeProtoRuntime=void 0;var r=n(8975),o=n(6383);t.makeProtoRuntime=function(e,t,n,i){return{syntax:e,json:t,bin:n,util:i,makeMessageType:function(e,t,n){return(0,o.makeMessageType)(this,e,t,n)},makeEnum:r.makeEnum,makeEnumType:r.makeEnumType,getEnumType:r.getEnumType}}},2252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reifyWkt=void 0;var r=n(5758);t.reifyWkt=function(e){switch(e.typeName){case"google.protobuf.Any":var t=e.fields.find((function(e){return 1==e.number&&"scalar"==e.fieldKind&&e.scalar===r.ScalarType.STRING})),n=e.fields.find((function(e){return 2==e.number&&"scalar"==e.fieldKind&&e.scalar===r.ScalarType.BYTES}));if(t&&n)return{typeName:e.typeName,typeUrl:t,value:n};break;case"google.protobuf.Timestamp":var o=e.fields.find((function(e){return 1==e.number&&"scalar"==e.fieldKind&&e.scalar===r.ScalarType.INT64})),i=e.fields.find((function(e){return 2==e.number&&"scalar"==e.fieldKind&&e.scalar===r.ScalarType.INT32}));if(o&&i)return{typeName:e.typeName,seconds:o,nanos:i};break;case"google.protobuf.Duration":var a=e.fields.find((function(e){return 1==e.number&&"scalar"==e.fieldKind&&e.scalar===r.ScalarType.INT64})),s=e.fields.find((function(e){return 2==e.number&&"scalar"==e.fieldKind&&e.scalar===r.ScalarType.INT32}));if(a&&s)return{typeName:e.typeName,seconds:a,nanos:s};break;case"google.protobuf.Struct":var u=e.fields.find((function(e){return 1==e.number&&!e.repeated}));if("map"!==(null==u?void 0:u.fieldKind)||"message"!==u.mapValue.kind||"google.protobuf.Value"!==u.mapValue.message.typeName)break;return{typeName:e.typeName,fields:u};case"google.protobuf.Value":var c=e.oneofs.find((function(e){return"kind"===e.name})),l=e.fields.find((function(e){return 1==e.number&&e.oneof===c}));if("enum"!==(null==l?void 0:l.fieldKind)||"google.protobuf.NullValue"!==l.enum.typeName)return;var f=e.fields.find((function(e){return 2==e.number&&"scalar"==e.fieldKind&&e.scalar===r.ScalarType.DOUBLE&&e.oneof===c})),p=e.fields.find((function(e){return 3==e.number&&"scalar"==e.fieldKind&&e.scalar===r.ScalarType.STRING&&e.oneof===c})),d=e.fields.find((function(e){return 4==e.number&&"scalar"==e.fieldKind&&e.scalar===r.ScalarType.BOOL&&e.oneof===c})),m=e.fields.find((function(e){return 5==e.number&&e.oneof===c}));if("message"!==(null==m?void 0:m.fieldKind)||"google.protobuf.Struct"!==m.message.typeName)return;var g=e.fields.find((function(e){return 6==e.number&&e.oneof===c}));if("message"!==(null==g?void 0:g.fieldKind)||"google.protobuf.ListValue"!==g.message.typeName)return;if(c&&f&&p&&d)return{typeName:e.typeName,kind:c,nullValue:l,numberValue:f,stringValue:p,boolValue:d,structValue:m,listValue:g};break;case"google.protobuf.ListValue":var v=e.fields.find((function(e){return 1==e.number&&e.repeated}));if("message"!=(null==v?void 0:v.fieldKind)||"google.protobuf.Value"!==v.message.typeName)break;return{typeName:e.typeName,values:v};case"google.protobuf.FieldMask":var y=e.fields.find((function(e){return 1==e.number&&"scalar"==e.fieldKind&&e.scalar===r.ScalarType.STRING&&e.repeated}));if(y)return{typeName:e.typeName,paths:y};break;case"google.protobuf.DoubleValue":case"google.protobuf.FloatValue":case"google.protobuf.Int64Value":case"google.protobuf.UInt64Value":case"google.protobuf.Int32Value":case"google.protobuf.UInt32Value":case"google.protobuf.BoolValue":case"google.protobuf.StringValue":case"google.protobuf.BytesValue":var h=e.fields.find((function(e){return 1==e.number&&"value"==e.name}));if(!h)break;if("scalar"!==h.fieldKind)break;return{typeName:e.typeName,value:h}}}},2902:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scalarTypeInfo=t.scalarDefaultValue=t.scalarEquals=void 0;var r=n(5758),o=n(9173),i=n(1432);t.scalarEquals=function(e,t,n){if(t===n)return!0;if(e==r.ScalarType.BYTES){if(!(t instanceof Uint8Array&&n instanceof Uint8Array))return!1;if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(t[o]!==n[o])return!1;return!0}switch(e){case r.ScalarType.UINT64:case r.ScalarType.FIXED64:case r.ScalarType.INT64:case r.ScalarType.SFIXED64:case r.ScalarType.SINT64:return t==n}return!1},t.scalarDefaultValue=function(e){switch(e){case r.ScalarType.BOOL:return!1;case r.ScalarType.UINT64:case r.ScalarType.FIXED64:case r.ScalarType.INT64:case r.ScalarType.SFIXED64:case r.ScalarType.SINT64:return i.protoInt64.zero;case r.ScalarType.DOUBLE:case r.ScalarType.FLOAT:return 0;case r.ScalarType.BYTES:return new Uint8Array(0);case r.ScalarType.STRING:return"";default:return 0}},t.scalarTypeInfo=function(e,t){var n=void 0===t,i=o.WireType.Varint,a=0===t;switch(e){case r.ScalarType.STRING:a=n||!t.length,i=o.WireType.LengthDelimited;break;case r.ScalarType.BOOL:a=!1===t;break;case r.ScalarType.DOUBLE:i=o.WireType.Bit64;break;case r.ScalarType.FLOAT:i=o.WireType.Bit32;break;case r.ScalarType.INT64:case r.ScalarType.UINT64:a=n||0==t;break;case r.ScalarType.FIXED64:a=n||0==t,i=o.WireType.Bit64;break;case r.ScalarType.BYTES:a=n||!t.byteLength,i=o.WireType.LengthDelimited;break;case r.ScalarType.FIXED32:case r.ScalarType.SFIXED32:i=o.WireType.Bit32;break;case r.ScalarType.SFIXED64:a=n||0==t,i=o.WireType.Bit64;break;case r.ScalarType.SINT64:a=n||0==t}return[i,r.ScalarType[e].toLowerCase(),n||a]}},2968:function(e,t,n){"use strict";var r=n(169);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.makeUtilCommon=void 0;var a=n(8975),s=n(8099),u=n(5758),c=n(2902);function l(e,t){if(void 0===t)return t;if(t instanceof s.Message)return t.clone();if(t instanceof Uint8Array){var n=new Uint8Array(t.byteLength);return n.set(t),n}return t}t.makeUtilCommon=function(){return{setEnumType:a.setEnumType,initPartial:function(e,t){if(void 0!==e){var n,r=o(t.getType().fields.byMember());try{var i=function(){var r=n.value,o=r.localName,i=t,a=e;if(void 0===a[o])return"continue";switch(r.kind){case"oneof":var s=a[o].case;if(void 0===s)return"continue";var u=r.findField(s),c=a[o].value;!u||"message"!=u.kind||c instanceof u.T||(c=new u.T(c)),i[o]={case:s,value:c};break;case"scalar":case"enum":i[o]=a[o];break;case"map":switch(r.V.kind){case"scalar":case"enum":Object.assign(i[o],a[o]);break;case"message":for(var l=r.V.T,f=0,p=Object.keys(a[o]);f<p.length;f++){var d=p[f],m=a[o][d];l.fieldWrapper||(m=new l(m)),i[o][d]=m}}break;case"message":var g=r.T;if(r.repeated)i[o]=a[o].map((function(e){return e instanceof g?e:new g(e)}));else if(void 0!==a[o]){var v=a[o];g.fieldWrapper?i[o]=v:i[o]=v instanceof g?v:new g(v)}}};for(r.s();!(n=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}}},equals:function(e,t,n){return t===n||!(!t||!n)&&e.fields.byMember().every((function(e){var r=t[e.localName],o=n[e.localName];if(e.repeated){if(r.length!==o.length)return!1;switch(e.kind){case"message":return r.every((function(t,n){return e.T.equals(t,o[n])}));case"scalar":return r.every((function(t,n){return(0,c.scalarEquals)(e.T,t,o[n])}));case"enum":return r.every((function(e,t){return(0,c.scalarEquals)(u.ScalarType.INT32,e,o[t])}))}throw new Error("repeated cannot contain ".concat(e.kind))}switch(e.kind){case"message":return e.T.equals(r,o);case"enum":return(0,c.scalarEquals)(u.ScalarType.INT32,r,o);case"scalar":return(0,c.scalarEquals)(e.T,r,o);case"oneof":if(r.case!==o.case)return!1;var i=e.findField(r.case);if(void 0===i)return!0;switch(i.kind){case"message":return i.T.equals(r.value,o.value);case"enum":return(0,c.scalarEquals)(u.ScalarType.INT32,r.value,o.value);case"scalar":return(0,c.scalarEquals)(i.T,r.value,o.value)}throw new Error("oneof cannot contain ".concat(i.kind));case"map":var a=Object.keys(r).concat(Object.keys(o));switch(e.V.kind){case"message":var s=e.V.T;return a.every((function(e){return s.equals(r[e],o[e])}));case"enum":return a.every((function(e){return(0,c.scalarEquals)(u.ScalarType.INT32,r[e],o[e])}));case"scalar":var l=e.V.T;return a.every((function(e){return(0,c.scalarEquals)(l,r[e],o[e])}))}}}))},clone:function(e){var t,n=e.getType(),i=new n,a=i,s=o(n.fields.byMember());try{var u=function(){var n,o=t.value,i=e[o.localName];if(o.repeated)n=i.map((function(e){return l(o,e)}));else if("map"==o.kind){n=a[o.localName];for(var s=0,u=Object.entries(i);s<u.length;s++){var c=r(u[s],2),f=c[0],p=c[1];n[f]=l(o.V,p)}}else if("oneof"==o.kind){var d=o.findField(i.case);n=d?{case:i.case,value:l(d,i.value)}:{case:void 0}}else n=l(o,i);a[o.localName]=n};for(s.s();!(t=s.n()).done;)u()}catch(e){s.e(e)}finally{s.f()}return i}}}},7649:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.protoBase64=void 0;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),r=[],o=0;o<n.length;o++)r[n[o].charCodeAt(0)]=o;r["-".charCodeAt(0)]=n.indexOf("+"),r["_".charCodeAt(0)]=n.indexOf("/"),t.protoBase64={dec:function(e){var t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);for(var n,o=new Uint8Array(t),i=0,a=0,s=0,u=0;u<e.length;u++){if(void 0===(n=r[e.charCodeAt(u)]))switch(e[u]){case"=":a=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(a){case 0:s=n,a=1;break;case 1:o[i++]=s<<2|(48&n)>>4,s=n,a=2;break;case 2:o[i++]=(15&s)<<4|(60&n)>>2,s=n,a=3;break;case 3:o[i++]=(3&s)<<6|n,a=0}}if(1==a)throw Error("invalid base64 string.");return o.subarray(0,i)},enc:function(e){for(var t,r="",o=0,i=0,a=0;a<e.length;a++)switch(t=e[a],o){case 0:r+=n[t>>2],i=(3&t)<<4,o=1;break;case 1:r+=n[i|t>>4],i=(15&t)<<2,o=2;break;case 2:r+=n[i|t>>6],r+=n[63&t],o=0}return o&&(r+=n[i],r+="=",1==o&&(r+="=")),r}}},8132:function(e,t,n){"use strict";var r=n(2196),o=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},i=this&&this.__await||function(e){return this instanceof i?(this.v=e,this):new i(e)},a=this&&this.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{(n=o[e](t)).value instanceof i?Promise.resolve(n.value.v).then(c,l):f(a[0][2],n)}catch(e){f(a[0][3],e)}var n}function c(e){u("next",e)}function l(e){u("throw",e)}function f(e,t){e(t),a.shift(),a.length&&u(a[0][0],a[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.protoDelimited=void 0;var s=n(9493),u=n(9173);t.protoDelimited={enc:function(e,t){var n=(0,s.makeBinaryFormatCommon)().makeWriteOptions(t);return n.writerFactory().bytes(e.toBinary(n)).finish()},dec:function(e,t,n){var r=(0,s.makeBinaryFormatCommon)().makeReadOptions(n);return e.fromBinary(r.readerFactory(t).bytes(),r)},decStream:function(e,n){return a(this,arguments,r.mark((function a(){var s,u,c,l,f,p,d,m,g,v;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:f=function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e),n.set(t,e.length),n},p=new Uint8Array(0),r.prev=2,d=!0,m=o(n);case 4:return r.next=6,i(m.next());case 6:if(g=r.sent,s=g.done){r.next=31;break}l=g.value,d=!1,r.prev=11,p=f(p,l);case 14:if(!(v=t.protoDelimited.peekSize(p)).eof){r.next=17;break}return r.abrupt("break",26);case 17:if(!(v.offset+v.size>p.byteLength)){r.next=19;break}return r.abrupt("break",26);case 19:return r.next=21,i(t.protoDelimited.dec(e,p));case 21:return r.next=23,r.sent;case 23:p=p.subarray(v.offset+v.size);case 24:r.next=14;break;case 26:return r.prev=26,d=!0,r.finish(26);case 29:r.next=4;break;case 31:r.next=36;break;case 33:r.prev=33,r.t0=r.catch(2),u={error:r.t0};case 36:if(r.prev=36,r.prev=37,d||s||!(c=m.return)){r.next=41;break}return r.next=41,i(c.call(m));case 41:if(r.prev=41,!u){r.next=44;break}throw u.error;case 44:return r.finish(41);case 45:return r.finish(36);case 46:if(!(p.byteLength>0)){r.next=48;break}throw new Error("incomplete data");case 48:case"end":return r.stop()}}),a,null,[[2,33,36,46],[11,,26,29],[37,,41,45]])})))},peekSize:function(e){for(var t={eof:!0,size:null,offset:null},n=0;n<10;n++){if(n>e.byteLength)return t;if(0==(128&e[n])){var r=new u.BinaryReader(e),o=void 0;try{o=r.uint32()}catch(e){if(e instanceof RangeError)return t;throw e}return{eof:!1,size:o,offset:r.pos}}}throw new Error("invalid varint")}}},1432:function(e,t,n){"use strict";var r=n(2952);Object.defineProperty(t,"__esModule",{value:!0}),t.protoInt64=void 0;var o=n(5307),i=n(8724);t.protoInt64=function(){var e=new DataView(new ArrayBuffer(8));if(void 0!==globalThis.BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=("undefined"==typeof process?"undefined":r(process))||"object"!=r(process.env)||"1"!==process.env.BUF_BIGINT_DISABLE)){var t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),a=BigInt("0"),s=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse:function(e){var r="bigint"==typeof e?e:BigInt(e);if(r>n||r<t)throw new Error("int64 invalid: ".concat(e));return r},uParse:function(e){var t="bigint"==typeof e?e:BigInt(e);if(t>s||t<a)throw new Error("uint64 invalid: ".concat(e));return t},enc:function(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc:function(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:function(t,n){return e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigInt64(0,!0)},uDec:function(t,n){return e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigUint64(0,!0)}}}var u=function(e){return(0,o.assert)(/^-?[0-9]+$/.test(e),"int64 invalid: ".concat(e))},c=function(e){return(0,o.assert)(/^[0-9]+$/.test(e),"uint64 invalid: ".concat(e))};return{zero:"0",supported:!1,parse:function(e){return"string"!=typeof e&&(e=e.toString()),u(e),e},uParse:function(e){return"string"!=typeof e&&(e=e.toString()),c(e),e},enc:function(e){return"string"!=typeof e&&(e=e.toString()),u(e),(0,i.int64FromString)(e)},uEnc:function(e){return"string"!=typeof e&&(e=e.toString()),c(e),(0,i.int64FromString)(e)},dec:function(e,t){return(0,i.int64ToString)(e,t)},uDec:function(e,t){return(0,i.uInt64ToString)(e,t)}}}()},6581:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.proto2=void 0;var i=n(4176),a=n(6119),s=n(2968),u=n(1967),c=n(8924),l=n(9835),f=n(4905);function p(e){var t,n,o,i,a,s=[],u=r("function"==typeof e?e():e);try{for(u.s();!(a=u.n()).done;){var f=a.value,p=f;if(p.localName=(0,l.localFieldName)(f.name,void 0!==f.oneof),p.jsonName=null!==(t=f.jsonName)&&void 0!==t?t:(0,l.fieldJsonName)(f.name),p.repeated=null!==(n=f.repeated)&&void 0!==n&&n,p.packed=null!==(o=f.packed)&&void 0!==o&&o,void 0!==f.oneof){var d="string"==typeof f.oneof?f.oneof:f.oneof.name;i&&i.name==d||(i=new c.InternalOneofInfo(d)),p.oneof=i,i.addField(p)}s.push(p)}}catch(e){u.e(e)}finally{u.f()}return s}t.proto2=(0,i.makeProtoRuntime)("proto2",(0,f.makeJsonFormatProto2)(),(0,a.makeBinaryFormatProto2)(),Object.assign(Object.assign({},(0,s.makeUtilCommon)()),{newFieldList:function(e){return new u.InternalFieldList(e,p)},initFields:function(e){var t,n=r(e.getType().fields.byMember());try{for(n.s();!(t=n.n()).done;){var o=t.value,i=o.localName,a=e;if(o.repeated)a[i]=[];else switch(o.kind){case"oneof":a[i]={case:void 0};break;case"map":a[i]={}}}}catch(e){n.e(e)}finally{n.f()}}}))},7418:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.proto3=void 0;var i=n(4176),a=n(5091),s=n(7336),u=n(2968),c=n(1967),l=n(2902),f=n(5758),p=n(8924),d=n(9835);function m(e){var t,n,o,i,a,s=[],u=r("function"==typeof e?e():e);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=c;if(l.localName=(0,d.localFieldName)(c.name,void 0!==c.oneof),l.jsonName=null!==(t=c.jsonName)&&void 0!==t?t:(0,d.fieldJsonName)(c.name),l.repeated=null!==(n=c.repeated)&&void 0!==n&&n,l.packed=null!==(o=c.packed)&&void 0!==o?o:"enum"==c.kind||"scalar"==c.kind&&c.T!=f.ScalarType.BYTES&&c.T!=f.ScalarType.STRING,void 0!==c.oneof){var m="string"==typeof c.oneof?c.oneof:c.oneof.name;i&&i.name==m||(i=new p.InternalOneofInfo(m)),l.oneof=i,i.addField(l)}s.push(l)}}catch(e){u.e(e)}finally{u.f()}return s}t.proto3=(0,i.makeProtoRuntime)("proto3",(0,s.makeJsonFormatProto3)(),(0,a.makeBinaryFormatProto3)(),Object.assign(Object.assign({},(0,u.makeUtilCommon)()),{newFieldList:function(e){return new c.InternalFieldList(e,m)},initFields:function(e){var t,n=r(e.getType().fields.byMember());try{for(n.s();!(t=n.n()).done;){var o=t.value;if(!o.opt){var i=o.localName,a=e;if(o.repeated)a[i]=[];else switch(o.kind){case"oneof":a[i]={case:void 0};break;case"enum":a[i]=0;break;case"map":a[i]={};break;case"scalar":a[i]=(0,l.scalarDefaultValue)(o.T)}}}}catch(e){n.e(e)}finally{n.f()}}}))},9110:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MethodIdempotency=t.MethodKind=void 0,function(e){e[e.Unary=0]="Unary",e[e.ServerStreaming=1]="ServerStreaming",e[e.ClientStreaming=2]="ClientStreaming",e[e.BiDiStreaming=3]="BiDiStreaming"}(t.MethodKind||(t.MethodKind={})),function(e){e[e.NoSideEffects=1]="NoSideEffects",e[e.Idempotent=2]="Idempotent"}(t.MethodIdempotency||(t.MethodIdempotency={}))},9159:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();n(1689)}();